(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const bo="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bo);const Mi=1,Di=2,Ks=4,go=8,mo=16,yo=1,wo=2,Ys=4,po=8,xo=16,ko=1,So=2,To=4,Eo=1,Po=2,tt=Symbol(),Zs=!1;var cr=Array.isArray,Ni=Array.from,Ao=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,Qs=Object.getOwnPropertyDescriptors,Oo=Object.prototype,Co=Array.prototype,Mr=Object.getPrototypeOf;function Tn(n){return typeof n=="function"}const lt=()=>{};function Ro(n){return typeof(n==null?void 0:n.then)=="function"}function Io(n){return n()}function Dr(n){for(var e=0;e<n.length;e++)n[e]()}const Mt=2,Xs=4,ur=8,qr=16,Tt=32,dr=64,fn=128,Nr=256,Qe=512,tn=1024,Un=2048,zt=4096,hr=8192,ea=16384,fr=32768,Lo=65536,jo=1<<18,ta=1<<19,An=Symbol("$state"),$o=Symbol("");function na(n){return n===this.v}function Ui(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function Bi(n){return!Ui(n,this.v)}function zo(n){throw new Error("effect_in_teardown")}function Mo(){throw new Error("effect_in_unowned_derived")}function Do(n){throw new Error("effect_orphan")}function No(){throw new Error("effect_update_depth_exceeded")}function Uo(n){throw new Error("lifecycle_legacy_only")}function Bo(n){throw new Error("props_invalid_value")}function Ho(){throw new Error("state_descriptors_fixed")}function qo(){throw new Error("state_prototype_fixed")}function Fo(){throw new Error("state_unsafe_local_read")}function Vo(){throw new Error("state_unsafe_mutation")}function Ze(n){return{f:0,v:n,reactions:null,equals:na,version:0}}function $n(n,e=!1){var r;const t=Ze(n);return e||(t.equals=Bi),Pe!==null&&Pe.l!==null&&((r=Pe.l).s??(r.s=[])).push(t),t}function $(n,e=!1){return Go($n(n,e))}function Go(n){return De!==null&&De.f&Mt&&(It===null?Xo([n]):It.push(n)),n}function Ot(n,e){return x(n,Lt(()=>u(n))),e}function x(n,e){return De!==null&&br()&&De.f&(Mt|qr)&&(It===null||!It.includes(n))&&Vo(),On(n,e)}function On(n,e){return n.equals(e)||(n.v=e,n.version=ga(),ra(n,tn),br()&&Oe!==null&&Oe.f&Qe&&!(Oe.f&Tt)&&(Je!==null&&Je.includes(n)?(Et(Oe,tn),Vr(Oe)):en===null?el([n]):en.push(n))),e}function ra(n,e){var t=n.reactions;if(t!==null)for(var r=br(),i=t.length,s=0;s<i;s++){var a=t[s],o=a.f;o&tn||!r&&a===Oe||(Et(a,e),o&(Qe|fn)&&(o&Mt?ra(a,Un):Vr(a)))}}function Ur(n){var e=Mt|tn;Oe===null?e|=fn:Oe.f|=ta;const t={children:null,ctx:Pe,deps:null,equals:na,f:e,fn:n,reactions:null,v:null,version:0,parent:Oe};if(De!==null&&De.f&Mt){var r=De;(r.children??(r.children=[])).push(t)}return t}function Te(n){const e=Ur(n);return e.equals=Bi,e}function ia(n){var e=n.children;if(e!==null){n.children=null;for(var t=0;t<e.length;t+=1){var r=e[t];r.f&Mt?Hi(r):vn(r)}}}function sa(n){var e,t=Oe;it(n.parent);try{ia(n),e=ma(n)}finally{it(t)}return e}function aa(n){var e=sa(n),t=(Pn||n.f&fn)&&n.deps!==null?Un:Qe;Et(n,t),n.equals(e)||(n.v=e,n.version=ga())}function Hi(n){ia(n),ar(n,0),Et(n,hr),n.v=n.children=n.deps=n.ctx=n.reactions=null}function oa(n){Oe===null&&De===null&&Do(),De!==null&&De.f&fn&&Mo(),Vi&&zo()}function Wo(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Bn(n,e,t,r=!0){var i=(n&dr)!==0,s=Oe,a={ctx:Pe,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:n|tn,first:null,fn:e,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,version:0};if(t){var o=Cn;try{is(!0),gr(a),a.f|=ea}catch(d){throw vn(a),d}finally{is(o)}}else e!==null&&Vr(a);var l=t&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&ta)===0;if(!l&&!i&&r&&(s!==null&&Wo(a,s),De!==null&&De.f&Mt)){var c=De;(c.children??(c.children=[])).push(a)}return a}function qi(n){const e=Bn(ur,null,!1);return Et(e,Qe),e.teardown=n,e}function gi(n){oa();var e=Oe!==null&&(Oe.f&Tt)!==0&&Pe!==null&&!Pe.m;if(e){var t=Pe;(t.e??(t.e=[])).push({fn:n,effect:Oe,reaction:De})}else{var r=Fr(n);return r}}function Jo(n){return oa(),vr(n)}function Ko(n){const e=Bn(dr,n,!0);return()=>{vn(e)}}function Fr(n){return Bn(Xs,n,!1)}function D(n,e){var t=Pe,r={effect:null,ran:!1};t.l.r1.push(r),r.effect=vr(()=>{n(),!r.ran&&(r.ran=!0,x(t.l.r2,!0),Lt(e))})}function me(){var n=Pe;vr(()=>{if(u(n.l.r2)){for(var e of n.l.r1){var t=e.effect;t.f&Qe&&Et(t,Un),qn(t)&&gr(t),e.ran=!1}n.l.r2.v=!1}})}function vr(n){return Bn(ur,n,!0)}function R(n){return Hn(n)}function Hn(n,e=0){return Bn(ur|qr|e,n,!0)}function Rt(n,e=!0){return Bn(ur|Tt,n,!0,e)}function la(n){var e=n.teardown;if(e!==null){const t=Vi,r=De;ss(!0),ht(null);try{e.call(null)}finally{ss(t),ht(r)}}}function ca(n){var e=n.deriveds;if(e!==null){n.deriveds=null;for(var t=0;t<e.length;t+=1)Hi(e[t])}}function ua(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){var r=t.next;vn(t,e),t=r}}function Yo(n){for(var e=n.first;e!==null;){var t=e.next;e.f&Tt||vn(e),e=t}}function vn(n,e=!0){var t=!1;if((e||n.f&jo)&&n.nodes_start!==null){for(var r=n.nodes_start,i=n.nodes_end;r!==null;){var s=r===i?null:Wr(r);r.remove(),r=s}t=!0}ua(n,e&&!t),ca(n),ar(n,0),Et(n,hr);var a=n.transitions;if(a!==null)for(const l of a)l.stop();la(n);var o=n.parent;o!==null&&o.first!==null&&da(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.parent=n.fn=n.nodes_start=n.nodes_end=null}function da(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function Xt(n,e){var t=[];Fi(n,t,!0),ha(t,()=>{vn(n),e&&e()})}function ha(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var i of n)i.out(r)}else e()}function Fi(n,e,t){if(!(n.f&zt)){if(n.f^=zt,n.transitions!==null)for(const a of n.transitions)(a.is_global||t)&&e.push(a);for(var r=n.first;r!==null;){var i=r.next,s=(r.f&fr)!==0||(r.f&Tt)!==0;Fi(r,e,s?t:!1),r=i}}}function un(n){fa(n,!0)}function fa(n,e){if(n.f&zt){n.f^=zt,qn(n)&&gr(n);for(var t=n.first;t!==null;){var r=t.next,i=(t.f&fr)!==0||(t.f&Tt)!==0;fa(t,i?e:!1),t=r}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}let Br=!1,mi=[];function va(){Br=!1;const n=mi.slice();mi=[],Dr(n)}function _n(n){Br||(Br=!0,queueMicrotask(va)),mi.push(n)}function Zo(){Br&&va()}function _r(n){throw new Error("lifecycle_outside_component")}const _a=0,Qo=1;let Ir=_a,sr=!1,Cn=!1,Vi=!1;function is(n){Cn=n}function ss(n){Vi=n}let cn=[],Rn=0;let De=null;function ht(n){De=n}let Oe=null;function it(n){Oe=n}let It=null;function Xo(n){It=n}let Je=null,at=0,en=null;function el(n){en=n}let ba=0,Pn=!1,Pe=null;function as(n){Pe=n}function ga(){return++ba}function br(){return Pe!==null&&Pe.l===null}function qn(n){var a,o;var e=n.f;if(e&tn)return!0;if(e&Un){var t=n.deps,r=(e&fn)!==0;if(t!==null){var i;if(e&Nr){for(i=0;i<t.length;i++)((a=t[i]).reactions??(a.reactions=[])).push(n);n.f^=Nr}for(i=0;i<t.length;i++){var s=t[i];if(qn(s)&&aa(s),r&&Oe!==null&&!Pn&&!((o=s==null?void 0:s.reactions)!=null&&o.includes(n))&&(s.reactions??(s.reactions=[])).push(n),s.version>n.version)return!0}}r||Et(n,Qe)}return!1}function tl(n,e,t){throw n}function ma(n){var f;var e=Je,t=at,r=en,i=De,s=Pn,a=It,o=Pe,l=n.f;Je=null,at=0,en=null,De=l&(Tt|dr)?null:n,Pn=!Cn&&(l&fn)!==0,It=null,Pe=n.ctx;try{var c=(0,n.fn)(),d=n.deps;if(Je!==null){var h;if(ar(n,at),d!==null&&at>0)for(d.length=at+Je.length,h=0;h<Je.length;h++)d[at+h]=Je[h];else n.deps=d=Je;if(!Pn)for(h=at;h<d.length;h++)((f=d[h]).reactions??(f.reactions=[])).push(n)}else d!==null&&at<d.length&&(ar(n,at),d.length=at);return c}finally{Je=e,at=t,en=r,De=i,Pn=s,It=a,Pe=o}}function nl(n,e){let t=e.reactions;if(t!==null){var r=t.indexOf(n);if(r!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[r]=t[i],t.pop())}}t===null&&e.f&Mt&&(Je===null||!Je.includes(e))&&(Et(e,Un),e.f&(fn|Nr)||(e.f^=Nr),ar(e,0))}function ar(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)nl(n,t[r])}function gr(n){var e=n.f;if(!(e&hr)){Et(n,Qe);var t=Oe;Oe=n;try{e&qr?Yo(n):ua(n),ca(n),la(n);var r=ma(n);n.teardown=typeof r=="function"?r:null,n.version=ba}catch(i){tl(i)}finally{Oe=t}}}function ya(){Rn>1e3&&(Rn=0,No()),Rn++}function wa(n){var e=n.length;if(e!==0){ya();var t=Cn;Cn=!0;try{for(var r=0;r<e;r++){var i=n[r];i.f&Qe||(i.f^=Qe);var s=[];pa(i,s),rl(s)}}finally{Cn=t}}}function rl(n){var e=n.length;if(e!==0)for(var t=0;t<e;t++){var r=n[t];!(r.f&(hr|zt))&&qn(r)&&(gr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?da(r):r.fn=null))}}function il(){if(sr=!1,Rn>1001)return;const n=cn;cn=[],wa(n),sr||(Rn=0)}function Vr(n){Ir===_a&&(sr||(sr=!0,queueMicrotask(il)));for(var e=n;e.parent!==null;){e=e.parent;var t=e.f;if(t&(dr|Tt)){if(!(t&Qe))return;e.f^=Qe}}cn.push(e)}function pa(n,e){var t=n.first,r=[];e:for(;t!==null;){var i=t.f,s=(i&Tt)!==0,a=s&&(i&Qe)!==0;if(!a&&!(i&zt))if(i&ur){s?t.f^=Qe:qn(t)&&gr(t);var o=t.first;if(o!==null){t=o;continue}}else i&Xs&&r.push(t);var l=t.next;if(l===null){let h=t.parent;for(;h!==null;){if(n===h)break e;var c=h.next;if(c!==null){t=c;continue e}h=h.parent}}t=l}for(var d=0;d<r.length;d++)o=r[d],e.push(o),pa(o,e)}function Gi(n){var e=Ir,t=cn;try{ya();const i=[];Ir=Qo,cn=i,sr=!1,wa(t);var r=n==null?void 0:n();return Zo(),(cn.length>0||i.length>0)&&Gi(),Rn=0,r}finally{Ir=e,cn=t}}async function os(){await Promise.resolve(),Gi()}function u(n){var o;var e=n.f,t=(e&Mt)!==0;if(t&&e&hr){var r=sa(n);return Hi(n),r}if(De!==null){It!==null&&It.includes(n)&&Fo();var i=De.deps;Je===null&&i!==null&&i[at]===n?at++:Je===null?Je=[n]:Je.push(n),en!==null&&Oe!==null&&Oe.f&Qe&&!(Oe.f&Tt)&&en.includes(n)&&(Et(Oe,tn),Vr(Oe))}else if(t&&n.deps===null){var s=n,a=s.parent;a!==null&&!((o=a.deriveds)!=null&&o.includes(s))&&(a.deriveds??(a.deriveds=[])).push(s)}return t&&(s=n,qn(s)&&aa(s)),n.v}function Lt(n){const e=De;try{return De=null,n()}finally{De=e}}const sl=~(tn|Un|Qe);function Et(n,e){n.f=n.f&sl|e}function kt(n){return xa().get(n)}function In(n,e){return xa().set(n,e),e}function xa(n){return Pe===null&&_r(),Pe.c??(Pe.c=new Map(al(Pe)||void 0))}function al(n){let e=n.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}function ls(n,e=1){var t=+u(n);return x(n,t+e),t}function he(n,e=!1,t){Pe={p:Pe,c:null,e:null,m:!1,s:n,x:null,l:null},e||(Pe.l={s:null,u:null,r1:[],r2:Ze(!1)})}function fe(n){const e=Pe;if(e!==null){const a=e.e;if(a!==null){var t=Oe,r=De;e.e=null;try{for(var i=0;i<a.length;i++){var s=a[i];it(s.effect),ht(s.reaction),Fr(s.fn)}}finally{it(t),ht(r)}}Pe=e.p,e.m=!0}return{}}function T(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(An in n)yi(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&An in t&&yi(t)}}}function yi(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{yi(n[r],e)}catch{}const t=Mr(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=Qs(t);for(let i in r){const s=r[i].get;if(s)try{s.call(n)}catch{}}}}}function En(n,e=null,t){if(typeof n!="object"||n===null||An in n)return n;const r=Mr(n);if(r!==Oo&&r!==Co)return n;var i=new Map,s=cr(n),a=Ze(0);s&&i.set("length",Ze(n.length));var o;return new Proxy(n,{defineProperty(l,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Ho();var h=i.get(c);return h===void 0?(h=Ze(d.value),i.set(c,h)):x(h,En(d.value,o)),!0},deleteProperty(l,c){var d=i.get(c);if(d===void 0)c in l&&i.set(c,Ze(tt));else{if(s&&typeof c=="string"){var h=i.get("length"),f=Number(c);Number.isInteger(f)&&f<h.v&&x(h,f)}x(d,tt),cs(a)}return!0},get(l,c,d){var m;if(c===An)return n;var h=i.get(c),f=c in l;if(h===void 0&&(!f||(m=Qt(l,c))!=null&&m.writable)&&(h=Ze(En(f?l[c]:tt,o)),i.set(c,h)),h!==void 0){var _=u(h);return _===tt?void 0:_}return Reflect.get(l,c,d)},getOwnPropertyDescriptor(l,c){var d=Reflect.getOwnPropertyDescriptor(l,c);if(d&&"value"in d){var h=i.get(c);h&&(d.value=u(h))}else if(d===void 0){var f=i.get(c),_=f==null?void 0:f.v;if(f!==void 0&&_!==tt)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return d},has(l,c){var _;if(c===An)return!0;var d=i.get(c),h=d!==void 0&&d.v!==tt||Reflect.has(l,c);if(d!==void 0||Oe!==null&&(!h||(_=Qt(l,c))!=null&&_.writable)){d===void 0&&(d=Ze(h?En(l[c],o):tt),i.set(c,d));var f=u(d);if(f===tt)return!1}return h},set(l,c,d,h){var A;var f=i.get(c),_=c in l;if(s&&c==="length")for(var m=d;m<f.v;m+=1){var y=i.get(m+"");y!==void 0?x(y,tt):m in l&&(y=Ze(tt),i.set(m+"",y))}f===void 0?(!_||(A=Qt(l,c))!=null&&A.writable)&&(f=Ze(void 0),x(f,En(d,o)),i.set(c,f)):(_=f.v!==tt,x(f,En(d,o)));var S=Reflect.getOwnPropertyDescriptor(l,c);if(S!=null&&S.set&&S.set.call(h,d),!_){if(s&&typeof c=="string"){var w=i.get("length"),p=Number(c);Number.isInteger(p)&&p>=w.v&&x(w,p+1)}cs(a)}return!0},ownKeys(l){u(a);var c=Reflect.ownKeys(l).filter(f=>{var _=i.get(f);return _===void 0||_.v!==tt});for(var[d,h]of i)h.v!==tt&&!(d in l)&&c.push(d);return c},setPrototypeOf(){qo()}})}function cs(n,e=1){x(n,n.v+e)}var us,ka,Sa;function ol(){if(us===void 0){us=window;var n=Element.prototype,e=Node.prototype;ka=Qt(e,"firstChild").get,Sa=Qt(e,"nextSibling").get,n.__click=void 0,n.__className="",n.__attributes=null,n.__styles=null,n.__e=void 0,Text.prototype.__t=void 0}}function Gr(n=""){return document.createTextNode(n)}function zn(n){return ka.call(n)}function Wr(n){return Sa.call(n)}function k(n,e){return zn(n)}function ee(n,e){{var t=zn(n);return t instanceof Comment&&t.data===""?Wr(t):t}}function B(n,e=1,t=!1){let r=n;for(;e--;)r=Wr(r);return r}function ll(n){n.textContent=""}let Ta=!1;const Ea=new Set,wi=new Set;function pi(n,e,t,r){function i(s){if(r.capture||tr.call(e,s),!s.cancelBubble){var a=De,o=Oe;ht(null),it(null);try{return t.call(this,s)}finally{ht(a),it(o)}}}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?_n(()=>{e.addEventListener(n,i,r)}):e.addEventListener(n,i,r),i}function P(n,e,t,r,i){var s={capture:r,passive:i},a=pi(n,e,t,s);(e===document.body||e===window||e===document)&&qi(()=>{e.removeEventListener(n,a,s)})}function cl(n){for(var e=0;e<n.length;e++)Ea.add(n[e]);for(var t of wi)t(n)}function tr(n){var p;var e=this,t=e.ownerDocument,r=n.type,i=((p=n.composedPath)==null?void 0:p.call(n))||[],s=i[0]||n.target,a=0,o=n.__root;if(o){var l=i.indexOf(o);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var c=i.indexOf(e);if(c===-1)return;l<=c&&(a=l)}if(s=i[a]||n.target,s!==e){Ao(n,"currentTarget",{configurable:!0,get(){return s||t}});var d=De,h=Oe;ht(null),it(null);try{for(var f,_=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var y=s["__"+r];if(y!==void 0&&!s.disabled)if(cr(y)){var[S,...w]=y;S.apply(s,[n,...w])}else y.call(s,n)}catch(A){f?_.push(A):f=A}if(n.cancelBubble||m===e||m===null)break;s=m}if(f){for(let A of _)queueMicrotask(()=>{throw A});throw f}}finally{n.__root=e,delete n.currentTarget,ht(d),it(h)}}}function Pa(n){var e=document.createElement("template");return e.innerHTML=n,e.content}function or(n,e){var t=Oe;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function N(n,e){var t=(e&Eo)!==0,r=(e&Po)!==0,i,s=!n.startsWith("<!>");return()=>{i===void 0&&(i=Pa(s?n:"<!>"+n),t||(i=zn(i)));var a=r?document.importNode(i,!0):i.cloneNode(!0);if(t){var o=zn(a),l=a.lastChild;or(o,l)}else or(a,a);return a}}function we(n,e,t="svg"){var r=!n.startsWith("<!>"),i=`<${t}>${r?n:"<!>"+n}</${t}>`,s;return()=>{if(!s){var a=Pa(i),o=zn(a);s=zn(o)}var l=s.cloneNode(!0);return or(l,l),l}}function Ee(n=""){{var e=Gr(n+"");return or(e,e),e}}function be(){var n=document.createDocumentFragment(),e=document.createComment(""),t=Gr();return n.append(e,t),or(e,t),n}function g(n,e){n!==null&&n.before(e)}function ul(n){return n.endsWith("capture")&&n!=="gotpointercapture"&&n!=="lostpointercapture"}const dl=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function hl(n){return dl.includes(n)}const fl={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function vl(n){return n=n.toLowerCase(),fl[n]??n}const _l=["touchstart","touchmove"];function bl(n){return _l.includes(n)}let xi=!0;function Q(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=t,n.nodeValue=t==null?"":t+"")}function gl(n,e){return ml(n,e)}const wn=new Map;function ml(n,{target:e,anchor:t,props:r={},events:i,context:s,intro:a=!0}){ol();var o=new Set,l=h=>{for(var f=0;f<h.length;f++){var _=h[f];if(!o.has(_)){o.add(_);var m=bl(_);e.addEventListener(_,tr,{passive:m});var y=wn.get(_);y===void 0?(document.addEventListener(_,tr,{passive:m}),wn.set(_,1)):wn.set(_,y+1)}}};l(Ni(Ea)),wi.add(l);var c=void 0,d=Ko(()=>{var h=t??e.appendChild(Gr());return Rt(()=>{if(s){he({});var f=Pe;f.c=s}i&&(r.$$events=i),xi=a,c=n(h,r)||{},xi=!0,s&&fe()}),()=>{var m;for(var f of o){e.removeEventListener(f,tr);var _=wn.get(f);--_===0?(document.removeEventListener(f,tr),wn.delete(f)):wn.set(f,_)}wi.delete(l),ds.delete(c),h!==t&&((m=h.parentNode)==null||m.removeChild(h))}});return ds.set(c,d),c}let ds=new WeakMap;const ii=0,Sr=1,si=2;function yl(n,e,t,r,i){var s=n,a=br(),o=Pe,l,c,d,h,f=(a?Ze:$n)(void 0),_=(a?Ze:$n)(void 0),m=!1;function y(w,p){m=!0,p&&(it(S),ht(S),as(o)),w===ii&&t&&(c?un(c):c=Rt(()=>t(s))),w===Sr&&r&&(d?un(d):d=Rt(()=>r(s,f))),w===si&&i&&(h?un(h):h=Rt(()=>i(s,_))),w!==ii&&c&&Xt(c,()=>c=null),w!==Sr&&d&&Xt(d,()=>d=null),w!==si&&h&&Xt(h,()=>h=null),p&&(as(null),ht(null),it(null),Gi())}var S=Hn(()=>{if(l!==(l=e())){if(Ro(l)){var w=l;m=!1,w.then(p=>{w===l&&(On(f,p),y(Sr,!0))},p=>{if(w===l)throw On(_,p),y(si,!0),_.v}),_n(()=>{m||y(ii,!0)})}else On(f,l),y(Sr,!1);return()=>l=null}})}function U(n,e,t,r=null,i=!1){var s=n,a=null,o=null,l=null,c=i?fr:0;Hn(()=>{l!==(l=!!e())&&(l?(a?un(a):a=Rt(()=>t(s)),o&&Xt(o,()=>{o=null})):(o?un(o):r&&(o=Rt(()=>r(s))),a&&Xt(a,()=>{a=null})))},c)}function wl(n,e,t){var r=n,i=tt,s;Hn(()=>{Ui(i,i=e())&&(s&&Xt(s),s=Rt(()=>t(r)))})}let ai=null;function Lr(n,e){return e}function pl(n,e,t,r){for(var i=[],s=e.length,a=0;a<s;a++)Fi(e[a].e,i,!0);var o=s>0&&i.length===0&&t!==null;if(o){var l=t.parentNode;ll(l),l.append(t),r.clear(),Wt(n,e[0].prev,e[s-1].next)}ha(i,()=>{for(var c=0;c<s;c++){var d=e[c];o||(r.delete(d.k),Wt(n,d.prev,d.next)),vn(d.e,!o)}})}function dn(n,e,t,r,i,s=null){var a=n,o={flags:e,items:new Map,first:null},l=(e&Ks)!==0;if(l){var c=n;a=c.appendChild(Gr())}var d=null,h=!1;Hn(()=>{var f=t(),_=cr(f)?f:f==null?[]:Ni(f),m=_.length;h&&m===0||(h=m===0,xl(_,o,a,i,e,r),s!==null&&(m===0?d?un(d):d=Rt(()=>s(a)):d!==null&&Xt(d,()=>{d=null})),t())})}function xl(n,e,t,r,i,s){var J,M,F,V;var a=(i&go)!==0,o=(i&(Mi|Di))!==0,l=n.length,c=e.items,d=e.first,h=d,f,_=null,m,y=[],S=[],w,p,A,j;if(a)for(j=0;j<l;j+=1)w=n[j],p=s(w,j),A=c.get(p),A!==void 0&&((J=A.a)==null||J.measure(),(m??(m=new Set)).add(A));for(j=0;j<l;j+=1){if(w=n[j],p=s(w,j),A=c.get(p),A===void 0){var I=h?h.e.nodes_start:t;_=Sl(I,e,_,_===null?e.first:_.next,w,p,j,r,i),c.set(p,_),y=[],S=[],h=_.next;continue}if(o&&kl(A,w,j,i),A.e.f&zt&&(un(A.e),a&&((M=A.a)==null||M.unfix(),(m??(m=new Set)).delete(A))),A!==h){if(f!==void 0&&f.has(A)){if(y.length<S.length){var W=S[0],z;_=W.prev;var L=y[0],O=y[y.length-1];for(z=0;z<y.length;z+=1)hs(y[z],W,t);for(z=0;z<S.length;z+=1)f.delete(S[z]);Wt(e,L.prev,O.next),Wt(e,_,L),Wt(e,O,W),h=W,_=O,j-=1,y=[],S=[]}else f.delete(A),hs(A,h,t),Wt(e,A.prev,A.next),Wt(e,A,_===null?e.first:_.next),Wt(e,_,A),_=A;continue}for(y=[],S=[];h!==null&&h.k!==p;)h.e.f&zt||(f??(f=new Set)).add(h),S.push(h),h=h.next;if(h===null)continue;A=h}y.push(A),_=A,h=A.next}if(h!==null||f!==void 0){for(var E=f===void 0?[]:Ni(f);h!==null;)h.e.f&zt||E.push(h),h=h.next;var G=E.length;if(G>0){var q=i&Ks&&l===0?t:null;if(a){for(j=0;j<G;j+=1)(F=E[j].a)==null||F.measure();for(j=0;j<G;j+=1)(V=E[j].a)==null||V.fix()}pl(e,E,q,c)}}a&&_n(()=>{var K;if(m!==void 0)for(A of m)(K=A.a)==null||K.apply()}),Oe.first=e.first&&e.first.e,Oe.last=_&&_.e}function kl(n,e,t,r){r&Mi&&On(n.v,e),r&Di?On(n.i,t):n.i=t}function Sl(n,e,t,r,i,s,a,o,l){var c=ai;try{var d=(l&Mi)!==0,h=(l&mo)===0,f=d?h?$n(i):Ze(i):i,_=l&Di?Ze(a):a,m={i:_,v:f,k:s,a:null,e:null,prev:t,next:r};return ai=m,m.e=Rt(()=>o(n,f,_),Ta),m.e.prev=t&&t.e,m.e.next=r&&r.e,t===null?e.first=m:(t.next=m,t.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{ai=c}}function hs(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==r;){var a=Wr(s);i.before(s),s=a}}function Wt(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function ue(n,e,t,r,i){var o;var s=(o=e.$$slots)==null?void 0:o[t],a=!1;s===!0&&(s=e[t==="default"?"children":t],a=!0),s===void 0?i!==null&&i(n):s(n,a?()=>r:r)}function nn(n){const e={};n.children&&(e.default=!0);for(const t in n.$$slots)e[t]=!0;return e}function St(n,e,t){var r=n,i,s;Hn(()=>{i!==(i=e())&&(s&&(Xt(s),s=null),i&&(s=Rt(()=>t(r,i))))},fr)}function Tl(n,e){if(e){const t=document.body;n.autofocus=!0,_n(()=>{document.activeElement===t&&n.focus()})}}let fs=!1;function El(){fs||(fs=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Pl(n,e){var t=n.__attributes??(n.__attributes={});t.value===(t.value=e)||n.value===e&&(e!==0||n.nodeName!=="PROGRESS")||(n.value=e)}function Al(n,e){var t=n.__attributes??(n.__attributes={});t.checked!==(t.checked=e)&&(n.checked=e)}function ce(n,e,t,r){var i=n.__attributes??(n.__attributes={});i[e]!==(i[e]=t)&&(e==="style"&&"__styles"in n&&(n.__styles={}),e==="loading"&&(n[$o]=t),t==null?n.removeAttribute(e):typeof t!="string"&&Aa(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function de(n,e,t,r,i=!1,s=!1,a=!1){var o=e||{},l=n.tagName==="OPTION";for(var c in e)c in t||(t[c]=null);var d=Aa(n),h=n.__attributes??(n.__attributes={}),f=[];for(const w in t){let p=t[w];if(l&&w==="value"&&p==null){n.value=n.__value="",o[w]=p;continue}var _=o[w];if(p!==_){o[w]=p;var m=w[0]+w[1];if(m!=="$$"){if(m==="on"){const A={},j="$$"+w;let I=w.slice(2);var y=hl(I);if(ul(I)&&(I=I.slice(0,-7),A.capture=!0),!y&&_){if(p!=null)continue;n.removeEventListener(I,o[j],A),o[j]=null}if(p!=null)if(y)n[`__${I}`]=p,cl([I]);else{let W=function(z){o[w].call(this,z)};e?o[j]=pi(I,n,W,A):f.push([w,p,()=>o[j]=pi(I,n,W,A)])}}else if(w==="style"&&p!=null)n.style.cssText=p+"";else if(w==="autofocus")Tl(n,!!p);else if(w==="__value"||w==="value"&&p!=null)n.value=n[w]=n.__value=p;else{var S=w;i||(S=vl(S)),p==null&&!s?(h[w]=null,n.removeAttribute(w)):d.includes(S)&&(s||typeof p!="string")?n[S]=p:typeof p!="function"&&ce(n,S,p)}w==="style"&&"__styles"in n&&(n.__styles={})}}}return e||_n(()=>{if(n.isConnected)for(const[w,p,A]of f)o[w]===p&&A()}),o}var vs=new Map;function Aa(n){var e=vs.get(n.nodeName);if(e)return e;vs.set(n.nodeName,e=[]);for(var t,r=Mr(n),i=Element.prototype;i!==r;){t=Qs(r);for(var s in t)t[s].set&&e.push(s);r=Mr(r)}return e}function Oa(n,e){var t=n.__className,r=Ol(e);(t!==r||Ta)&&(e==null?n.removeAttribute("class"):n.className=r,n.__className=r)}function Ol(n){return n??""}function b(n,e,t){if(t){if(n.classList.contains(e))return;n.classList.add(e)}else{if(!n.classList.contains(e))return;n.classList.remove(e)}}function Ca(n,e,t,r){var i=n.__styles??(n.__styles={});i[e]!==t&&(i[e]=t,t==null?n.style.removeProperty(e):n.style.setProperty(e,t,""))}const Cl=()=>performance.now(),Zt={tick:n=>requestAnimationFrame(n),now:()=>Cl(),tasks:new Set};function Ra(n){Zt.tasks.forEach(e=>{e.c(n)||(Zt.tasks.delete(e),e.f())}),Zt.tasks.size!==0&&Zt.tick(Ra)}function Rl(n){let e;return Zt.tasks.size===0&&Zt.tick(Ra),{promise:new Promise(t=>{Zt.tasks.add(e={c:n,f:t})}),abort(){Zt.tasks.delete(e)}}}function Tr(n,e){n.dispatchEvent(new CustomEvent(e))}function Il(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function _s(n){const e={},t=n.split(";");for(const r of t){const[i,s]=r.split(":");if(!i||s===void 0)break;const a=Il(i.trim());e[a]=s.trim()}return e}const Ll=n=>n;function bs(n,e,t,r){var i=(n&ko)!==0,s=(n&So)!==0,a=i&&s,o=(n&To)!==0,l=a?"both":i?"in":"out",c,d=e.inert,h,f;function _(){var p=De,A=Oe;ht(null),it(null);try{return c??(c=t()(e,(r==null?void 0:r())??{},{direction:l}))}finally{ht(p),it(A)}}var m={is_global:o,in(){var p;if(e.inert=d,!i){f==null||f.abort(),(p=f==null?void 0:f.reset)==null||p.call(f);return}s||h==null||h.abort(),Tr(e,"introstart"),h=ki(e,_(),f,1,()=>{Tr(e,"introend"),h==null||h.abort(),h=c=void 0})},out(p){if(!s){p==null||p(),c=void 0;return}e.inert=!0,Tr(e,"outrostart"),f=ki(e,_(),h,0,()=>{Tr(e,"outroend"),p==null||p()})},stop:()=>{h==null||h.abort(),f==null||f.abort()}},y=Oe;if((y.transitions??(y.transitions=[])).push(m),i&&xi){var S=o;if(!S){for(var w=y.parent;w&&w.f&fr;)for(;(w=w.parent)&&!(w.f&qr););S=!w||(w.f&ea)!==0}S&&Fr(()=>{Lt(()=>m.in())})}}function ki(n,e,t,r,i){var s=r===1;if(Tn(e)){var a,o=!1;return _n(()=>{if(!o){var S=e({direction:s?"in":"out"});a=ki(n,S,t,r,i)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:lt,deactivate:lt,reset:lt,t:()=>r};const{delay:l=0,css:c,tick:d,easing:h=Ll}=e;var f=[];if(s&&t===void 0&&(d&&d(0,1),c)){var _=_s(c(0,1));f.push(_,_)}var m=()=>1-r,y=n.animate(f,{duration:l});return y.onfinish=()=>{var S=(t==null?void 0:t.t())??1-r;t==null||t.abort();var w=r-S,p=e.duration*Math.abs(w),A=[];if(p>0){if(c)for(var j=Math.ceil(p/16.666666666666668),I=0;I<=j;I+=1){var W=S+w*h(I/j),z=c(W,1-W);A.push(_s(z))}m=()=>{var L=y.currentTime;return S+w*h(L/p)},d&&Rl(()=>{if(y.playState!=="running")return!1;var L=m();return d(L,1-L),!0})}y=n.animate(A,{duration:p,fill:"forwards"}),y.onfinish=()=>{m=()=>r,d==null||d(r,1-r),i()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=lt)},deactivate:()=>{i=lt},reset:()=>{r===0&&(d==null||d(1,0))},t:()=>m()}}function jl(n,e,t,r=!0){r&&t();for(var i of e)n.addEventListener(i,t);qi(()=>{for(var s of e)n.removeEventListener(s,t)})}function $l(n,e,t,r=t){n.addEventListener(e,t);const i=n.__on_r;i?n.__on_r=()=>{i(),r()}:n.__on_r=r,El()}function Wi(n,e,t=e){var r=br();$l(n,"input",()=>{var i=gs(n)?ms(n.value):n.value;t(i),r&&i!==(i=e())&&(n.value=i??"")}),vr(()=>{var i=e();gs(n)&&i===ms(n.value)||n.type==="date"&&!i&&!n.value||i!==n.value&&(n.value=i??"")})}function gs(n){var e=n.type;return e==="number"||e==="range"}function ms(n){return n===""?null:+n}function ys(n,e){return n===e||(n==null?void 0:n[An])===e}function qe(n={},e,t,r){return Fr(()=>{var i,s;return vr(()=>{i=s,s=[],Lt(()=>{n!==t(...s)&&(e(n,...s),i&&ys(t(...i),n)&&e(null,...i))})}),()=>{_n(()=>{s&&ys(t(...s),n)&&e(null,...s)})}}),n}function zl(n,e){jl(window,["resize"],()=>e(window[n]))}function Si(n){return function(...e){var t=e[0];return t.stopPropagation(),n==null?void 0:n.apply(this,e)}}function _e(n=!1){const e=Pe,t=e.l.u;if(!t)return;let r=()=>T(e.s);if(n){let i=0,s={};const a=Ur(()=>{let o=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],o=!0);return o&&i++,i});r=()=>u(a)}t.b.length&&Jo(()=>{ws(e,r),Dr(t.b)}),gi(()=>{const i=Lt(()=>t.m.map(Io));return()=>{for(const s of i)typeof s=="function"&&s()}}),t.a.length&&gi(()=>{ws(e,r),Dr(t.a)})}function ws(n,e){if(n.l.s)for(const t of n.l.s)u(t);e()}function C(n,e){var s;var t=(s=n.$$events)==null?void 0:s[e.type],r=cr(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function vt(n){Pe===null&&_r(),Pe.l!==null?La(Pe).m.push(n):gi(()=>{const e=Lt(n);if(typeof e=="function")return e})}function Ml(n){Pe===null&&_r(),vt(()=>()=>Lt(n))}function Dl(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function _t(){const n=Pe;return n===null&&_r(),(e,t,r)=>{var s;const i=(s=n.s.$$events)==null?void 0:s[e];if(i){const a=cr(i)?i.slice():[i],o=Dl(e,t,r);for(const l of a)l.call(n.x,o);return!o.defaultPrevented}return!0}}function Ia(n){Pe===null&&_r(),Pe.l===null&&Uo(),La(Pe).a.push(n)}function La(n){var e=n.l;return e.u??(e.u={a:[],b:[],m:[]})}function Ji(n,e,t){if(n==null)return e(void 0),t&&t(void 0),lt;const r=Lt(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}let Er=!1;function Ie(n,e,t){const r=t[e]??(t[e]={store:null,source:$n(void 0),unsubscribe:lt});if(r.store!==n)if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=lt;else{var i=!0;r.unsubscribe=Ji(n,s=>{i?r.source.v=s:x(r.source,s)}),i=!1}return u(r.source)}function ja(n,e){return n.set(e),e}function Xe(){const n={};return qi(()=>{for(var e in n)n[e].unsubscribe()}),n}function Nl(n){var e=Er;try{return Er=!1,[n(),Er]}finally{Er=e}}const Ul={get(n,e){if(!n.exclude.includes(e))return u(n.version),e in n.special?n.special[e]():n.props[e]},set(n,e,t){return e in n.special||(n.special[e]=v({get[e](){return n.props[e]}},e,Ys)),n.special[e](t),ls(n.version),!0},getOwnPropertyDescriptor(n,e){if(!n.exclude.includes(e)&&e in n.props)return{enumerable:!0,configurable:!0,value:n.props[e]}},deleteProperty(n,e){return n.exclude.includes(e)||(n.exclude.push(e),ls(n.version)),!0},has(n,e){return n.exclude.includes(e)?!1:e in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(e=>!n.exclude.includes(e))}};function H(n,e){return new Proxy({props:n,exclude:e,special:{},version:Ze(0)},Ul)}const Bl={get(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(Tn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(n,e,t){let r=n.props.length;for(;r--;){let i=n.props[r];Tn(i)&&(i=i());const s=Qt(i,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(Tn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const i=Qt(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(n,e){for(let t of n.props)if(Tn(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(n){const e=[];for(let t of n.props){Tn(t)&&(t=t());for(const r in t)e.includes(r)||e.push(r)}return e}};function xt(...n){return new Proxy({props:n},Bl)}function ps(n){for(var e=Oe,t=Oe;e!==null&&!(e.f&(Tt|dr));)e=e.parent;try{return it(e),n()}finally{it(t)}}function v(n,e,t,r){var W;var i=(t&yo)!==0,s=(t&wo)!==0,a=(t&po)!==0,o=(t&xo)!==0,l=!1,c;a?[c,l]=Nl(()=>n[e]):c=n[e];var d=(W=Qt(n,e))==null?void 0:W.set,h=r,f=!0,_=!1,m=()=>(_=!0,f&&(f=!1,o?h=Lt(r):h=r),h);c===void 0&&r!==void 0&&(d&&s&&Bo(),c=m(),d&&d(c));var y;if(s)y=()=>{var z=n[e];return z===void 0?m():(f=!0,_=!1,z)};else{var S=ps(()=>(i?Ur:Te)(()=>n[e]));S.f|=Lo,y=()=>{var z=u(S);return z!==void 0&&(h=void 0),z===void 0?h:z}}if(!(t&Ys))return y;if(d){var w=n.$$legacy;return function(z,L){return arguments.length>0?((!s||!L||w||l)&&d(L?y():z),z):y()}}var p=!1,A=!1,j=$n(c),I=ps(()=>Ur(()=>{var z=y(),L=u(j);return p?(p=!1,A=!0,L):(A=!1,j.v=z)}));return i||(I.equals=Bi),function(z,L){if(arguments.length>0){const O=L?u(I):s&&a?En(z):z;return I.equals(O)||(p=!0,x(j,O),_&&h!==void 0&&(h=O),Lt(()=>u(I))),z}return u(I)}}const xs={},Ti={},Hl={},$a=/^:(.+)/,ks=4,ql=3,Fl=2,Vl=1,Gl=1,Ei=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),oi=n=>n.replace(/(^\/+|\/+$)/g,""),Wl=(n,e)=>{const t=n.default?0:Ei(n.path).reduce((r,i)=>(r+=ks,i===""?r+=Gl:$a.test(i)?r+=Fl:i[0]==="*"?r-=ks+Vl:r+=ql,r),0);return{route:n,score:t,index:e}},Jl=n=>n.map(Wl).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index),Ss=(n,e)=>{let t,r;const[i]=e.split("?"),s=Ei(i),a=s[0]==="",o=Jl(n);for(let l=0,c=o.length;l<c;l++){const d=o[l].route;let h=!1;if(d.default){r={route:d,params:{},uri:e};continue}const f=Ei(d.path),_={},m=Math.max(s.length,f.length);let y=0;for(;y<m;y++){const S=f[y],w=s[y];if(S&&S[0]==="*"){const A=S==="*"?"*":S.slice(1);_[A]=s.slice(y).map(decodeURIComponent).join("/");break}if(typeof w>"u"){h=!0;break}const p=$a.exec(S);if(p&&!a){const A=decodeURIComponent(w);_[p[1]]=A}else if(S!==w){h=!0;break}}if(!h){t={route:d,params:_,uri:"/"+s.slice(0,y).join("/")};break}}return t||r||null},li=(n,e)=>`${oi(e==="/"?n:`${oi(n)}/${oi(e)}`)}/`,Pi=()=>typeof window<"u"&&"document"in window&&"location"in window;function Pr(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]);he(e,!1);const r=Xe(),i=()=>Ie(h,"$activeRoute",r);let s=v(e,"path",8,""),a=v(e,"component",12,null),o=$({}),l=$({});const{registerRoute:c,unregisterRoute:d,activeRoute:h}=kt(Ti),f={path:s(),default:s()===""};c(f),Ml(()=>{d(f)}),D(()=>(i(),T(t),Pi),()=>{if(i()&&i().route===f){x(o,i().params);const{component:y,path:S,...w}=t;x(l,w),y&&(y.toString().startsWith("class ")?a(y):a(y())),Pi()&&!i().preserveScroll&&(window==null||window.scrollTo(0,0))}}),me(),_e();var _=be(),m=ee(_);U(m,()=>i()&&i().route===f,y=>{var S=be(),w=ee(S);U(w,a,p=>{var A=be(),j=ee(A);yl(j,a,null,(I,W)=>{var z=be(),L=ee(z);St(L,()=>{var O;return((O=u(W))==null?void 0:O.default)||u(W)},(O,E)=>{E(O,xt(()=>u(o),()=>u(l)))}),g(I,z)}),g(p,A)},p=>{var A=be(),j=ee(A);ue(j,e,"default",{get params(){return u(o)}},null),g(p,A)}),g(y,S)}),g(n,_),fe()}const pn=[];function jr(n,e){return{subscribe:He(n,e).subscribe}}function He(n,e=lt){let t=null;const r=new Set;function i(o){if(Ui(n,o)&&(n=o,t)){const l=!pn.length;for(const c of r)c[1](),pn.push(c,n);if(l){for(let c=0;c<pn.length;c+=2)pn[c][0](pn[c+1]);pn.length=0}}}function s(o){i(o(n))}function a(o,l=lt){const c=[o,l];return r.add(c),r.size===1&&(t=e(i,s)||lt),o(n),()=>{r.delete(c),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}function Kl(n,e,t){const r=!Array.isArray(n),i=r?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return jr(t,(a,o)=>{let l=!1;const c=[];let d=0,h=lt;const f=()=>{if(d)return;h();const m=e(r?c[0]:c,a,o);s?a(m):h=typeof m=="function"?m:lt},_=i.map((m,y)=>Ji(m,S=>{c[y]=S,d&=~(1<<y),l&&f()},()=>{d|=1<<y}));return l=!0,f(),function(){Dr(_),h(),l=!1}})}function $r(n){let e;return Ji(n,t=>e=t)(),e}const ci=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),Yl=n=>{const e=[];let t=ci(n);return{get location(){return t},listen(r){e.push(r);const i=()=>{t=ci(n),r({location:t,action:"POP"})};return n.addEventListener("popstate",i),()=>{n.removeEventListener("popstate",i);const s=e.indexOf(r);e.splice(s,1)}},navigate(r,{state:i,replace:s=!1,preserveScroll:a=!1,blurActiveElement:o=!0}={}){i={...i,key:Date.now()+""};try{s?n.history.replaceState(i,"",r):n.history.pushState(i,"",r)}catch{n.location[s?"replace":"assign"](r)}t=ci(n),e.forEach(l=>l({location:t,action:"PUSH",preserveScroll:a})),o&&document.activeElement.blur()}}},Zl=(n="/")=>{let e=0;const t=[{pathname:n,search:""}],r=[];return{get location(){return t[e]},addEventListener(i,s){},removeEventListener(i,s){},history:{get entries(){return t},get index(){return e},get state(){return r[e]},pushState(i,s,a){const[o,l=""]=a.split("?");e++,t.push({pathname:o,search:l}),r.push(i)},replaceState(i,s,a){const[o,l=""]=a.split("?");t[e]={pathname:o,search:l},r[e]=i}}}},za=Yl(Pi()?window:Zl()),{navigate:Ln}=za;var Ql=N("<div><!></div>");function Xl(n,e){he(e,!1);const t=Xe(),r=()=>Ie(p,"$base",t),i=()=>Ie(w,"$location",t),s=()=>Ie(m,"$routes",t),a=()=>Ie(y,"$activeRoute",t);let o=v(e,"basepath",8,"/"),l=v(e,"url",8,null),c=v(e,"viewtransition",8,null),d=v(e,"history",8,za);const h=(O,E,G)=>{const q=c()(G);return typeof(q==null?void 0:q.fn)=="function"?q.fn(O,q):q};In(Hl,d());const f=kt(xs),_=kt(Ti),m=He([]),y=He(null);let S=!1;const w=f||He(l()?{pathname:l()}:d().location),p=_?_.routerBase:He({path:o(),uri:o()}),A=Kl([p,y],([O,E])=>{if(!E)return O;const{path:G}=O,{route:q,uri:J}=E;return{path:q.default?G:q.path.replace(/\*.*$/,""),uri:J}}),j=O=>{const{path:E}=r();let{path:G}=O;if(O._path=G,O.path=li(E,G),typeof window>"u"){if(S)return;const q=Ss([O],i().pathname);q&&(y.set(q),S=!0)}else m.update(q=>[...q,O])},I=O=>{m.update(E=>E.filter(G=>G!==O))};let W=$(!1);f||(vt(()=>d().listen(E=>{x(W,E.preserveScroll||!1),w.set(E.location)})),In(xs,w)),In(Ti,{activeRoute:y,base:p,routerBase:A,registerRoute:j,unregisterRoute:I}),D(()=>(r(),li),()=>{const{path:O}=r();m.update(E=>E.map(G=>Object.assign(G,{path:li(O,G._path)})))}),D(()=>(s(),i(),u(W)),()=>{const O=Ss(s(),i().pathname);y.set(O&&{...O,preserveScroll:u(W)})}),me(),_e();var z=be(),L=ee(z);U(L,c,O=>{var E=be(),G=ee(E);wl(G,()=>i().pathname,q=>{var J=Ql(),M=k(J);ue(M,e,"default",{get route(){return a()&&a().uri},get location(){return i()}},null),bs(1,J,()=>h),bs(2,J,()=>h),g(q,J)}),g(O,E)},O=>{var E=be(),G=ee(E);ue(G,e,"default",{get route(){return a()&&a().uri},get location(){return i()}},null),g(O,E)}),g(n,z),fe()}const ec="modulepreload",tc=function(n){return"/crmbik/"+n},Ts={},Mn=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=tc(l),l in Ts)return;Ts[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":ec,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,_)=>{h.addEventListener("load",f),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},nc=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Mn(async()=>{const{default:r}=await Promise.resolve().then(()=>Fn);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Ki extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class rc extends Ki{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ic extends Ki{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sc extends Ki{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ai;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Ai||(Ai={}));var ac=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};class oc{constructor(e,{headers:t={},customFetch:r,region:i=Ai.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=nc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return ac(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(m=>{throw new rc(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new ic(d);if(!d.ok)throw new sc(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return f==="application/json"?_=yield d.json():f==="application/octet-stream"?_=yield d.blob():f==="text/event-stream"?_=d:f==="multipart/form-data"?_=yield d.formData():_=yield d.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}}var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function lc(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var nt={},Yi={},Jr={},mr={},Kr={},Yr={},cc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dn=cc();const uc=Dn.fetch,Ma=Dn.fetch.bind(Dn),Da=Dn.Headers,dc=Dn.Request,hc=Dn.Response,Fn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Da,Request:dc,Response:hc,default:Ma,fetch:uc},Symbol.toStringTag,{value:"Module"})),fc=lc(Fn);var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});class vc extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Zr.default=vc;var Na=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yr,"__esModule",{value:!0});const _c=Na(fc),bc=Na(Zr);let gc=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_c.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let c=null,d=null,h=null,f=s.status,_=s.statusText;if(s.ok){if(this.method!=="HEAD"){const w=await s.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),S=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,_="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await s.text();try{c=JSON.parse(y),Array.isArray(c)&&s.status===404&&(d=[],c=null,f=200,_="OK")}catch{s.status===404&&y===""?(f=204,_="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,_="OK"),c&&this.shouldThrowOnError)throw new bc.default(c)}return{error:c,data:d,count:h,status:f,statusText:_}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}};Yr.default=gc;var mc=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kr,"__esModule",{value:!0});const yc=mc(Yr);let wc=class extends yc.default{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Kr.default=wc;var pc=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(mr,"__esModule",{value:!0});const xc=pc(Kr);let kc=class extends xc.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};mr.default=kc;var Sc=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jr,"__esModule",{value:!0});const Xn=Sc(mr);let Tc=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Xn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Xn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Xn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Xn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Xn.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jr.default=Tc;var Qr={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.version=void 0;Xr.version="0.0.0-automated";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.DEFAULT_HEADERS=void 0;const Ec=Xr;Qr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ec.version}`};var Ua=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yi,"__esModule",{value:!0});const Pc=Ua(Jr),Ac=Ua(mr),Oc=Qr;let Cc=class Ba{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Oc.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){const t=new URL(`${this.url}/${e}`);return new Pc.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ba(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",l=t);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new Ac.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Yi.default=Cc;var Vn=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nt,"__esModule",{value:!0});nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const Ha=Vn(Yi);nt.PostgrestClient=Ha.default;const qa=Vn(Jr);nt.PostgrestQueryBuilder=qa.default;const Fa=Vn(mr);nt.PostgrestFilterBuilder=Fa.default;const Va=Vn(Kr);nt.PostgrestTransformBuilder=Va.default;const Ga=Vn(Yr);nt.PostgrestBuilder=Ga.default;const Wa=Vn(Zr);nt.PostgrestError=Wa.default;var Rc=nt.default={PostgrestClient:Ha.default,PostgrestQueryBuilder:qa.default,PostgrestFilterBuilder:Fa.default,PostgrestTransformBuilder:Va.default,PostgrestBuilder:Ga.default,PostgrestError:Wa.default};const{PostgrestClient:Ic,PostgrestQueryBuilder:I_,PostgrestFilterBuilder:L_,PostgrestTransformBuilder:j_,PostgrestBuilder:$_}=Rc,Lc="2.10.7",jc={"X-Client-Info":`realtime-js/${Lc}`},$c="1.0.0",Ja=1e4,zc=1e3;var jn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(jn||(jn={}));var ot;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ot||(ot={}));var pt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(pt||(pt={}));var Oi;(function(n){n.websocket="websocket"})(Oi||(Oi={}));var ln;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ln||(ln={}));class Mc{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+s));a=a+s;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Ka{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ne||(Ne={}));const Es=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,a)=>(s[a]=Dc(a,n,e,i),s),{})},Dc=(n,e,t,r)=>{const i=e.find(o=>o.name===n),s=i==null?void 0:i.type,a=t[n];return s&&!r.includes(s)?Ya(s,a):Ci(a)},Ya=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Hc(e,t)}switch(n){case Ne.bool:return Nc(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return Uc(e);case Ne.json:case Ne.jsonb:return Bc(e);case Ne.timestamp:return qc(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Ci(e);default:return Ci(e)}},Ci=n=>n,Nc=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Uc=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Bc=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Hc=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const a=n.slice(1,t);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Ya(e,o))}return n},qc=n=>typeof n=="string"?n.replace(" ","T"):n,Za=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ui{constructor(e,t,r={},i=Ja){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ps;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Ps||(Ps={}));class rr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rr.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=rr.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=rr.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(s,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const h=s[c];if(h){const f=d.map(S=>S.presence_ref),_=h.map(S=>S.presence_ref),m=d.filter(S=>_.indexOf(S.presence_ref)<0),y=h.filter(S=>f.indexOf(S.presence_ref)<0);m.length>0&&(o[c]=m),y.length>0&&(l[c]=y)}else o[c]=d}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(_=>_.presence_ref),f=d.filter(_=>h.indexOf(_.presence_ref)<0);e[o].unshift(...f)}r(o,d,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var As;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(As||(As={}));var Os;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Os||(Os={}));var Cs;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Cs||(Cs={}));class Zi{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ui(this,pt.join,this.params,this.timeout),this.rejoinTimer=new Ka(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new rr(this),this.broadcastEndpointURL=Za(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(d=>e&&e("CHANNEL_ERROR",d)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:d})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,_=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let y=0;y<_;y++){const S=f[y],{filter:{event:w,schema:p,table:A,filter:j}}=S,I=d&&d[y];if(I&&I.event===w&&I.schema===p&&I.table===A&&I.filter===j)m.push(Object.assign(Object.assign({},S),{id:I.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",d=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ot.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new ui(this,pt.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),a}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ui(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=pt;if(r&&[o,l,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var m,y,S;return((m=_.filter)===null||m===void 0?void 0:m.event)==="*"||((S=(y=_.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(_=>_.callback(f,r)):(s=this.bindings[a])===null||s===void 0||s.filter(_=>{var m,y,S,w,p,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in _){const j=_.id,I=(m=_.filter)===null||m===void 0?void 0:m.event;return j&&((y=t.ids)===null||y===void 0?void 0:y.includes(j))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const j=(p=(w=_==null?void 0:_.filter)===null||w===void 0?void 0:w.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return j==="*"||j===((A=t==null?void 0:t.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===a}).map(_=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:y,table:S,commit_timestamp:w,type:p,errors:A}=m;f=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:w,eventType:p,new:{},old:{},errors:A}),this._getPayloadRecords(m))}_.callback(f,r)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Zi.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pt.close,{},e)}_onError(e){this._on(pt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Es(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Es(e.columns,e.old_record)),t}}const Fc=()=>{},Vc=typeof WebSocket<"u",Gc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wc{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jc,this.params={},this.timeout=Ja,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Fc,this.conn=null,this.sendBuffer=[],this.serializer=new Mc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Mn(async()=>{const{default:l}=await Promise.resolve().then(()=>Fn);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Oi.websocket}`,this.httpEndpoint=Za(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,a)=>a(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ka(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Vc){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Jc(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Mn(async()=>{const{default:e}=await import("./browser-C32ItmGx.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jn.connecting:return ln.Connecting;case jn.open:return ln.Open;case jn.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}channel(e,t={config:{}}){const r=new Zi(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(pt.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$c}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:a}=t;(a&&a===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(pt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(zc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Gc],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class Jc{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Qi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ve(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Kc extends Qi{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ri extends Qi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Yc=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const Qa=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Mn(async()=>{const{default:r}=await Promise.resolve().then(()=>Fn);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Zc=()=>Yc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mn(()=>Promise.resolve().then(()=>Fn),void 0)).Response:Response}),Ii=n=>{if(Array.isArray(n))return n.map(t=>Ii(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ii(r)}),e};var bn=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const di=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Qc=(n,e,t)=>bn(void 0,void 0,void 0,function*(){const r=yield Zc();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new Kc(di(i),n.status||500))}).catch(i=>{e(new Ri(di(i),i))}):e(new Ri(di(n),n))}),Xc=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function yr(n,e,t,r,i,s){return bn(this,void 0,void 0,function*(){return new Promise((a,o)=>{n(t,Xc(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Qc(l,o,r))})})}function Hr(n,e,t,r){return bn(this,void 0,void 0,function*(){return yr(n,"GET",e,t,r)})}function Jt(n,e,t,r,i){return bn(this,void 0,void 0,function*(){return yr(n,"POST",e,r,i,t)})}function eu(n,e,t,r,i){return bn(this,void 0,void 0,function*(){return yr(n,"PUT",e,r,i,t)})}function tu(n,e,t,r){return bn(this,void 0,void 0,function*(){return yr(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Xa(n,e,t,r,i){return bn(this,void 0,void 0,function*(){return yr(n,"DELETE",e,r,i,t)})}var et=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const nu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ru{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Qa(i)}uploadOrUpdate(e,t,r,i){return et(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Rs),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(t),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}upload(e,t,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return et(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Rs.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ve(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return et(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield Jt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Qi("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}update(e,t,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return et(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}copy(e,t,r){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return et(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Jt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return et(this,void 0,void 0,function*(){try{const i=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}download(e,t){return et(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Hr(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}info(e){return et(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Hr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ii(r),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}exists(e){return et(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield tu(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ve(r)&&r instanceof Ri){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return et(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}})}list(e,t,r){return et(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},nu),t),{prefix:e||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const iu="2.7.1",su={"X-Client-Info":`storage-js/${iu}`};var xn=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};class au{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},su),t),this.fetch=Qa(r)}listBuckets(){return xn(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ve(e))return{data:null,error:e};throw e}})}getBucket(e){return xn(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return xn(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return xn(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xn(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}})}deleteBucket(e){return xn(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}})}}class ou extends au{constructor(e,t={},r){super(e,t,r)}from(e){return new ru(this.url,this.headers,e,this.fetch)}}const lu="2.46.1";let nr="";typeof Deno<"u"?nr="deno":typeof document<"u"?nr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nr="react-native":nr="node";const cu={"X-Client-Info":`supabase-js-${nr}/${lu}`},uu={headers:cu},du={schema:"public"},hu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fu={};var vu=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};const _u=n=>{let e;return n?e=n:typeof fetch>"u"?e=Ma:e=fetch,(...t)=>e(...t)},bu=()=>typeof Headers>"u"?Da:Headers,gu=(n,e,t)=>{const r=_u(t),i=bu();return(s,a)=>vu(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:n;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},a),{headers:c}))})};var mu=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};function yu(n){return n.replace(/\/$/,"")}function wu(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:a,auth:o,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>mu(this,void 0,void 0,function*(){return""})};return n.accessToken?d.accessToken=n.accessToken:delete d.accessToken,d}const eo="2.65.1",pu="http://localhost:9999",xu="supabase.auth.token",ku={"X-Client-Info":`gotrue-js/${eo}`},Is=10,Li="X-Supabase-Api-Version",to={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Su(n){return Math.round(Date.now()/1e3)+n}function Tu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const wt=()=>typeof document<"u",an={tested:!1,writable:!1},ir=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(an.tested)return an.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),an.tested=!0,an.writable=!0}catch{an.tested=!0,an.writable=!1}return an.writable};function hi(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const no=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Mn(async()=>{const{default:r}=await Promise.resolve().then(()=>Fn);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Eu=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ro=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Ar=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Or=async(n,e)=>{await n.removeItem(e)};function Pu(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,i,s,a,o,l,c,d=0;for(n=n.replace("-","+").replace("_","/");d<n.length;)a=e.indexOf(n.charAt(d++)),o=e.indexOf(n.charAt(d++)),l=e.indexOf(n.charAt(d++)),c=e.indexOf(n.charAt(d++)),r=a<<2|o>>4,i=(o&15)<<4|l>>2,s=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),c!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class ei{constructor(){this.promise=new ei.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ei.promiseConstructor=Promise;function Ls(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(Pu(r))}async function Au(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Ou(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await n(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function Cu(n){return("0"+n.toString(16)).substr(-2)}function Ru(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Cu).join("")}async function Iu(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function Lu(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ju(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Iu(n);return Lu(t)}async function kn(n,e,t=!1){const r=Ru();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await ro(n,`${e}-code-verifier`,i);const s=await ju(r);return[s,r===s?"plain":"s256"]}const $u=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zu(n){const e=n.headers.get(Li);if(!e||!e.match($u))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Xi extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ke(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Mu extends Xi{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Du(n){return ke(n)&&n.name==="AuthApiError"}class io extends Xi{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class gn extends Xi{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Vt extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Nu(n){return ke(n)&&n.name==="AuthSessionMissingError"}class fi extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cr extends gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rr extends gn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class js extends gn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ji extends gn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function vi(n){return ke(n)&&n.name==="AuthRetryableFetchError"}class $s extends gn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var Uu=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const on=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Bu=[502,503,504];async function zs(n){var e;if(!Eu(n))throw new ji(on(n),0);if(Bu.includes(n.status))throw new ji(on(n),n.status);let t;try{t=await n.json()}catch(s){throw new io(on(s),s)}let r;const i=zu(n);if(i&&i.getTime()>=to["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new $s(on(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Vt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new $s(on(t),n.status,t.weak_password.reasons);throw new Mu(on(t),n.status||500,r)}const Hu=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Re(n,e,t,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Li]||(s[Li]=to["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await qu(n,e,t+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function qu(n,e,t,r,i,s){const a=Hu(e,r,i,s);let o;try{o=await n(t,Object.assign({},a))}catch(l){throw console.error(l),new ji(on(l),0)}if(o.ok||await zs(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await zs(l)}}function Gt(n){var e;let t=null;Wu(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Su(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Ms(n){const e=Gt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Kt(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Fu(n){return{data:n,error:null}}function Vu(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,a=Uu(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Gu(n){return n}function Wu(n){return n.access_token&&n.refresh_token&&n.expires_in}var Ju=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class Ku{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=no(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Kt})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Ju(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Vu,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ke(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Kt})}catch(t){if(ke(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Gu});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,_=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return _.length>0&&(_.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(m.split(";")[1].split("=")[1]);c[`${S}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ke(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Kt})}catch(t){if(ke(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Kt})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Kt})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(ke(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}}}const Yu={getItem:n=>ir()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{ir()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{ir()&&globalThis.localStorage.removeItem(n)}};function Ds(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function Zu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sn={debug:!!(globalThis&&ir()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class so extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Qu extends so{}async function Xu(n,e,t){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Qu(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Sn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}Zu();const ed={url:pu,storageKey:xu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ku,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},er=30*1e3,Ns=3;async function Us(n,e,t){return await t()}class lr{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lr.nextInstanceID,lr.nextInstanceID+=1,this.instanceID>0&&wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ed),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ku({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=no(i.fetch),this.lock=i.lock||Us,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:wt()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Xu:this.lock=Us,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ir()?this.storage=Yu:(this.memoryStorage={},this.storage=Ds(this.memoryStorage)):(this.memoryStorage={},this.storage=Ds(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=wt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return ke(e)?{error:e}:{error:new io("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gt}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,r,i;try{let s;if("email"in e){const{email:d,password:h,options:f}=e;let _=null,m=null;this.flowType==="pkce"&&([_,m]=await kn(this.storage,this.storageKey)),s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:_,code_challenge_method:m},xform:Gt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Gt})}else throw new Cr("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:a,options:o}=e;t=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ms})}else if("phone"in e){const{phone:s,password:a,options:o}=e;t=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ms})}else throw new Cr("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new fi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Ar(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:s,error:a}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Gt});if(await Or(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new fi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(ke(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:s,nonce:a}=e,o=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Gt}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await kn(this.storage,this.storageKey));const{error:h}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Cr("You must provide either an email or phone number.")}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,r;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Gt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await kn(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Fu})}catch(s){if(ke(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Vt;const{error:i}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await Re(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await Re(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Cr("You must provide either an email or phone number and a type")}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kt}):await this._useSession(async t=>{var r,i,s;const{data:a,error:o}=t;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Kt})})}catch(t){if(ke(t))return Nu(t)&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Vt;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await kn(this.storage,this.storageKey));const{data:c,error:d}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Kt});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ls(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const t=Date.now()/1e3;let r=t,i=!0,s=null;const a=Ls(e.access_token);if(a.exp&&(r=a.exp,i=r<=t),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(ke(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Vt;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!wt())throw new Rr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Rr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new js("Not a valid PKCE flow url.");const t=hi(window.location.href);if(e){if(!t.code)throw new js("No code detected.");const{data:p,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Rr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!s||!o||!a||!c)throw new Rr("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;l&&(f=parseInt(l));const _=f-d;_*1e3<=er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:y,error:S}=await this._getUser(s);if(S)throw S;const w={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(t){if(ke(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=hi(window.location.href);return!!(wt()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=hi(window.location.href),t=await Ar(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Du(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Tu(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:a}=t;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await kn(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(ke(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,d;const{data:h,error:f}=s;if(f)throw f;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",_,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return wt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ke(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:a}=t;if(a)throw a;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(ke(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await Ou(async i=>(i>0&&await Au(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gt})),(i,s)=>{const a=200*Math.pow(2,i);return s&&vi(s)&&Date.now()+a-r<er})}catch(r){if(this._debug(t,"error",r),ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),wt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Ar(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+Is;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${Is}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),vi(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ei;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Vt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),ke(s)){const a={session:null,error:s};return vi(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ro(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Or(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),er);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${er}ms, refresh threshold is ${Ns} ticks`),i<=Ns&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof so)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await kn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ke(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(ke(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:a,error:o}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(ke(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ke(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}lr.nextInstanceID=0;const td=lr;class nd extends td{constructor(e){super(e)}}var rd=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(n,e||[])).next())})};class id{constructor(e,t,r){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=yu(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:du,realtime:fu,auth:Object.assign(Object.assign({},hu),{storageKey:l}),global:uu},d=wu(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=gu(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new Ic(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new oc(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ou(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return rd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:l},c,d){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nd({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(e){return new Wc(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sd=(n,e,t)=>new id(n,e,t),ad="https://irjkppabtcmhrxvtkkyy.supabase.co",od="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlyamtwcGFidGNtaHJ4dnRra3l5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkwNzc3NDQsImV4cCI6MjA0NDY1Mzc0NH0.4N7zYNrOcArWQnJn97oZAQ3Jqh1e1UAlgzKsa8584RA",Ke=sd(ad,od);var ld=we("<title> </title>"),cd=we('<svg><!><path d="M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"></path></svg>');function Bs(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=cd();let c;var d=k(l);U(d,o,h=>{var f=ld(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var ud=N("<a></a>"),dd=N("<div></div>");function hd(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["href","size"]);he(e,!1);let i=v(e,"href",8,void 0),s=v(e,"size",8,"default");_e();var a=be(),o=ee(a);U(o,i,l=>{var c=ud();let d;c.textContent="",R(()=>{d=de(c,d,{href:i(),rel:r.target==="_blank"?"noopener noreferrer":void 0,role:"button",...r}),b(c,"bx--skeleton",!0),b(c,"bx--btn",!0),b(c,"bx--btn--field",s()==="field"),b(c,"bx--btn--sm",s()==="small"),b(c,"bx--btn--lg",s()==="lg"),b(c,"bx--btn--xl",s()==="xl")}),P("click",c,function(h){C.call(this,e,h)}),P("focus",c,function(h){C.call(this,e,h)}),P("blur",c,function(h){C.call(this,e,h)}),P("mouseover",c,function(h){C.call(this,e,h)}),P("mouseenter",c,function(h){C.call(this,e,h)}),P("mouseleave",c,function(h){C.call(this,e,h)}),g(l,c)},l=>{var c=dd();let d;R(()=>{d=de(c,d,{...r}),b(c,"bx--skeleton",!0),b(c,"bx--btn",!0),b(c,"bx--btn--field",s()==="field"),b(c,"bx--btn--sm",s()==="small"),b(c,"bx--btn--lg",s()==="lg"),b(c,"bx--btn--xl",s()==="xl")}),P("click",c,function(h){C.call(this,e,h)}),P("focus",c,function(h){C.call(this,e,h)}),P("blur",c,function(h){C.call(this,e,h)}),P("mouseover",c,function(h){C.call(this,e,h)}),P("mouseenter",c,function(h){C.call(this,e,h)}),P("mouseleave",c,function(h){C.call(this,e,h)}),g(l,c)}),g(n,a),fe()}var fd=N("<span> </span>"),vd=N("<a><!> <!> <!></a>"),_d=N("<span> </span>"),bd=N("<button><!> <!> <!></button>");function rt(n,e){const t=nn(e),r=H(e,["children","$$slots","$$events","$$legacy"]),i=H(r,["kind","size","expressive","isSelected","icon","iconDescription","tooltipAlignment","tooltipPosition","as","skeleton","disabled","href","tabindex","type","ref"]);he(e,!1);const s=$(),a=$(),o=$();let l=v(e,"kind",8,"primary"),c=v(e,"size",8,"default"),d=v(e,"expressive",8,!1),h=v(e,"isSelected",8,!1),f=v(e,"icon",8,void 0),_=v(e,"iconDescription",8,void 0),m=v(e,"tooltipAlignment",8,"center"),y=v(e,"tooltipPosition",8,"bottom"),S=v(e,"as",8,!1),w=v(e,"skeleton",8,!1),p=v(e,"disabled",8,!1),A=v(e,"href",8,void 0),j=v(e,"tabindex",8,"0"),I=v(e,"type",8,"button"),W=v(e,"ref",12,null);const z=kt("ComposedModal");D(()=>T(W()),()=>{z&&W()&&z.declareRef(W())}),D(()=>T(f()),()=>{x(s,(f()||t.icon)&&!t.default)}),D(()=>T(_()),()=>{x(a,{"aria-hidden":"true",class:"bx--btn__icon","aria-label":_()})}),D(()=>(T(A()),T(p()),T(I()),T(j()),u(s),T(l()),T(h()),T(i),T(d()),T(c()),T(y()),T(m())),()=>{x(o,{type:A()&&!p()?void 0:I(),tabindex:j(),disabled:p()===!0?!0:void 0,href:A(),"aria-pressed":u(s)&&l()==="ghost"&&!A()?h():void 0,...i,class:["bx--btn",d()&&"bx--btn--expressive",(c()==="small"&&!d()||c()==="sm"&&!d()||c()==="small"&&!d())&&"bx--btn--sm",c()==="field"&&!d()||c()==="md"&&!d()&&"bx--btn--md",c()==="field"&&"bx--btn--field",c()==="small"&&"bx--btn--sm",c()==="lg"&&"bx--btn--lg",c()==="xl"&&"bx--btn--xl",l()&&`bx--btn--${l()}`,p()&&"bx--btn--disabled",u(s)&&"bx--btn--icon-only",u(s)&&"bx--tooltip__trigger",u(s)&&"bx--tooltip--a11y",u(s)&&y()&&`bx--btn--icon-only--${y()}`,u(s)&&m()&&`bx--tooltip--align-${m()}`,u(s)&&h()&&l()==="ghost"&&"bx--btn--selected",i.class].filter(Boolean).join(" ")})}),me(),_e();var L=be(),O=ee(L);U(O,w,E=>{var G=Te(()=>u(s)&&"width: 3rem;");hd(E,xt({get href(){return A()},get size(){return c()}},()=>i,{get style(){return u(G)},$$events:{click(q){C.call(this,e,q)},focus(q){C.call(this,e,q)},blur(q){C.call(this,e,q)},mouseover(q){C.call(this,e,q)},mouseenter(q){C.call(this,e,q)},mouseleave(q){C.call(this,e,q)}}}))},E=>{var G=be(),q=ee(G);U(q,S,J=>{var M=be(),F=ee(M);ue(F,e,"default",{get props(){return u(o)}},null),g(J,M)},J=>{var M=be(),F=ee(M);U(F,()=>A()&&!p(),V=>{var K=vd();let ge;var ne=k(K);U(ne,()=>u(s),Y=>{var oe=fd();b(oe,"bx--assistive-text",!0);var Ce=k(oe);R(()=>Q(Ce,_())),g(Y,oe)});var re=B(ne,2);ue(re,e,"default",{},null);var je=B(re,2);U(je,()=>t.icon,Y=>{var oe=be(),Ce=ee(oe);ue(Ce,e,"icon",xt({get style(){return u(s)?"margin-left: 0":void 0}},()=>u(a)),null),g(Y,oe)},Y=>{var oe=be(),Ce=ee(oe);U(Ce,f,Ae=>{var Le=be(),xe=ee(Le),Se=Te(()=>u(s)?"margin-left: 0":void 0);St(xe,f,(ae,X)=>{X(ae,xt({get style(){return u(Se)}},()=>u(a)))}),g(Ae,Le)},null,!0),g(Y,oe)}),qe(K,Y=>W(Y),()=>W()),R(()=>ge=de(K,ge,{...u(o)})),P("click",K,function(Y){C.call(this,e,Y)}),P("focus",K,function(Y){C.call(this,e,Y)}),P("blur",K,function(Y){C.call(this,e,Y)}),P("mouseover",K,function(Y){C.call(this,e,Y)}),P("mouseenter",K,function(Y){C.call(this,e,Y)}),P("mouseleave",K,function(Y){C.call(this,e,Y)}),g(V,K)},V=>{var K=bd();let ge;var ne=k(K);U(ne,()=>u(s),Y=>{var oe=_d();b(oe,"bx--assistive-text",!0);var Ce=k(oe);R(()=>Q(Ce,_())),g(Y,oe)});var re=B(ne,2);ue(re,e,"default",{},null);var je=B(re,2);U(je,()=>t.icon,Y=>{var oe=be(),Ce=ee(oe);ue(Ce,e,"icon",xt({get style(){return u(s)?"margin-left: 0":void 0}},()=>u(a)),null),g(Y,oe)},Y=>{var oe=be(),Ce=ee(oe);U(Ce,f,Ae=>{var Le=be(),xe=ee(Le),Se=Te(()=>u(s)?"margin-left: 0":void 0);St(xe,f,(ae,X)=>{X(ae,xt({get style(){return u(Se)}},()=>u(a)))}),g(Ae,Le)},null,!0),g(Y,oe)}),qe(K,Y=>W(Y),()=>W()),R(()=>ge=de(K,ge,{...u(o)})),P("click",K,function(Y){C.call(this,e,Y)}),P("focus",K,function(Y){C.call(this,e,Y)}),P("blur",K,function(Y){C.call(this,e,Y)}),P("mouseover",K,function(Y){C.call(this,e,Y)}),P("mouseenter",K,function(Y){C.call(this,e,Y)}),P("mouseleave",K,function(Y){C.call(this,e,Y)}),g(V,K)},!0),g(J,M)},!0),g(E,G)}),g(n,L),fe()}var gd=N("<div><input> <label></label></div>");function Hs(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["checked","indeterminate","title","id","ref"]);he(e,!1);let i=v(e,"checked",8,!1),s=v(e,"indeterminate",8,!1),a=v(e,"title",8,void 0),o=v(e,"id",24,()=>"ccs-"+Math.random().toString(36)),l=v(e,"ref",12,null);_e();var c=gd();b(c,"bx--checkbox--inline",!0);var d=k(c);let h;qe(d,_=>l(_),()=>l());var f=B(d,2);R(()=>{h=de(d,h,{type:"checkbox",checked:s()?!1:i(),indeterminate:s(),id:o(),...r,"aria-checked":s()?void 0:i()}),b(d,"bx--checkbox",!0),ce(f,"for",o()),ce(f,"title",a()),ce(f,"aria-label",t["aria-label"]),b(f,"bx--checkbox-label",!0)}),P("change",d,function(_){C.call(this,e,_)}),P("focus",d,function(_){C.call(this,e,_)}),P("blur",d,function(_){C.call(this,e,_)}),g(n,c),fe()}var md=we("<title> </title>"),yd=we('<svg><!><path d="M16,2C8.3,2,2,8.3,2,16s6.3,14,14,14s14-6.3,14-14C30,8.3,23.7,2,16,2z M14.9,8h2.2v11h-2.2V8z M16,25	c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22c0.8,0,1.5,0.7,1.5,1.5S16.8,25,16,25z"></path><path fill="none" d="M17.5,23.5c0,0.8-0.7,1.5-1.5,1.5c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22	C16.8,22,17.5,22.7,17.5,23.5z M17.1,8h-2.2v11h2.2V8z" data-icon-path="inner-path" opacity="0"></path></svg>');function Nn(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=yd();let c;var d=k(l);U(d,o,h=>{var f=md(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var wd=we("<title> </title>"),pd=we('<svg><!><path fill="none" d="M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z" data-icon-path="inner-path"></path><path d="M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"></path><path d="M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"></path></svg>');function ti(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=pd();let c;var d=k(l);U(d,o,h=>{var f=wd(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var xd=we("<title> </title>"),kd=we('<svg><!><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg>');function qs(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=kd();let c;var d=k(l);U(d,o,h=>{var f=xd(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Sd=we("<title> </title>"),Td=we('<svg><!><path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path></svg>');function hn(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Td();let c;var d=k(l);U(d,o,h=>{var f=Sd(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}const $i=new Set,ao=He(0),Fs=()=>ao.set([...$i].filter(n=>$r(n)).length),Ed=n=>vt(()=>{$i.add(n);const e=n.subscribe(Fs);return()=>{e(),$i.delete(n),Fs()}});ao.subscribe(n=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",n>0)});var Pd=N("<span><!></span>"),Ad=N('<div><input type="radio"> <label><span></span> <!></label></div>');function Od(n,e){const t=nn(e),r=H(e,["children","$$slots","$$events","$$legacy"]),i=H(r,["value","checked","disabled","required","labelPosition","labelText","hideLabel","id","name","ref"]);he(e,!1);const s=Xe(),a=()=>Ie(I,"$selectedValue",s),o=()=>Ie(W,"$groupName",s),l=()=>Ie(z,"$groupRequired",s);let c=v(e,"value",8,""),d=v(e,"checked",12,!1),h=v(e,"disabled",8,!1),f=v(e,"required",8,!1),_=v(e,"labelPosition",8,"right"),m=v(e,"labelText",8,""),y=v(e,"hideLabel",8,!1),S=v(e,"id",24,()=>"ccs-"+Math.random().toString(36)),w=v(e,"name",8,void 0),p=v(e,"ref",12,null);const{add:A,update:j,selectedValue:I,groupName:W,groupRequired:z}=kt("RadioButtonGroup")??{groupName:jr(void 0),groupRequired:jr(void 0),selectedValue:jr(d()?c():void 0)};A&&A({id:S(),checked:d(),disabled:h(),value:c()}),D(()=>(a(),T(c())),()=>{d(a()===c())}),me(),_e();var L=Ad();let O;var E=k(L);qe(E,M=>p(M),()=>p());var G=B(E,2),q=k(G);b(q,"bx--radio-button__appearance",!0);var J=B(q,2);U(J,()=>m()||t.labelText,M=>{var F=Pd(),V=k(F);ue(V,e,"labelText",{},K=>{var ge=Ee();R(()=>Q(ge,m())),g(K,ge)}),R(()=>b(F,"bx--visually-hidden",y())),g(M,F)}),R(()=>{O=de(L,O,{...i}),b(L,"bx--radio-button-wrapper",!0),b(L,"bx--radio-button-wrapper--label-left",_()==="left"),ce(E,"id",S()),ce(E,"name",o()??w()),Al(E,d()),E.disabled=h(),E.required=l()??f(),Pl(E,c()),b(E,"bx--radio-button",!0),ce(G,"for",S()),b(G,"bx--radio-button__label",!0)}),P("change",E,function(M){C.call(this,e,M)}),P("change",E,()=>{j&&j(c())}),g(n,L),fe()}var Cd=N("<section><table><!></table></section>"),Rd=N("<table><!></table>");function Id(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","zebra","useStaticWidth","sortable","stickyHeader","tableStyle"]);let i=v(e,"size",8,void 0),s=v(e,"zebra",8,!1),a=v(e,"useStaticWidth",8,!1),o=v(e,"sortable",8,!1),l=v(e,"stickyHeader",8,!1),c=v(e,"tableStyle",8,void 0);var d=be(),h=ee(d);U(h,l,f=>{var _=Cd();let m;var y=k(_),S=k(y);ue(S,e,"default",{},null),R(()=>{m=de(_,m,{...r}),b(_,"bx--data-table_inner-container",!0),ce(y,"style",c()),b(y,"bx--data-table",!0),b(y,"bx--data-table--compact",i()==="compact"),b(y,"bx--data-table--short",i()==="short"),b(y,"bx--data-table--tall",i()==="tall"),b(y,"bx--data-table--md",i()==="medium"),b(y,"bx--data-table--sort",o()),b(y,"bx--data-table--zebra",s()),b(y,"bx--data-table--static",a()),b(y,"bx--data-table--sticky-header",l())}),g(f,_)},f=>{var _=Rd();let m;var y=k(_);ue(y,e,"default",{},null),R(()=>{m=de(_,m,{...r,style:c()}),b(_,"bx--data-table",!0),b(_,"bx--data-table--compact",i()==="compact"),b(_,"bx--data-table--short",i()==="short"),b(_,"bx--data-table--tall",i()==="tall"),b(_,"bx--data-table--md",i()==="medium"),b(_,"bx--data-table--sort",o()),b(_,"bx--data-table--zebra",s()),b(_,"bx--data-table--static",a()),b(_,"bx--data-table--sticky-header",l())}),g(f,_)}),g(n,d)}var Ld=N("<tbody><!></tbody>");function jd(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,[]);var i=Ld();let s;var a=k(i);ue(a,e,"default",{},null),R(()=>s=de(i,s,{"aria-live":"polite",...r})),g(n,i)}var $d=N("<td><!></td>");function _i(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,[]);var i=$d();let s;var a=k(i);ue(a,e,"default",{},null),R(()=>s=de(i,s,{...r})),P("click",i,function(o){C.call(this,e,o)}),P("mouseover",i,function(o){C.call(this,e,o)}),P("mouseenter",i,function(o){C.call(this,e,o)}),P("mouseleave",i,function(o){C.call(this,e,o)}),g(n,i)}var zd=N("<div><h4> </h4> <p> </p></div>"),Md=N("<div><!> <!></div>");function Dd(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["title","description","stickyHeader","useStaticWidth"]);let i=v(e,"title",8,""),s=v(e,"description",8,""),a=v(e,"stickyHeader",8,!1),o=v(e,"useStaticWidth",8,!1);var l=Md();let c;var d=k(l);U(d,i,f=>{var _=zd();b(_,"bx--data-table-header",!0);var m=k(_);b(m,"bx--data-table-header__title",!0);var y=k(m),S=B(m,2);b(S,"bx--data-table-header__description",!0);var w=k(S);R(()=>{Q(y,i()),Q(w,s())}),g(f,_)});var h=B(d,2);ue(h,e,"default",{},null),R(()=>{c=de(l,c,{...r}),b(l,"bx--data-table-container",!0),b(l,"bx--data-table-container--static",o()),b(l,"bx--data-table--max-width",a())}),g(n,l)}var Nd=N("<thead><!></thead>");function Ud(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,[]);var i=Nd();let s;var a=k(i);ue(a,e,"default",{},null),R(()=>s=de(i,s,{...r})),P("click",i,function(o){C.call(this,e,o)}),P("mouseover",i,function(o){C.call(this,e,o)}),P("mouseenter",i,function(o){C.call(this,e,o)}),P("mouseleave",i,function(o){C.call(this,e,o)}),g(n,i)}var Bd=we("<title> </title>"),Hd=we('<svg><!><path d="M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"></path></svg>');function qd(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Hd();let c;var d=k(l);U(d,o,h=>{var f=Bd(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Fd=we("<title> </title>"),Vd=we('<svg><!><path d="M27.6 20.6L24 24.2 24 4 22 4 22 24.2 18.4 20.6 17 22 23 28 29 22zM9 4L3 10 4.4 11.4 8 7.8 8 28 10 28 10 7.8 13.6 11.4 15 10z"></path></svg>');function Gd(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Vd();let c;var d=k(l);U(d,o,h=>{var f=Fd(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Wd=N('<th><button type="button"><div><!></div> <!> <!></button></th>'),Jd=N("<th><div><!></div></th>");function Kd(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["sortable","sortDirection","active","scope","translateWithId","id"]);he(e,!1);const i=$();let s=v(e,"sortable",8,!1),a=v(e,"sortDirection",8,"none"),o=v(e,"active",8,!1),l=v(e,"scope",8,"col"),c=v(e,"translateWithId",8,()=>""),d=v(e,"id",24,()=>"ccs-"+Math.random().toString(36));D(()=>T(c()),()=>{x(i,c()())}),me(),_e();var h=be(),f=ee(h);U(f,s,_=>{var m=Wd();let y;var S=k(m);b(S,"bx--table-sort",!0);var w=k(S);b(w,"bx--table-header-label",!0);var p=k(w);ue(p,e,"default",{},null);var A=B(w,2);qd(A,{size:20,get"aria-label"(){return u(i)},class:"bx--table-sort__icon"});var j=B(A,2);Gd(j,{size:20,get"aria-label"(){return u(i)},class:"bx--table-sort__icon-unsorted"}),R(()=>{y=de(m,y,{"aria-sort":o()?a():"none",scope:l(),"data-header":d(),...r}),b(S,"bx--table-sort--active",o()),b(S,"bx--table-sort--ascending",o()&&a()==="descending")}),P("click",S,function(I){C.call(this,e,I)}),P("mouseover",m,function(I){C.call(this,e,I)}),P("mouseenter",m,function(I){C.call(this,e,I)}),P("mouseleave",m,function(I){C.call(this,e,I)}),g(_,m)},_=>{var m=Jd();let y;var S=k(m);b(S,"bx--table-header-label",!0);var w=k(S);ue(w,e,"default",{},null),R(()=>y=de(m,y,{scope:l(),"data-header":d(),...r})),P("click",m,function(p){C.call(this,e,p)}),P("mouseover",m,function(p){C.call(this,e,p)}),P("mouseenter",m,function(p){C.call(this,e,p)}),P("mouseleave",m,function(p){C.call(this,e,p)}),g(_,m)}),g(n,h),fe()}var Yd=N("<tr><!></tr>");function Vs(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,[]);var i=Yd();let s;var a=k(i);ue(a,e,"default",{},null),R(()=>s=de(i,s,{...r})),P("click",i,function(o){C.call(this,e,o)}),P("mouseover",i,function(o){C.call(this,e,o)}),P("mouseenter",i,function(o){C.call(this,e,o)}),P("mouseleave",i,function(o){C.call(this,e,o)}),g(n,i)}var Zd=N("<h4><!></h4>"),Qd=N("<p><!></p>"),Xd=N("<div><!> <!></div>"),eh=N('<button type="button"><!></button>'),th=N('<th scope="col"><!></th>'),nh=N('<th scope="col"></th>'),rh=N('<th scope="col"><!></th>'),ih=N('<th scope="col"></th>'),sh=N("<!> <!> <!> <!>",1),ah=N('<button type="button"><!></button>'),oh=N("<td><!></td>"),lh=N("<td><!></td>"),ch=N("<!> <!> <!>",1),uh=N("<div><!></div>"),dh=N('<tr data-child-row=""><!></tr>'),hh=N("<!> <!>",1),fh=N("<!> <!>",1),vh=N("<!> <!> <!>",1);function zi(n,e){const t=nn(e),r=H(e,["children","$$slots","$$events","$$legacy"]),i=H(r,["headers","rows","size","title","description","zebra","sortable","sortKey","sortDirection","expandable","batchExpansion","expandedRowIds","nonExpandableRowIds","radio","selectable","batchSelection","selectedRowIds","nonSelectableRowIds","stickyHeader","useStaticWidth","pageSize","page"]);he(e,!1);const s=Xe(),a=()=>Ie(le,"$tableRows",s),o=$(),l=$(),c=$(),d=$(),h=$(),f=$(),_=$(),m=$(),y=$(),S=$(),w=$(),p=$(),A=$(),j=$(),I=$(),W=$();let z=v(e,"headers",24,()=>[]),L=v(e,"rows",24,()=>[]),O=v(e,"size",8,void 0),E=v(e,"title",8,""),G=v(e,"description",8,""),q=v(e,"zebra",8,!1),J=v(e,"sortable",8,!1),M=v(e,"sortKey",12,null),F=v(e,"sortDirection",12,"none"),V=v(e,"expandable",12,!1),K=v(e,"batchExpansion",8,!1),ge=v(e,"expandedRowIds",28,()=>[]),ne=v(e,"nonExpandableRowIds",24,()=>[]),re=v(e,"radio",8,!1),je=v(e,"selectable",12,!1),Y=v(e,"batchSelection",8,!1),oe=v(e,"selectedRowIds",28,()=>[]),Ce=v(e,"nonSelectableRowIds",24,()=>[]),Ae=v(e,"stickyHeader",8,!1),Le=v(e,"useStaticWidth",8,!1),xe=v(e,"pageSize",8,0),Se=v(e,"page",8,0);const ae={none:"ascending",ascending:"descending",descending:"none"},X=_t(),Z=He(!1),le=He(L()),te=(ye,$e)=>$e in ye?ye[$e]:$e.split(/[\.\[\]\'\"]/).filter(ze=>ze).reduce((ze,Fe)=>ze&&typeof ze=="object"?ze[Fe]:ze,ye);In("DataTable",{batchSelectedIds:Z,tableRows:le,resetSelectedRowIds:()=>{x(f,!1),oe([]),u(ve)&&Ot(ve,u(ve).checked=!1)}});let ie=$(!1),se=$(null),ve=$(null);const Be=(ye,$e,ze)=>$e&&ze?ye.slice(($e-1)*ze,$e*ze):ye,Pt=ye=>{const $e=[ye.width&&`width: ${ye.width}`,ye.minWidth&&`min-width: ${ye.minWidth}`].filter(Boolean);if($e.length!==0)return $e.join(";")};D(()=>T(z()),()=>{x(o,z().reduce((ye,$e)=>({...ye,[$e.key]:$e.key}),{}))}),D(()=>T(ge()),()=>{x(l,ge().reduce((ye,$e)=>({...ye,[$e]:!0}),{}))}),D(()=>T(oe()),()=>{Z.set(oe())}),D(()=>T(L()),()=>{ja(le,L())}),D(()=>a(),()=>{x(c,a().map(ye=>ye.id))}),D(()=>(u(c),T(ne())),()=>{x(d,u(c).filter(ye=>!ne().includes(ye)))}),D(()=>(u(c),T(Ce())),()=>{x(h,u(c).filter(ye=>!Ce().includes(ye)))}),D(()=>(u(h),T(oe())),()=>{x(f,u(h).length>0&&oe().length===u(h).length)}),D(()=>(T(oe()),u(h)),()=>{x(_,oe().length>0&&oe().length<u(h).length)}),D(()=>(T(K()),T(ge()),u(d)),()=>{K()&&(V(!0),x(ie,ge().length===u(d).length))}),D(()=>(T(re()),T(Y())),()=>{(re()||Y())&&je(!0)}),D(()=>T(z()),()=>{x(m,z().map(({key:ye})=>ye))}),D(()=>(T(L()),u(m),T(z())),()=>{x(y,L().reduce((ye,$e)=>(ye[$e.id]=u(m).map((ze,Fe)=>({key:ze,value:te($e,ze),display:z()[Fe].display})),ye),{}))}),D(()=>a(),()=>{x(S,[...a()])}),D(()=>T(F()),()=>{x(w,F()==="ascending")}),D(()=>(T(J()),T(M())),()=>{x(p,J()&&M()!=null)}),D(()=>(T(z()),T(M())),()=>{x(A,z().find(ye=>ye.key===M()))}),D(()=>(u(p),T(F()),a(),u(w),T(M()),u(A)),()=>{u(p)&&(F()==="none"?x(S,a()):x(S,[...a()].sort((ye,$e)=>{var Dt;const ze=u(w)?te(ye,M()):te($e,M()),Fe=u(w)?te($e,M()):te(ye,M());return(Dt=u(A))!=null&&Dt.sort?u(A).sort(ze,Fe):typeof ze=="number"&&typeof Fe=="number"?ze-Fe:[ze,Fe].every(Nt=>!Nt&&Nt!==0)?0:!ze&&ze!==0?u(w)?1:-1:!Fe&&Fe!==0?u(w)?-1:1:ze.toString().localeCompare(Fe.toString(),"en",{numeric:!0})})))}),D(()=>(a(),T(Se()),T(xe())),()=>{x(j,Be(a(),Se(),xe()))}),D(()=>(u(S),T(Se()),T(xe())),()=>{x(I,Be(u(S),Se(),xe()))}),D(()=>T(z()),()=>{x(W,z().some(ye=>ye.width||ye.minWidth))}),me(),_e(),Dd(n,xt({get useStaticWidth(){return Le()}},()=>i,{children:(ye,$e)=>{var ze=vh(),Fe=ee(ze);U(Fe,()=>E()||t.title||G()||t.description,ni=>{var pr=Xd();b(pr,"bx--data-table-header",!0);var Wn=k(pr);U(Wn,()=>E()||t.title,Jn=>{var bt=Zd();b(bt,"bx--data-table-header__title",!0);var Kn=k(bt);ue(Kn,e,"title",{},Ut=>{var Bt=Ee();R(()=>Q(Bt,E())),g(Ut,Bt)}),g(Jn,bt)});var xr=B(Wn,2);U(xr,()=>G()||t.description,Jn=>{var bt=Qd();b(bt,"bx--data-table-header__description",!0);var Kn=k(bt);ue(Kn,e,"description",{},Ut=>{var Bt=Ee();R(()=>Q(Bt,G())),g(Ut,Bt)}),g(Jn,bt)}),g(ni,pr)});var Dt=B(Fe,2);ue(Dt,e,"default",{},null);var Nt=B(Dt,2),wr=Te(()=>u(W)&&"table-layout: fixed");Id(Nt,{get zebra(){return q()},get size(){return O()},get stickyHeader(){return Ae()},get sortable(){return J()},get useStaticWidth(){return Le()},get tableStyle(){return u(wr)},children:(ni,pr)=>{var Wn=fh(),xr=ee(Wn);Ud(xr,{children:(bt,Kn)=>{Vs(bt,{children:(Ut,Bt)=>{var mn=sh(),pe=ee(mn);U(pe,V,gt=>{var Me=th(),Ht=k(Me);U(Ht,K,Ye=>{var Ge=eh();b(Ge,"bx--table-expand__button",!0);var mt=k(Ge);Bs(mt,{class:"bx--table-expand__svg"}),P("click",Ge,()=>{x(ie,!u(ie)),ge(u(ie)?u(d):[]),X("click:header--expand",{expanded:u(ie)})}),g(Ye,Ge)}),R(()=>{ce(Me,"data-previous-value",u(ie)?"collapsed":void 0),b(Me,"bx--table-expand",!0)}),g(gt,Me)});var Yn=B(pe,2);U(Yn,()=>je()&&!Y(),gt=>{var Me=nh();g(gt,Me)});var Zn=B(Yn,2);U(Zn,()=>Y()&&!re(),gt=>{var Me=rh();b(Me,"bx--table-column-checkbox",!0);var Ht=k(Me);Hs(Ht,{get ref(){return u(ve)},set ref(Ye){x(ve,Ye)},"aria-label":"Select all rows",get checked(){return u(f)},get indeterminate(){return u(_)},$$events:{change:Ye=>{if(X("click:header--select",{indeterminate:u(_),selected:!u(_)&&Ye.target.checked}),u(_)){Ye.target.checked=!1,x(f,!1),oe([]);return}Ye.target.checked?oe(u(h)):oe([])}},$$legacy:!0}),g(gt,Me)});var kr=B(Zn,2);dn(kr,1,z,gt=>gt.key,(gt,Me)=>{var Ht=be(),Ye=ee(Ht);U(Ye,()=>u(Me).empty,Ge=>{var mt=ih();const qt=Te(()=>Pt(u(Me)));R(()=>ce(mt,"style",u(qt))),g(Ge,mt)},Ge=>{var mt=Te(()=>Pt(u(Me))),qt=Te(()=>J()&&u(Me).sort!==!1),yn=Te(()=>M()===u(Me).key?F():"none"),Qn=Te(()=>M()===u(Me).key);Kd(Ge,{get id(){return u(Me).key},get style(){return u(mt)},get sortable(){return u(qt)},get sortDirection(){return u(yn)},get active(){return u(Qn)},$$events:{click:()=>{if(X("click",{header:u(Me)}),u(Me).sort===!1)X("click:header",{header:u(Me)});else{let ct=M()===u(Me).key?F():"none";F(ae[ct]),M(F()==="none"?null:u(o)[u(Me).key]),X("click:header",{header:u(Me),sortDirection:F()})}}},children:(ct,Ue)=>{var st=be(),rn=ee(st);ue(rn,e,"cell-header",{get header(){return u(Me)}},jt=>{var At=Ee();R(()=>Q(At,u(Me).value)),g(jt,At)}),g(ct,st)},$$slots:{default:!0}})}),g(gt,Ht)}),g(Ut,mn)},$$slots:{default:!0}})},$$slots:{default:!0}});var Jn=B(xr,2);jd(Jn,{children:(bt,Kn)=>{var Ut=be(),Bt=ee(Ut);dn(Bt,3,()=>u(p)?u(I):u(j),mn=>mn.id,(mn,pe,Yn)=>{var Zn=hh(),kr=ee(Zn),gt=Te(()=>V()?!0:void 0),Me=Te(()=>`${(oe().includes(u(pe).id)?"bx--data-table--selected":"")??""} ${(u(l)[u(pe).id]?"bx--expandable-row":"")??""} ${(V()?"bx--parent-row":"")??""} ${(V()&&u(se)===u(pe).id?"bx--expandable-row--hover":"")??""}`);Vs(kr,{get"data-row"(){return u(pe).id},get"data-parent-row"(){return u(gt)},get class(){return u(Me)},$$events:{click:({target:Ye})=>{[...Ye.classList].some(Ge=>/^bx--(overflow-menu|checkbox|radio-button)/.test(Ge))||(X("click",{row:u(pe)}),X("click:row",u(pe)))},mouseenter:()=>{X("mouseenter:row",u(pe))},mouseleave:()=>{X("mouseleave:row",u(pe))}},children:(Ye,Ge)=>{var mt=ch(),qt=ee(mt);U(qt,V,ct=>{var Ue=Te(()=>!ne().includes(u(pe).id)&&u(l)[u(pe).id]?"collapsed":void 0);_i(ct,{class:"bx--table-expand",headers:"expand",get"data-previous-value"(){return u(Ue)},children:(st,rn)=>{var jt=be(),At=ee(jt);U(At,()=>!ne().includes(u(pe).id),yt=>{var ut=ah(),Ft=k(ut);Bs(Ft,{class:"bx--table-expand__svg"}),R(()=>{ce(ut,"aria-label",u(l)[u(pe).id]?"Collapse current row":"Expand current row"),b(ut,"bx--table-expand__button",!0)}),P("click",ut,Si(()=>{const sn=!!u(l)[u(pe).id];ge(sn?ge().filter(ri=>ri!==u(pe).id):[...ge(),u(pe).id]),X("click:row--expand",{row:u(pe),expanded:!sn})})),g(yt,ut)}),g(st,jt)},$$slots:{default:!0}})});var yn=B(qt,2);U(yn,je,ct=>{var Ue=oh();b(Ue,"bx--table-column-checkbox",!0);var st=k(Ue);U(st,()=>!Ce().includes(u(pe).id),rn=>{var jt=be(),At=ee(jt);U(At,re,yt=>{var ut=Te(()=>oe().includes(u(pe).id));Od(yt,{get name(){return`select-row-${u(pe).id??""}`},get checked(){return u(ut)},$$events:{change:()=>{oe([u(pe).id]),X("click:row--select",{row:u(pe),selected:!0})}}})},yt=>{var ut=Te(()=>oe().includes(u(pe).id));Hs(yt,{get name(){return`select-row-${u(pe).id??""}`},get checked(){return u(ut)},$$events:{change:()=>{oe().includes(u(pe).id)?(oe(oe().filter(Ft=>Ft!==u(pe).id)),X("click:row--select",{row:u(pe),selected:!1})):(oe([...oe(),u(pe).id]),X("click:row--select",{row:u(pe),selected:!0}))}}})}),g(rn,jt)}),R(()=>b(Ue,"bx--table-column-radio",re())),g(ct,Ue)});var Qn=B(yn,2);dn(Qn,3,()=>u(y)[u(pe).id],ct=>ct.key,(ct,Ue,st)=>{var rn=be(),jt=ee(rn);U(jt,()=>z()[u(st)].empty,At=>{var yt=lh(),ut=k(yt);ue(ut,e,"cell",{get row(){return u(pe)},get cell(){return u(Ue)},get rowIndex(){return u(Yn)},get cellIndex(){return u(st)}},Ft=>{var sn=Ee();R(()=>Q(sn,u(Ue).display?u(Ue).display(u(Ue).value,u(pe)):u(Ue).value)),g(Ft,sn)}),R(()=>b(yt,"bx--table-column-menu",z()[u(st)].columnMenu)),g(At,yt)},At=>{_i(At,{$$events:{click:()=>{X("click",{row:u(pe),cell:u(Ue)}),X("click:cell",u(Ue))}},children:(yt,ut)=>{var Ft=be(),sn=ee(Ft);ue(sn,e,"cell",{get row(){return u(pe)},get cell(){return u(Ue)},get rowIndex(){return u(Yn)},get cellIndex(){return u(st)}},ri=>{var rs=Ee();R(()=>Q(rs,u(Ue).display?u(Ue).display(u(Ue).value,u(pe)):u(Ue).value)),g(ri,rs)}),g(yt,Ft)},$$slots:{default:!0}})}),g(ct,rn)}),g(Ye,mt)},$$slots:{default:!0}});var Ht=B(kr,2);U(Ht,V,Ye=>{var Ge=dh();b(Ge,"bx--expandable-row",!0);var mt=k(Ge);U(mt,()=>u(l)[u(pe).id]&&!ne().includes(u(pe).id),qt=>{var yn=Te(()=>je()?z().length+2:z().length+1);_i(qt,{get colspan(){return u(yn)},children:(Qn,ct)=>{var Ue=uh();b(Ue,"bx--child-row-inner-container",!0);var st=k(Ue);ue(st,e,"expanded-row",{get row(){return u(pe)}},null),g(Qn,Ue)},$$slots:{default:!0}})}),P("mouseenter",Ge,()=>{ne().includes(u(pe).id)||x(se,u(pe).id)}),P("mouseleave",Ge,()=>{ne().includes(u(pe).id)||x(se,null)}),g(Ye,Ge)}),g(mn,Zn)}),g(bt,Ut)},$$slots:{default:!0}}),g(ni,Wn)},$$slots:{default:!0}}),g(ye,ze)},$$slots:{default:!0}})),fe()}var _h=N("<section><!></section>");function bh(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size"]);he(e,!1);let i=v(e,"size",8,"default"),s=$(null);const a=He(!1);In("Toolbar",{overflowVisible:a,setOverflowVisible:d=>{a.set(d),u(s)&&Ot(s,u(s).style.overflow=d?"visible":"inherit")}}),_e();var o=_h();let l;var c=k(o);ue(c,e,"default",{},null),qe(o,d=>x(s,d),()=>u(s)),R(()=>{l=de(o,l,{"aria-label":"data table toolbar",...r}),b(o,"bx--table-toolbar",!0),b(o,"bx--table-toolbar--small",i()==="sm"),b(o,"bx--table-toolbar--normal",i()==="default"),Ca(o,"z-index",1)}),g(n,o),fe()}var gh=N("<div><!></div>");function mh(n,e){var t=gh();b(t,"bx--toolbar-content",!0);var r=k(t);ue(r,e,"default",{},null),g(n,t)}var yh=we("<title> </title>"),wh=we('<svg><!><path d="M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"></path></svg>');function ph(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=wh();let c;var d=k(l);U(d,o,h=>{var f=yh(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var xh=N("<div><span></span> <div></div></div>");function kh(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size"]);let i=v(e,"size",8,"xl");var s=xh();let a;var o=k(s);b(o,"bx--label",!0);var l=B(o,2);b(l,"bx--search-input",!0),R(()=>{a=de(s,a,{...r}),b(s,"bx--skeleton",!0),b(s,"bx--search--sm",i()==="sm"),b(s,"bx--search--lg",i()==="lg"),b(s,"bx--search--xl",i()==="xl")}),P("click",s,function(c){C.call(this,e,c)}),P("mouseover",s,function(c){C.call(this,e,c)}),P("mouseenter",s,function(c){C.call(this,e,c)}),P("mouseleave",s,function(c){C.call(this,e,c)}),g(n,s)}var Sh=N('<div role="search"><div><!></div> <label><!></label> <input> <button type="button"><!></button></div>');function Th(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["value","size","searchClass","skeleton","light","disabled","expandable","expanded","placeholder","autocomplete","autofocus","closeButtonLabelText","labelText","icon","id","ref"]);he(e,!1);let i=v(e,"value",12,""),s=v(e,"size",8,"xl"),a=v(e,"searchClass",8,""),o=v(e,"skeleton",8,!1),l=v(e,"light",8,!1),c=v(e,"disabled",8,!1),d=v(e,"expandable",8,!1),h=v(e,"expanded",12,!1),f=v(e,"placeholder",8,"Search..."),_=v(e,"autocomplete",8,"off"),m=v(e,"autofocus",8,!1),y=v(e,"closeButtonLabelText",8,"Clear search input"),S=v(e,"labelText",8,""),w=v(e,"icon",8,ph),p=v(e,"id",24,()=>"ccs-"+Math.random().toString(36)),A=v(e,"ref",12,null);const j=_t();let I=$(null);D(()=>(T(h()),T(A())),()=>{h()&&A()&&A().focus()}),D(()=>T(h()),()=>{j(h()?"expand":"collapse")}),me(),_e();var W=be(),z=ee(W);U(z,o,L=>{kh(L,xt({get size(){return s()}},()=>r,{$$events:{click(O){C.call(this,e,O)},mouseover(O){C.call(this,e,O)},mouseenter(O){C.call(this,e,O)},mouseleave(O){C.call(this,e,O)}}}))},L=>{var O=Sh(),E=k(O);b(E,"bx--search-magnifier",!0);var G=k(E);St(G,w,(ne,re)=>{re(ne,{class:"bx--search-magnifier-icon"})}),qe(E,ne=>x(I,ne),()=>u(I));var q=B(E,2),J=k(q);ue(J,e,"labelText",{},ne=>{var re=Ee();R(()=>Q(re,S())),g(ne,re)});var M=B(q,2);let F;qe(M,ne=>A(ne),()=>A());var V=B(M,2),K=k(V),ge=Te(()=>s()==="xl"?20:16);St(K,()=>hn,(ne,re)=>{re(ne,{get size(){return u(ge)}})}),R(()=>{ce(O,"aria-labelledby",`${p()??""}-search`),Oa(O,a()),b(O,"bx--search",!0),b(O,"bx--search--light",l()),b(O,"bx--search--disabled",c()),b(O,"bx--search--sm",s()==="sm"),b(O,"bx--search--lg",s()==="lg"),b(O,"bx--search--xl",s()==="xl"),b(O,"bx--search--expandable",d()),b(O,"bx--search--expanded",h()),ce(q,"id",`${p()??""}-search`),ce(q,"for",p()),b(q,"bx--label",!0),F=de(M,F,{type:"text",role:"searchbox",autofocus:m()===!0?!0:void 0,autocomplete:_(),disabled:c(),id:p(),placeholder:f(),...r}),b(M,"bx--search-input",!0),ce(V,"aria-label",y()),V.disabled=c(),b(V,"bx--search-close",!0),b(V,"bx--search-close--hidden",i()===""||i()==null)}),P("click",E,()=>{d()&&h(!0)}),Wi(M,i),P("change",M,function(ne){C.call(this,e,ne)}),P("input",M,function(ne){C.call(this,e,ne)}),P("focus",M,function(ne){C.call(this,e,ne)}),P("focus",M,()=>{d()&&h(!0)}),P("blur",M,function(ne){C.call(this,e,ne)}),P("blur",M,()=>{h()&&(i()===""||i()==null)&&h(!1)}),P("keydown",M,function(ne){C.call(this,e,ne)}),P("keydown",M,({key:ne})=>{ne==="Escape"&&(i(""),j("clear"))}),P("keyup",M,function(ne){C.call(this,e,ne)}),P("paste",M,function(ne){C.call(this,e,ne)}),P("click",V,function(ne){C.call(this,e,ne)}),P("click",V,()=>{i(""),A().focus(),j("clear")}),g(L,O)}),g(n,W),fe()}function Eh(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["value","expanded","persistent","disabled","shouldFilterRows","filteredRowIds","tabindex","ref"]);he(e,!1);const i=Xe(),s=()=>Ie(S,"$tableRows",i),a=$(),o=$();let l=v(e,"value",12,""),c=v(e,"expanded",12,!1),d=v(e,"persistent",8,!1),h=v(e,"disabled",8,!1),f=v(e,"shouldFilterRows",8,!1),_=v(e,"filteredRowIds",28,()=>[]),m=v(e,"tabindex",8,"0"),y=v(e,"ref",12,null);const{tableRows:S}=kt("DataTable")??{};async function w(){await os(),!(h()||d()||c())&&(c(!0),await os(),y().focus())}D(()=>s(),()=>{x(a,S?[...s()]:[])}),D(()=>(T(f()),u(a),T(l())),()=>{if(f()){let p=u(a);l().trim().length>0&&(f()===!0?p=p.filter(A=>Object.entries(A).filter(([j])=>j!=="id").some(([j,I])=>{if(typeof I=="string"||typeof I=="number")return(I+"").toLowerCase().includes(l().trim().toLowerCase())})):typeof f()=="function"&&(p=p.filter(A=>f()(A,l())??!1))),S.set(p),_(p.map(A=>A.id))}}),D(()=>T(l()),()=>{c(!!l().length)}),D(()=>(T(c()),T(d()),T(h())),()=>{x(o,[c()&&"bx--toolbar-search-container-active",d()?"bx--toolbar-search-container-persistent":"bx--toolbar-search-container-expandable",h()&&"bx--toolbar-search-container-disabled"].filter(Boolean).join(" "))}),me(),_e(),Th(n,xt({get tabindex(){return m()},get disabled(){return h()}},()=>r,{get searchClass(){return`${u(o)??""} ${r.class??""}`},get ref(){return y()},set ref(p){y(p)},get value(){return l()},set value(p){l(p)},$$events:{clear:[function(p){C.call(this,e,p)},w],change(p){C.call(this,e,p)},input(p){C.call(this,e,p)},focus:[function(p){C.call(this,e,p)},w],blur:[function(p){C.call(this,e,p)},()=>{c(!d()&&!!l().length)}],keyup(p){C.call(this,e,p)},keydown(p){C.call(this,e,p)},paste(p){C.call(this,e,p)}},$$legacy:!0})),fe()}var Ph=we("<title> </title>"),Ah=we('<svg><!><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2ZM14,21.5908l-5-5L10.5906,15,14,18.4092,21.41,11l1.5957,1.5859Z"></path><path fill="none" d="M14 21.591L9 16.591 10.591 15 14 18.409 21.41 11 23.005 12.585 14 21.591z" data-icon-path="inner-path"></path></svg>');function Oh(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Ah();let c;var d=k(l);U(d,o,h=>{var f=Ph(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Ch=N("<form><!></form>");function oo(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["ref"]);let i=v(e,"ref",12,null);var s=Ch();let a;var o=k(s);ue(o,e,"default",{},null),qe(s,l=>i(l),()=>i()),R(()=>{a=de(s,a,{...r}),b(s,"bx--form",!0)}),P("click",s,function(l){C.call(this,e,l)}),P("keydown",s,function(l){C.call(this,e,l)}),P("mouseover",s,function(l){C.call(this,e,l)}),P("mouseenter",s,function(l){C.call(this,e,l)}),P("mouseleave",s,function(l){C.call(this,e,l)}),P("submit",s,function(l){C.call(this,e,l)}),g(n,s)}var Rh=N("<div><!></div>");function es(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["as","condensed","narrow","fullWidth","noGutter","noGutterLeft","noGutterRight","padding"]);he(e,!1);const i=$();let s=v(e,"as",8,!1),a=v(e,"condensed",8,!1),o=v(e,"narrow",8,!1),l=v(e,"fullWidth",8,!1),c=v(e,"noGutter",8,!1),d=v(e,"noGutterLeft",8,!1),h=v(e,"noGutterRight",8,!1),f=v(e,"padding",8,!1);D(()=>(T(r),T(a()),T(o()),T(l()),T(c()),T(d()),T(h()),T(f())),()=>{x(i,{...r,class:[r.class,"bx--grid",a()&&"bx--grid--condensed",o()&&"bx--grid--narrow",l()&&"bx--grid--full-width",c()&&"bx--no-gutter",d()&&"bx--no-gutter--left",h()&&"bx--no-gutter--right",f()&&"bx--row-padding"].filter(Boolean).join(" ")})}),me(),_e();var _=be(),m=ee(_);U(m,s,y=>{var S=be(),w=ee(S);ue(w,e,"default",{get props(){return u(i)}},null),g(y,S)},y=>{var S=Rh();let w;var p=k(S);ue(p,e,"default",{},null),R(()=>w=de(S,w,{...u(i)})),g(y,S)}),g(n,_),fe()}var Ih=N("<div><!></div>");function ts(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["as","condensed","narrow","noGutter","noGutterLeft","noGutterRight","padding"]);he(e,!1);const i=$();let s=v(e,"as",8,!1),a=v(e,"condensed",8,!1),o=v(e,"narrow",8,!1),l=v(e,"noGutter",8,!1),c=v(e,"noGutterLeft",8,!1),d=v(e,"noGutterRight",8,!1),h=v(e,"padding",8,!1);D(()=>(T(r),T(a()),T(o()),T(l()),T(c()),T(d()),T(h())),()=>{x(i,{...r,class:[r.class,"bx--row",a()&&"bx--row--condensed",o()&&"bx--row--narrow",l()&&"bx--no-gutter",c()&&"bx--no-gutter--left",d()&&"bx--no-gutter--right",h()&&"bx--row-padding"].filter(Boolean).join(" ")})}),me(),_e();var f=be(),_=ee(f);U(_,s,m=>{var y=be(),S=ee(y);ue(S,e,"default",{get props(){return u(i)}},null),g(m,y)},m=>{var y=Ih();let S;var w=k(y);ue(w,e,"default",{},null),R(()=>S=de(y,S,{...u(i)})),g(m,y)}),g(n,f),fe()}var Lh=N("<div><!></div>");function ns(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["as","noGutter","noGutterLeft","noGutterRight","padding","aspectRatio","sm","md","lg","xlg","max"]);he(e,!1);const i=$(),s=$();let a=v(e,"as",8,!1),o=v(e,"noGutter",8,!1),l=v(e,"noGutterLeft",8,!1),c=v(e,"noGutterRight",8,!1),d=v(e,"padding",8,!1),h=v(e,"aspectRatio",8,void 0),f=v(e,"sm",8,void 0),_=v(e,"md",8,void 0),m=v(e,"lg",8,void 0),y=v(e,"xlg",8,void 0),S=v(e,"max",8,void 0);const w=["sm","md","lg","xlg","max"];D(()=>(T(f()),T(_()),T(m()),T(y()),T(S())),()=>{x(i,[f(),_(),m(),y(),S()].map((j,I)=>{const W=w[I];if(j===!0)return`bx--col-${W}`;if(typeof j=="number")return`bx--col-${W}-${j}`;if(typeof j=="object"){let z=[];return typeof j.span=="number"?z=[...z,`bx--col-${W}-${j.span}`]:j.span===!0&&(z=[...z,`bx--col-${W}`]),typeof j.offset=="number"&&(z=[...z,`bx--offset-${W}-${j.offset}`]),z.join(" ")}}).filter(Boolean).join(" "))}),D(()=>(T(r),u(i),T(o()),T(l()),T(c()),T(h()),T(d())),()=>{x(s,{...r,class:[r.class,u(i),!u(i)&&"bx--col",o()&&"bx--no-gutter",l()&&"bx--no-gutter--left",c()&&"bx--no-gutter--right",h()&&`bx--aspect-ratio bx--aspect-ratio--${h()}`,d()&&"bx--col-padding"].filter(Boolean).join(" ")})}),me(),_e();var p=be(),A=ee(p);U(A,a,j=>{var I=be(),W=ee(I);ue(W,e,"default",{get props(){return u(s)}},null),g(j,I)},j=>{var I=Lh();let W;var z=k(I);ue(z,e,"default",{},null),R(()=>W=de(I,W,{...u(s)})),g(j,I)}),g(n,p),fe()}var jh=we("<title> </title>"),$h=we('<svg><!><path fill="none" d="M14.9 7.2H17.1V24.799H14.9z" data-icon-path="inner-path" transform="rotate(-45 16 16)"></path><path d="M16,2A13.914,13.914,0,0,0,2,16,13.914,13.914,0,0,0,16,30,13.914,13.914,0,0,0,30,16,13.914,13.914,0,0,0,16,2Zm5.4449,21L9,10.5557,10.5557,9,23,21.4448Z"></path></svg>');function zh(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=$h();let c;var d=k(l);U(d,o,h=>{var f=jh(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Mh=N('<button type="button"><!></button>'),Dh=N("<h2><!></h2>"),Nh=N('<button type="button"><!></button>'),Uh=N("<div></div>"),Bh=N("<div><!> <!></div>"),Hh=N('<div><div tabindex="-1" aria-modal="true"><div><!> <!> <h3><!></h3> <!></div> <div><!></div> <!> <!></div></div>');function lo(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"]);he(e,!1),Xe();const i=$(),s=$(),a=$(),o=$();let l=v(e,"size",8,void 0),c=v(e,"open",12,!1),d=v(e,"danger",8,!1),h=v(e,"alert",8,!1),f=v(e,"passiveModal",8,!1),_=v(e,"modalHeading",8,void 0),m=v(e,"modalLabel",8,void 0),y=v(e,"modalAriaLabel",8,void 0),S=v(e,"iconDescription",8,"Close the modal"),w=v(e,"hasForm",8,!1),p=v(e,"hasScrollingContent",8,!1),A=v(e,"primaryButtonText",8,""),j=v(e,"primaryButtonDisabled",8,!1),I=v(e,"primaryButtonIcon",8,void 0),W=v(e,"shouldSubmitOnEnter",8,!0),z=v(e,"secondaryButtonText",8,""),L=v(e,"secondaryButtons",24,()=>[]),O=v(e,"selectorPrimaryFocus",8,"[data-modal-primary-focus]"),E=v(e,"preventCloseOnClickOutside",8,!1),G=v(e,"id",24,()=>"ccs-"+Math.random().toString(36)),q=v(e,"ref",12,null);const J=_t();let M=$(null),F=$(null),V=!1,K=$(!1);function ge(te){(u(F).querySelector(O())||u(M)).focus()}const ne=He(c());Ed(ne),Ia(()=>{V?c()||(V=!1,J("close")):c()&&(V=!0,ge(),J("open"))}),D(()=>T(c()),()=>{ja(ne,c())}),D(()=>T(G()),()=>{x(i,`bx--modal-header__label--modal-${G()}`)}),D(()=>T(G()),()=>{x(s,`bx--modal-header__heading--modal-${G()}`)}),D(()=>T(G()),()=>{x(a,`bx--modal-body--${G()}`)}),D(()=>(T(m()),T(t),T(y()),T(_())),()=>{x(o,m()||t["aria-label"]||y()||_())}),me(),_e();var re=Hh();let je;var Y=k(re),oe=k(Y);b(oe,"bx--modal-header",!0);var Ce=k(oe);U(Ce,f,te=>{var ie=Mh(),se=k(ie);hn(se,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),qe(ie,ve=>x(M,ve),()=>u(M)),R(()=>{ce(ie,"aria-label",S()),b(ie,"bx--modal-close",!0)}),P("click",ie,()=>{c(!1)}),g(te,ie)});var Ae=B(Ce,2);U(Ae,m,te=>{var ie=Dh(),se=k(ie);ue(se,e,"label",{},ve=>{var Be=Ee();R(()=>Q(Be,m())),g(ve,Be)}),R(()=>{ce(ie,"id",u(i)),b(ie,"bx--modal-header__label",!0)}),g(te,ie)});var Le=B(Ae,2),xe=k(Le);ue(xe,e,"heading",{},te=>{var ie=Ee();R(()=>Q(ie,_())),g(te,ie)});var Se=B(Le,2);U(Se,()=>!f(),te=>{var ie=Nh(),se=k(ie);hn(se,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),qe(ie,ve=>x(M,ve),()=>u(M)),R(()=>{ce(ie,"aria-label",S()),b(ie,"bx--modal-close",!0)}),P("click",ie,()=>{c(!1)}),g(te,ie)});var ae=B(oe,2),X=k(ae);ue(X,e,"default",{},null);var Z=B(ae,2);U(Z,p,te=>{var ie=Uh();b(ie,"bx--modal-content--overflow-indicator",!0),g(te,ie)});var le=B(Z,2);U(le,()=>!f(),te=>{var ie=Bh();b(ie,"bx--modal-footer",!0);var se=k(ie);U(se,()=>L().length>0,Pt=>{var ye=be(),$e=ee(ye);dn($e,1,L,Lr,(ze,Fe)=>{rt(ze,{kind:"secondary",$$events:{click:()=>{J("click:button--secondary",{text:u(Fe).text})}},children:(Dt,Nt)=>{var wr=Ee();R(()=>Q(wr,u(Fe).text)),g(Dt,wr)},$$slots:{default:!0}})}),g(Pt,ye)},Pt=>{var ye=be(),$e=ee(ye);U($e,z,ze=>{rt(ze,{kind:"secondary",$$events:{click:()=>{J("click:button--secondary",{text:z()})}},children:(Fe,Dt)=>{var Nt=Ee();R(()=>Q(Nt,z())),g(Fe,Nt)},$$slots:{default:!0}})},null,!0),g(Pt,ye)});var ve=B(se,2),Be=Te(()=>d()?"danger":"primary");rt(ve,{get kind(){return u(Be)},get disabled(){return j()},get icon(){return I()},$$events:{click:()=>{J("submit"),J("click:button--primary")}},children:(Pt,ye)=>{var $e=Ee();R(()=>Q($e,A())),g(Pt,$e)},$$slots:{default:!0}}),R(()=>b(ie,"bx--modal-footer--three-button",L().length===2)),g(te,ie)}),qe(Y,te=>x(F,te),()=>u(F)),qe(re,te=>q(te),()=>q()),R(()=>{je=de(re,je,{role:"presentation",id:G(),...r}),b(re,"bx--modal",!0),b(re,"bx--modal-tall",!f()),b(re,"is-visible",c()),b(re,"bx--modal--danger",d()),ce(Y,"role",h()?f()?"alert":"alertdialog":"dialog"),ce(Y,"aria-describedby",h()&&!f()?u(a):void 0),ce(Y,"aria-label",u(o)),b(Y,"bx--modal-container",!0),b(Y,"bx--modal-container--xs",l()==="xs"),b(Y,"bx--modal-container--sm",l()==="sm"),b(Y,"bx--modal-container--lg",l()==="lg"),ce(Le,"id",u(s)),b(Le,"bx--modal-header__heading",!0),ce(ae,"id",u(a)),ce(ae,"tabindex",p()?"0":void 0),ce(ae,"role",p()?"region":void 0),ce(ae,"aria-label",p()?u(o):void 0),ce(ae,"aria-labelledby",m()?u(i):u(s)),b(ae,"bx--modal-content",!0),b(ae,"bx--modal-content--with-form",w()),b(ae,"bx--modal-scroll-content",p())}),P("click",Y,()=>{x(K,!0)}),P("keydown",re,function(te){C.call(this,e,te)}),P("keydown",re,te=>{if(c())if(te.key==="Escape")c(!1);else if(te.key==="Tab"){const se=Array.from(q().querySelectorAll(`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`));let ve=se.indexOf(document.activeElement);ve===-1&&te.shiftKey&&(ve=0),ve+=se.length+(te.shiftKey?-1:1),ve%=se.length,se[ve].focus(),te.preventDefault()}else W()&&te.key==="Enter"&&!j()&&(J("submit"),J("click:button--primary"))}),P("click",re,function(te){C.call(this,e,te)}),P("click",re,()=>{!u(K)&&!E()&&c(!1),x(K,!1)}),P("mouseover",re,function(te){C.call(this,e,te)}),P("mouseenter",re,function(te){C.call(this,e,te)}),P("mouseleave",re,function(te){C.call(this,e,te)}),P("transitionend",re,te=>{te.propertyName==="transform"&&J("transitionend",{open:c()})}),g(n,re),fe()}var qh=N("<button><!></button>");function Fh(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["notificationType","icon","title","iconDescription"]);let i=v(e,"notificationType",8,"toast"),s=v(e,"icon",8,hn),a=v(e,"title",8,void 0),o=v(e,"iconDescription",8,"Close icon");var l=qh();let c;var d=k(l),h=Te(()=>`${(i()==="toast"&&"bx--toast-notification__close-icon")??""} ${(i()==="inline"&&"bx--inline-notification__close-icon")??""}`);St(d,s,(f,_)=>{_(f,{size:20,get title(){return a()},get class(){return u(h)}})}),R(()=>{c=de(l,c,{type:"button","aria-label":o(),title:o(),...r}),b(l,"bx--toast-notification__close-button",i()==="toast"),b(l,"bx--inline-notification__close-button",i()==="inline")}),P("click",l,function(f){C.call(this,e,f)}),P("mouseover",l,function(f){C.call(this,e,f)}),P("mouseenter",l,function(f){C.call(this,e,f)}),P("mouseleave",l,function(f){C.call(this,e,f)}),g(n,l)}var Vh=we("<title> </title>"),Gh=we('<svg><!><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg>');function Wh(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Gh();let c;var d=k(l);U(d,o,h=>{var f=Vh(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Jh=we("<title> </title>"),Kh=we('<svg><!><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg>');function Yh(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Kh();let c;var d=k(l);U(d,o,h=>{var f=Jh(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}function Zh(n,e){let t=v(e,"kind",8,"error"),r=v(e,"notificationType",8,"toast"),i=v(e,"iconDescription",8);const s={error:zh,"info-square":Yh,info:Wh,success:Oh,warning:Nn,"warning-alt":ti};var a=be(),o=ee(a),l=Te(()=>`${(r()==="toast"&&"bx--toast-notification__icon")??""} ${(r()==="inline"&&"bx--inline-notification__icon")??""}`);St(o,()=>s[t()],(c,d)=>{d(c,{size:20,get title(){return i()},get class(){return u(l)}})}),g(n,a)}var Qh=N("<div><div><!> <div><p><!></p> <div><!></div> <!></div></div> <!> <!></div>");function co(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["kind","lowContrast","timeout","role","title","subtitle","hideCloseButton","statusIconDescription","closeButtonDescription"]);he(e,!1);let i=v(e,"kind",8,"error"),s=v(e,"lowContrast",8,!1),a=v(e,"timeout",8,0),o=v(e,"role",8,"alert"),l=v(e,"title",8,""),c=v(e,"subtitle",8,""),d=v(e,"hideCloseButton",8,!1),h=v(e,"statusIconDescription",24,()=>i()+" icon"),f=v(e,"closeButtonDescription",8,"Close notification");const _=_t();let m=$(!0),y;function S(A){_("close",{timeout:A===!0},{cancelable:!0})&&x(m,!1)}vt(()=>(a()&&(y=setTimeout(()=>S(!0),a())),()=>{clearTimeout(y)})),_e();var w=be(),p=ee(w);U(p,()=>u(m),A=>{var j=Qh();let I;var W=k(j);b(W,"bx--inline-notification__details",!0);var z=k(W);Zh(z,{notificationType:"inline",get kind(){return i()},get iconDescription(){return h()}});var L=B(z,2);b(L,"bx--inline-notification__text-wrapper",!0);var O=k(L);b(O,"bx--inline-notification__title",!0);var E=k(O);ue(E,e,"title",{},V=>{var K=Ee();R(()=>Q(K,l())),g(V,K)});var G=B(O,2);b(G,"bx--inline-notification__subtitle",!0);var q=k(G);ue(q,e,"subtitle",{},V=>{var K=Ee();R(()=>Q(K,c())),g(V,K)});var J=B(G,2);ue(J,e,"default",{},null);var M=B(W,2);ue(M,e,"actions",{},null);var F=B(M,2);U(F,()=>!d(),V=>{Fh(V,{get iconDescription(){return f()},notificationType:"inline",$$events:{click:S}})}),R(()=>{I=de(j,I,{role:o(),kind:i(),...r}),b(j,"bx--inline-notification",!0),b(j,"bx--inline-notification--low-contrast",s()),b(j,"bx--inline-notification--hide-close-button",d()),b(j,"bx--inline-notification--error",i()==="error"),b(j,"bx--inline-notification--info",i()==="info"),b(j,"bx--inline-notification--info-square",i()==="info-square"),b(j,"bx--inline-notification--success",i()==="success"),b(j,"bx--inline-notification--warning",i()==="warning"),b(j,"bx--inline-notification--warning-alt",i()==="warning-alt")}),P("click",j,function(V){C.call(this,e,V)}),P("mouseover",j,function(V){C.call(this,e,V)}),P("mouseenter",j,function(V){C.call(this,e,V)}),P("mouseleave",j,function(V){C.call(this,e,V)}),g(A,j)}),g(n,w),fe()}var Xh=we("<title> </title>"),ef=we('<svg><!><path d="M30 28.6L3.4 2 2 3.4l10.1 10.1L4 21.6V28h6.4l8.1-8.1L28.6 30 30 28.6zM9.6 26H6v-3.6l7.5-7.5 3.6 3.6L9.6 26zM29.4 6.2L29.4 6.2l-3.6-3.6c-.8-.8-2-.8-2.8 0l0 0 0 0-8 8 1.4 1.4L20 8.4l3.6 3.6L20 15.6l1.4 1.4 8-8C30.2 8.2 30.2 7 29.4 6.2L29.4 6.2zM25 10.6L21.4 7l3-3L28 7.6 25 10.6z"></path></svg>');function tf(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=ef();let c;var d=k(l);U(d,o,h=>{var f=Xh(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var nf=N("<label><!></label>"),rf=N("<div> </div>"),sf=N("<div> </div>"),af=N("<div><div><select><!></select> <!> <!></div> <!></div> <!>",1),of=N("<div> </div>"),lf=N("<div> </div>"),cf=N("<div> </div>"),uf=N("<div><select><!></select> <!> <!> <!></div> <!> <!> <!>",1),df=N("<div><div><!> <!> <!></div></div>");function zr(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["selected","size","inline","light","disabled","id","name","invalid","invalidText","warn","warnText","helperText","noLabel","labelText","hideLabel","ref","required"]);he(e,!1);const i=Xe(),s=()=>Ie(M,"$defaultValue",i),a=()=>Ie(J,"$defaultSelectId",i),o=()=>Ie(F,"$itemTypesByValue",i),l=()=>Ie(q,"$selectedValue",i),c=$();let d=v(e,"selected",12,void 0),h=v(e,"size",8,void 0),f=v(e,"inline",8,!1),_=v(e,"light",8,!1),m=v(e,"disabled",8,!1),y=v(e,"id",24,()=>"ccs-"+Math.random().toString(36)),S=v(e,"name",8,void 0),w=v(e,"invalid",8,!1),p=v(e,"invalidText",8,""),A=v(e,"warn",8,!1),j=v(e,"warnText",8,""),I=v(e,"helperText",8,""),W=v(e,"noLabel",8,!1),z=v(e,"labelText",8,""),L=v(e,"hideLabel",8,!1),O=v(e,"ref",12,null),E=v(e,"required",8,!1);const G=_t(),q=He(d()),J=He(null),M=He(null),F=He({});In("Select",{selectedValue:q,setDefaultValue:(Ce,Ae)=>{s()===null?(J.set(Ce),M.set(Ae)):a()===Ce&&q.set(Ae),F.update(Le=>({...Le,[Ae]:typeof Ae}))}});const V=({target:Ce})=>{let Ae=Ce.value;o()[Ae]==="number"&&(Ae=Number(Ae)),q.set(Ae)};let K;Ia(()=>{d(l()),K!==void 0&&d()!==K&&G("update",l()),K=d()}),D(()=>T(y()),()=>{x(c,`error-${y()}`)}),D(()=>(T(d()),s()),()=>{q.set(d()??s())}),me(),_e();var ge=df();let ne;var re=k(ge);b(re,"bx--select",!0);var je=k(re);U(je,()=>!W(),Ce=>{var Ae=nf(),Le=k(Ae);ue(Le,e,"labelText",{},xe=>{var Se=Ee();R(()=>Q(Se,z())),g(xe,Se)}),R(()=>{ce(Ae,"for",y()),b(Ae,"bx--label",!0),b(Ae,"bx--visually-hidden",L()),b(Ae,"bx--label--disabled",m())}),g(Ce,Ae)});var Y=B(je,2);U(Y,f,Ce=>{var Ae=af(),Le=ee(Ae);b(Le,"bx--select-input--inline__wrapper",!0);var xe=k(Le),Se=k(xe),ae=k(Se);ue(ae,e,"default",{},null),qe(Se,ie=>O(ie),()=>O());var X=B(Se,2);qs(X,{class:"bx--select__arrow"});var Z=B(X,2);U(Z,w,ie=>{Nn(ie,{class:"bx--select__invalid-icon"})});var le=B(xe,2);U(le,w,ie=>{var se=rf(),ve=k(se);R(()=>{ce(se,"id",u(c)),b(se,"bx--form-requirement",!0),Q(ve,p())}),g(ie,se)});var te=B(Le,2);U(te,()=>!w()&&!A()&&I(),ie=>{var se=sf();b(se,"bx--form__helper-text",!0);var ve=k(se);R(()=>{b(se,"bx--form__helper-text--disabled",m()),Q(ve,I())}),g(ie,se)}),R(()=>{ce(xe,"data-invalid",w()||void 0),b(xe,"bx--select-input__wrapper",!0),ce(Se,"aria-describedby",w()?u(c):void 0),ce(Se,"aria-invalid",w()||void 0),Se.disabled=m()||void 0,Se.required=E()||void 0,ce(Se,"id",y()),ce(Se,"name",S()),b(Se,"bx--select-input",!0),b(Se,"bx--select-input--sm",h()==="sm"),b(Se,"bx--select-input--xl",h()==="xl")}),P("change",Se,V),P("change",Se,function(ie){C.call(this,e,ie)}),P("input",Se,function(ie){C.call(this,e,ie)}),P("focus",Se,function(ie){C.call(this,e,ie)}),P("blur",Se,function(ie){C.call(this,e,ie)}),g(Ce,Ae)});var oe=B(Y,2);U(oe,()=>!f(),Ce=>{var Ae=uf(),Le=ee(Ae),xe=k(Le),Se=k(xe);ue(Se,e,"default",{},null),qe(xe,se=>O(se),()=>O());var ae=B(xe,2);qs(ae,{class:"bx--select__arrow"});var X=B(ae,2);U(X,w,se=>{Nn(se,{class:"bx--select__invalid-icon"})});var Z=B(X,2);U(Z,()=>!w()&&A(),se=>{ti(se,{class:"bx--select__invalid-icon bx--select__invalid-icon--warning"})});var le=B(Le,2);U(le,()=>!w()&&I(),se=>{var ve=of();b(ve,"bx--form__helper-text",!0);var Be=k(ve);R(()=>{b(ve,"bx--form__helper-text--disabled",m()),Q(Be,I())}),g(se,ve)});var te=B(le,2);U(te,w,se=>{var ve=lf(),Be=k(ve);R(()=>{ce(ve,"id",u(c)),b(ve,"bx--form-requirement",!0),Q(Be,p())}),g(se,ve)});var ie=B(te,2);U(ie,()=>!w()&&A(),se=>{var ve=cf(),Be=k(ve);R(()=>{ce(ve,"id",u(c)),b(ve,"bx--form-requirement",!0),Q(Be,j())}),g(se,ve)}),R(()=>{ce(Le,"data-invalid",w()||void 0),b(Le,"bx--select-input__wrapper",!0),ce(xe,"id",y()),ce(xe,"name",S()),ce(xe,"aria-describedby",w()?u(c):void 0),xe.disabled=m()||void 0,xe.required=E()||void 0,ce(xe,"aria-invalid",w()||void 0),b(xe,"bx--select-input",!0),b(xe,"bx--select-input--sm",h()==="sm"),b(xe,"bx--select-input--xl",h()==="xl")}),P("change",xe,V),P("change",xe,function(se){C.call(this,e,se)}),P("input",xe,function(se){C.call(this,e,se)}),P("focus",xe,function(se){C.call(this,e,se)}),P("blur",xe,function(se){C.call(this,e,se)}),g(Ce,Ae)}),R(()=>{ne=de(ge,ne,{...r}),b(ge,"bx--form-item",!0),b(re,"bx--select--inline",f()),b(re,"bx--select--light",_()),b(re,"bx--select--invalid",w()),b(re,"bx--select--disabled",m()),b(re,"bx--select--warning",A())}),g(n,ge),fe()}var hf=N("<option> </option>");function Yt(n,e){he(e,!1);let t=v(e,"value",8,""),r=v(e,"text",8,""),i=v(e,"hidden",8,!1),s=v(e,"disabled",8,!1),a=v(e,"class",8,void 0),o=v(e,"style",8,void 0);const l="ccs-"+Math.random().toString(36),c=kt("Select")||kt("TimePickerSelect");let d=$(!1);const h=c.selectedValue.subscribe(y=>{x(d,y===t())});vt(()=>()=>h()),D(()=>T(t()),()=>{var y;(y=c==null?void 0:c.setDefaultValue)==null||y.call(c,l,t())}),me(),_e();var f=hf(),_={},m=k(f);R(()=>{_!==(_=t())&&(f.value=(f.__value=t())==null?"":t()),f.disabled=s(),f.hidden=i(),f.selected=u(d),Oa(f,a()),ce(f,"style",o()),b(f,"bx--select-option",!0),Q(m,r()||t())}),g(n,f),fe()}var ff=N("<span></span>");function vf(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size"]);let i=v(e,"size",8,"default");var s=ff();let a;R(()=>{a=de(s,a,{...r}),b(s,"bx--tag",!0),b(s,"bx--tag--sm",i()==="sm"),b(s,"bx--skeleton",!0)}),P("click",s,function(o){C.call(this,e,o)}),P("mouseover",s,function(o){C.call(this,e,o)}),P("mouseenter",s,function(o){C.call(this,e,o)}),P("mouseleave",s,function(o){C.call(this,e,o)}),g(n,s)}var _f=N("<span> </span>"),bf=N('<div><!> <button type="button"><!></button></div>'),gf=N("<div><!></div>"),mf=N("<button><!> <span><!></span></button>"),yf=N("<div><!></div>"),wf=N("<div><!> <span><!></span></div>");function pf(n,e){const t=nn(e),r=H(e,["children","$$slots","$$events","$$legacy"]),i=H(r,["type","size","filter","disabled","interactive","skeleton","title","icon","id"]);he(e,!1);let s=v(e,"type",8,void 0),a=v(e,"size",8,"default"),o=v(e,"filter",8,!1),l=v(e,"disabled",8,!1),c=v(e,"interactive",8,!1),d=v(e,"skeleton",8,!1),h=v(e,"title",8,"Clear filter"),f=v(e,"icon",8,void 0),_=v(e,"id",24,()=>"ccs-"+Math.random().toString(36));const m=_t();_e();var y=be(),S=ee(y);U(S,d,w=>{vf(w,xt({get size(){return a()}},()=>i,{$$events:{click(p){C.call(this,e,p)},mouseover(p){C.call(this,e,p)},mouseenter(p){C.call(this,e,p)},mouseleave(p){C.call(this,e,p)}}}))},w=>{var p=be(),A=ee(p);U(A,o,j=>{var I=bf();let W;var z=k(I);ue(z,e,"default",{props:{class:"bx--tag__label"}},E=>{var G=_f();b(G,"bx--tag__label",!0);var q=k(G);R(()=>Q(q,s())),g(E,G)});var L=B(z,2),O=k(L);hn(O,{}),R(()=>{W=de(I,W,{"aria-label":h(),id:_(),...i}),b(I,"bx--tag",!0),b(I,"bx--tag--disabled",l()),b(I,"bx--tag--filter",o()),b(I,"bx--tag--sm",a()==="sm"),b(I,"bx--tag--red",s()==="red"),b(I,"bx--tag--magenta",s()==="magenta"),b(I,"bx--tag--purple",s()==="purple"),b(I,"bx--tag--blue",s()==="blue"),b(I,"bx--tag--cyan",s()==="cyan"),b(I,"bx--tag--teal",s()==="teal"),b(I,"bx--tag--green",s()==="green"),b(I,"bx--tag--gray",s()==="gray"),b(I,"bx--tag--cool-gray",s()==="cool-gray"),b(I,"bx--tag--warm-gray",s()==="warm-gray"),b(I,"bx--tag--high-contrast",s()==="high-contrast"),b(I,"bx--tag--outline",s()==="outline"),ce(L,"aria-labelledby",_()),L.disabled=l(),ce(L,"title",h()),b(L,"bx--tag__close-icon",!0)}),P("click",L,Si(function(E){C.call(this,e,E)})),P("click",L,Si(()=>{m("close")})),P("mouseover",L,function(E){C.call(this,e,E)}),P("mouseenter",L,function(E){C.call(this,e,E)}),P("mouseleave",L,function(E){C.call(this,e,E)}),g(j,I)},j=>{var I=be(),W=ee(I);U(W,c,z=>{var L=mf();let O;var E=k(L);U(E,()=>t.icon||f(),J=>{var M=gf();b(M,"bx--tag__custom-icon",!0);var F=k(M);ue(F,e,"icon",{},V=>{var K=be(),ge=ee(K);St(ge,f,(ne,re)=>{re(ne,{})}),g(V,K)}),g(J,M)});var G=B(E,2),q=k(G);ue(q,e,"default",{},null),R(()=>{O=de(L,O,{type:"button",id:_(),disabled:l(),"aria-disabled":l(),tabindex:l()?"-1":void 0,...i}),b(L,"bx--tag",!0),b(L,"bx--tag--interactive",!0),b(L,"bx--tag--disabled",l()),b(L,"bx--tag--sm",a()==="sm"),b(L,"bx--tag--red",s()==="red"),b(L,"bx--tag--magenta",s()==="magenta"),b(L,"bx--tag--purple",s()==="purple"),b(L,"bx--tag--blue",s()==="blue"),b(L,"bx--tag--cyan",s()==="cyan"),b(L,"bx--tag--teal",s()==="teal"),b(L,"bx--tag--green",s()==="green"),b(L,"bx--tag--gray",s()==="gray"),b(L,"bx--tag--cool-gray",s()==="cool-gray"),b(L,"bx--tag--warm-gray",s()==="warm-gray"),b(L,"bx--tag--high-contrast",s()==="high-contrast"),b(L,"bx--tag--outline",s()==="outline")}),P("click",L,function(J){C.call(this,e,J)}),P("mouseover",L,function(J){C.call(this,e,J)}),P("mouseenter",L,function(J){C.call(this,e,J)}),P("mouseleave",L,function(J){C.call(this,e,J)}),g(z,L)},z=>{var L=wf();let O;var E=k(L);U(E,()=>t.icon||f(),J=>{var M=yf();b(M,"bx--tag__custom-icon",!0);var F=k(M);ue(F,e,"icon",{},V=>{var K=be(),ge=ee(K);St(ge,f,(ne,re)=>{re(ne,{})}),g(V,K)}),g(J,M)});var G=B(E,2),q=k(G);ue(q,e,"default",{},null),R(()=>{O=de(L,O,{id:_(),...i}),b(L,"bx--tag",!0),b(L,"bx--tag--disabled",l()),b(L,"bx--tag--sm",a()==="sm"),b(L,"bx--tag--red",s()==="red"),b(L,"bx--tag--magenta",s()==="magenta"),b(L,"bx--tag--purple",s()==="purple"),b(L,"bx--tag--blue",s()==="blue"),b(L,"bx--tag--cyan",s()==="cyan"),b(L,"bx--tag--teal",s()==="teal"),b(L,"bx--tag--green",s()==="green"),b(L,"bx--tag--gray",s()==="gray"),b(L,"bx--tag--cool-gray",s()==="cool-gray"),b(L,"bx--tag--warm-gray",s()==="warm-gray"),b(L,"bx--tag--high-contrast",s()==="high-contrast"),b(L,"bx--tag--outline",s()==="outline")}),P("click",L,function(J){C.call(this,e,J)}),P("mouseover",L,function(J){C.call(this,e,J)}),P("mouseenter",L,function(J){C.call(this,e,J)}),P("mouseleave",L,function(J){C.call(this,e,J)}),g(z,L)},!0),g(j,I)},!0),g(w,p)}),g(n,y),fe()}var xf=N("<div> </div>"),kf=N("<div><label><!></label> <!></div>"),Sf=N("<div> </div>"),Tf=N("<div> </div>"),Ef=N("<div><!> <div><!> <textarea></textarea></div> <!> <!></div>");function Pf(n,e){const t=nn(e),r=H(e,["children","$$slots","$$events","$$legacy"]),i=H(r,["value","placeholder","cols","rows","maxCount","light","disabled","readonly","helperText","labelText","hideLabel","invalid","invalidText","id","name","ref"]);he(e,!1);const s=$();let a=v(e,"value",12,""),o=v(e,"placeholder",8,""),l=v(e,"cols",8,50),c=v(e,"rows",8,4),d=v(e,"maxCount",8,void 0),h=v(e,"light",8,!1),f=v(e,"disabled",8,!1),_=v(e,"readonly",8,!1),m=v(e,"helperText",8,""),y=v(e,"labelText",8,""),S=v(e,"hideLabel",8,!1),w=v(e,"invalid",8,!1),p=v(e,"invalidText",8,""),A=v(e,"id",24,()=>"ccs-"+Math.random().toString(36)),j=v(e,"name",8,void 0),I=v(e,"ref",12,null);D(()=>T(A()),()=>{x(s,`error-${A()}`)}),me(),_e();var W=Ef();b(W,"bx--form-item",!0);var z=k(W);U(z,()=>(y()||t.labelText)&&!S(),M=>{var F=kf();b(F,"bx--text-area__label-wrapper",!0);var V=k(F),K=k(V);ue(K,e,"labelText",{},ne=>{var re=Ee();R(()=>Q(re,y())),g(ne,re)});var ge=B(V,2);U(ge,d,ne=>{var re=xf();b(re,"bx--label",!0);var je=k(re);R(()=>{b(re,"bx--label--disabled",f()),Q(je,`${a().length??""}/${d()??""}`)}),g(ne,re)}),R(()=>{ce(V,"for",A()),b(V,"bx--label",!0),b(V,"bx--visually-hidden",S()),b(V,"bx--label--disabled",f())}),g(M,F)});var L=B(z,2),O=k(L);U(O,w,M=>{Nn(M,{class:"bx--text-area__invalid-icon"})});var E=B(O,2);let G;qe(E,M=>I(M),()=>I());var q=B(L,2);U(q,()=>!w()&&m(),M=>{var F=Sf();b(F,"bx--form__helper-text",!0);var V=k(F);R(()=>{b(F,"bx--form__helper-text--disabled",f()),Q(V,m())}),g(M,F)});var J=B(q,2);U(J,w,M=>{var F=Tf(),V=k(F);R(()=>{ce(F,"id",u(s)),b(F,"bx--form-requirement",!0),Q(V,p())}),g(M,F)}),R(()=>{ce(L,"data-invalid",w()||void 0),b(L,"bx--text-area__wrapper",!0),G=de(E,G,{"aria-invalid":w()||void 0,"aria-describedby":w()?u(s):void 0,disabled:f(),id:A(),name:j(),cols:l(),rows:c(),placeholder:o(),readonly:_(),maxlength:d()??void 0,...i}),b(E,"bx--text-area",!0),b(E,"bx--text-area--light",h()),b(E,"bx--text-area--invalid",w())}),Wi(E,a),P("change",E,function(M){C.call(this,e,M)}),P("input",E,function(M){C.call(this,e,M)}),P("keydown",E,function(M){C.call(this,e,M)}),P("keyup",E,function(M){C.call(this,e,M)}),P("focus",E,function(M){C.call(this,e,M)}),P("blur",E,function(M){C.call(this,e,M)}),P("paste",E,function(M){C.call(this,e,M)}),P("click",W,function(M){C.call(this,e,M)}),P("mouseover",W,function(M){C.call(this,e,M)}),P("mouseenter",W,function(M){C.call(this,e,M)}),P("mouseleave",W,function(M){C.call(this,e,M)}),g(n,W),fe()}var Af=N("<label><!></label>"),Of=N("<div> </div>"),Cf=N("<div><!> <!></div>"),Rf=N("<label><!></label>"),If=N("<!> <!>",1),Lf=N("<hr>"),jf=N("<div> </div>"),$f=N("<div> </div>"),zf=N("<div> </div>"),Mf=N("<div> </div>"),Df=N("<div> </div>"),Nf=N("<div><!> <!> <div><div><!> <input> <!> <!> <!></div> <!> <!> <!></div></div>");function Ct(n,e){const t=nn(e),r=H(e,["children","$$slots","$$events","$$legacy"]),i=H(r,["size","value","placeholder","light","disabled","helperText","id","name","labelText","hideLabel","invalid","invalidText","warn","warnText","ref","required","inline","readonly"]);he(e,!1);const s=$(),a=$(),o=$(),l=$();let c=v(e,"size",8,void 0),d=v(e,"value",12,""),h=v(e,"placeholder",8,""),f=v(e,"light",8,!1),_=v(e,"disabled",8,!1),m=v(e,"helperText",8,""),y=v(e,"id",24,()=>"ccs-"+Math.random().toString(36)),S=v(e,"name",8,void 0),w=v(e,"labelText",8,""),p=v(e,"hideLabel",8,!1),A=v(e,"invalid",8,!1),j=v(e,"invalidText",8,""),I=v(e,"warn",8,!1),W=v(e,"warnText",8,""),z=v(e,"ref",12,null),L=v(e,"required",8,!1),O=v(e,"inline",8,!1),E=v(e,"readonly",8,!1);const G=kt("Form"),q=_t();function J(Z){return i.type!=="number"?Z:Z!=""?Number(Z):null}const M=Z=>{d(J(Z.target.value)),q("input",d())},F=Z=>{q("change",J(Z.target.value))},V=!!G&&G.isFluid;D(()=>(T(A()),T(E())),()=>{x(s,A()&&!E())}),D(()=>T(y()),()=>{x(a,`helper-${y()}`)}),D(()=>T(y()),()=>{x(o,`error-${y()}`)}),D(()=>T(y()),()=>{x(l,`warn-${y()}`)}),me(),_e();var K=Nf();b(K,"bx--form-item",!0),b(K,"bx--text-input-wrapper",!0);var ge=k(K);U(ge,O,Z=>{var le=Cf();b(le,"bx--text-input__label-helper-wrapper",!0);var te=k(le);U(te,w,se=>{var ve=Af(),Be=k(ve);ue(Be,e,"labelText",{},Pt=>{var ye=Ee();R(()=>Q(ye,w())),g(Pt,ye)}),R(()=>{ce(ve,"for",y()),b(ve,"bx--label",!0),b(ve,"bx--visually-hidden",p()),b(ve,"bx--label--disabled",_()),b(ve,"bx--label--inline",O()),b(ve,"bx--label--inline--sm",c()==="sm"),b(ve,"bx--label--inline--xl",c()==="xl")}),g(se,ve)});var ie=B(te,2);U(ie,()=>!V&&m(),se=>{var ve=Of();b(ve,"bx--form__helper-text",!0);var Be=k(ve);R(()=>{b(ve,"bx--form__helper-text--disabled",_()),b(ve,"bx--form__helper-text--inline",O()),Q(Be,m())}),g(se,ve)}),g(Z,le)});var ne=B(ge,2);U(ne,()=>!O()&&(w()||t.labelText),Z=>{var le=Rf(),te=k(le);ue(te,e,"labelText",{},ie=>{var se=Ee();R(()=>Q(se,w())),g(ie,se)}),R(()=>{ce(le,"for",y()),b(le,"bx--label",!0),b(le,"bx--visually-hidden",p()),b(le,"bx--label--disabled",_()),b(le,"bx--label--inline",O()),b(le,"bx--label--inline-sm",O()&&c()==="sm"),b(le,"bx--label--inline-xl",O()&&c()==="xl")}),g(Z,le)});var re=B(ne,2);b(re,"bx--text-input__field-outer-wrapper",!0);var je=k(re),Y=k(je);U(Y,E,Z=>{tf(Z,{class:"bx--text-input__readonly-icon"})},Z=>{var le=If(),te=ee(le);U(te,A,se=>{Nn(se,{class:"bx--text-input__invalid-icon"})});var ie=B(te,2);U(ie,()=>!A()&&I(),se=>{ti(se,{class:`bx--text-input__invalid-icon
            bx--text-input__invalid-icon--warning`})}),g(Z,le)});var oe=B(Y,2);let Ce;qe(oe,Z=>z(Z),()=>z());var Ae=B(oe,2);U(Ae,()=>V,Z=>{var le=Lf();b(le,"bx--text-input__divider",!0),g(Z,le)});var Le=B(Ae,2);U(Le,()=>V&&!O()&&A(),Z=>{var le=jf(),te=k(le);R(()=>{ce(le,"id",u(o)),b(le,"bx--form-requirement",!0),Q(te,j())}),g(Z,le)});var xe=B(Le,2);U(xe,()=>V&&!O()&&I(),Z=>{var le=$f(),te=k(le);R(()=>{ce(le,"id",u(l)),b(le,"bx--form-requirement",!0),Q(te,W())}),g(Z,le)});var Se=B(je,2);U(Se,()=>!A()&&!I()&&!V&&!O()&&m(),Z=>{var le=zf(),te=k(le);R(()=>{ce(le,"id",u(a)),b(le,"bx--form__helper-text",!0),b(le,"bx--form__helper-text--disabled",_()),b(le,"bx--form__helper-text--inline",O()),Q(te,m())}),g(Z,le)});var ae=B(Se,2);U(ae,()=>!V&&A(),Z=>{var le=Mf(),te=k(le);R(()=>{ce(le,"id",u(o)),b(le,"bx--form-requirement",!0),Q(te,j())}),g(Z,le)});var X=B(ae,2);U(X,()=>!V&&!A()&&I(),Z=>{var le=Df(),te=k(le);R(()=>{ce(le,"id",u(l)),b(le,"bx--form-requirement",!0),Q(te,W())}),g(Z,le)}),R(()=>{b(K,"bx--text-input-wrapper--inline",O()),b(K,"bx--text-input-wrapper--light",f()),b(K,"bx--text-input-wrapper--readonly",E()),b(re,"bx--text-input__field-outer-wrapper--inline",O()),ce(je,"data-invalid",u(s)||void 0),ce(je,"data-warn",I()||void 0),b(je,"bx--text-input__field-wrapper",!0),b(je,"bx--text-input__field-wrapper--warning",!A()&&I()),Ce=de(oe,Ce,{"data-invalid":u(s)||void 0,"aria-invalid":u(s)||void 0,"data-warn":I()||void 0,"aria-describedby":u(s)?u(o):I()?u(l):m()?u(a):void 0,disabled:_(),id:y(),name:S(),placeholder:h(),required:L(),readonly:E(),...i}),b(oe,"bx--text-input",!0),b(oe,"bx--text-input--light",f()),b(oe,"bx--text-input--invalid",u(s)),b(oe,"bx--text-input--warning",I()),b(oe,"bx--text-input--sm",c()==="sm"),b(oe,"bx--text-input--xl",c()==="xl")}),Wi(oe,d),P("change",oe,F),P("input",oe,M),P("keydown",oe,function(Z){C.call(this,e,Z)}),P("keyup",oe,function(Z){C.call(this,e,Z)}),P("focus",oe,function(Z){C.call(this,e,Z)}),P("blur",oe,function(Z){C.call(this,e,Z)}),P("paste",oe,function(Z){C.call(this,e,Z)}),P("click",K,function(Z){C.call(this,e,Z)}),P("mouseover",K,function(Z){C.call(this,e,Z)}),P("mouseenter",K,function(Z){C.call(this,e,Z)}),P("mouseleave",K,function(Z){C.call(this,e,Z)}),g(n,K),fe()}var Uf=we("<title> </title>"),Bf=we('<svg><!><path d="M30.94,15.66A16.69,16.69,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16.69,16.69,0,0,0,16,27,16.69,16.69,0,0,0,30.94,16.34,1,1,0,0,0,30.94,15.66ZM16,25c-5.3,0-10.9-3.93-12.93-9C5.1,10.93,10.7,7,16,7s10.9,3.93,12.93,9C26.9,21.07,21.3,25,16,25Z"></path><path d="M16,10a6,6,0,1,0,6,6A6,6,0,0,0,16,10Zm0,10a4,4,0,1,1,4-4A4,4,0,0,1,16,20Z"></path></svg>');function Hf(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Bf();let c;var d=k(l);U(d,o,h=>{var f=Uf(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var qf=we("<title> </title>"),Ff=we('<svg><!><path d="M5.24,22.51l1.43-1.42A14.06,14.06,0,0,1,3.07,16C5.1,10.93,10.7,7,16,7a12.38,12.38,0,0,1,4,.72l1.55-1.56A14.72,14.72,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16,16,0,0,0,5.24,22.51Z"></path><path d="M12 15.73a4 4 0 013.7-3.7l1.81-1.82a6 6 0 00-7.33 7.33zM30.94 15.66A16.4 16.4 0 0025.2 8.22L30 3.41 28.59 2 2 28.59 3.41 30l5.1-5.1A15.29 15.29 0 0016 27 16.69 16.69 0 0030.94 16.34 1 1 0 0030.94 15.66zM20 16a4 4 0 01-6 3.44L19.44 14A4 4 0 0120 16zm-4 9a13.05 13.05 0 01-6-1.58l2.54-2.54a6 6 0 008.35-8.35l2.87-2.87A14.54 14.54 0 0128.93 16C26.9 21.07 21.3 25 16 25z"></path></svg>');function Vf(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Ff();let c;var d=k(l);U(d,o,h=>{var f=qf(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Gf=N("<div> </div>"),Wf=N("<label><!></label> <!>",1),Jf=N("<label><!></label>"),Kf=N('<hr class="bx--text-input__divider"> <div class="bx--form-requirement"> </div>',1),Yf=N("<span><!></span>"),Zf=N('<button type="button"><!> <!></button>'),Qf=N("<div> </div>"),Xf=N("<div> </div>"),ev=N("<div> </div>"),tv=N("<div><!> <!> <div><div><!> <!> <input> <!> <!></div> <!> <!> <!></div></div>");function nv(n,e){const t=nn(e),r=H(e,["children","$$slots","$$events","$$legacy"]),i=H(r,["size","value","type","placeholder","hidePasswordLabel","showPasswordLabel","tooltipAlignment","tooltipPosition","light","disabled","helperText","labelText","hideLabel","invalid","invalidText","warn","warnText","inline","id","name","ref"]);he(e,!1);const s=$(),a=$(),o=$();let l=v(e,"size",8,void 0),c=v(e,"value",12,""),d=v(e,"type",12,"password"),h=v(e,"placeholder",8,""),f=v(e,"hidePasswordLabel",8,"Hide password"),_=v(e,"showPasswordLabel",8,"Show password"),m=v(e,"tooltipAlignment",8,"center"),y=v(e,"tooltipPosition",8,"bottom"),S=v(e,"light",8,!1),w=v(e,"disabled",8,!1),p=v(e,"helperText",8,""),A=v(e,"labelText",8,""),j=v(e,"hideLabel",8,!1),I=v(e,"invalid",8,!1),W=v(e,"invalidText",8,""),z=v(e,"warn",8,!1),L=v(e,"warnText",8,""),O=v(e,"inline",8,!1),E=v(e,"id",24,()=>"ccs-"+Math.random().toString(36)),G=v(e,"name",8,void 0),q=v(e,"ref",12,null);const J=kt("Form"),M=!!J&&J.isFluid;D(()=>T(E()),()=>{x(s,`helper-${E()}`)}),D(()=>T(E()),()=>{x(a,`error-${E()}`)}),D(()=>T(E()),()=>{x(o,`warn-${E()}`)}),me(),_e();var F=tv();b(F,"bx--form-item",!0),b(F,"bx--text-input-wrapper",!0),b(F,"bx--password-input-wrapper",!M);var V=k(F);U(V,O,ae=>{var X=Wf(),Z=ee(X),le=k(Z);ue(le,e,"labelText",{},ie=>{var se=Ee();R(()=>Q(se,A())),g(ie,se)});var te=B(Z,2);U(te,()=>!M&&p(),ie=>{var se=Gf(),ve=k(se);R(()=>{ce(se,"id",u(s)),b(se,"bx--form__helper-text",!0),b(se,"bx--form__helper-text--disabled",w()),b(se,"bx--form__helper-text--inline",O()),Q(ve,p())}),g(ie,se)}),R(()=>{ce(Z,"for",E()),b(Z,"bx--label",!0),b(Z,"bx--visually-hidden",j()),b(Z,"bx--label--disabled",w()),b(Z,"bx--label--inline",O()),b(Z,"bx--label--inline--sm",O()&&l()==="sm"),b(Z,"bx--label--inline--xl",O()&&l()==="xl")}),g(ae,X)});var K=B(V,2);U(K,()=>!O()&&(A()||t.labelText),ae=>{var X=Jf(),Z=k(X);ue(Z,e,"labelText",{},le=>{var te=Ee();R(()=>Q(te,A())),g(le,te)}),R(()=>{ce(X,"for",E()),b(X,"bx--label",!0),b(X,"bx--visually-hidden",j()),b(X,"bx--label--disabled",w()),b(X,"bx--label--inline",O()),b(X,"bx--label--inline--sm",O()&&l()==="sm"),b(X,"bx--label--inline--xl",O()&&l()==="xl")}),g(ae,X)});var ge=B(K,2);b(ge,"bx--text-input__field-outer-wrapper",!0);var ne=k(ge),re=k(ne);U(re,I,ae=>{Nn(ae,{class:"bx--text-input__invalid-icon"})});var je=B(re,2);U(je,()=>!I()&&z(),ae=>{ti(ae,{class:`bx--text-input__invalid-icon
            bx--text-input__invalid-icon--warning`})});var Y=B(je,2);let oe;qe(Y,ae=>q(ae),()=>q());var Ce=B(Y,2);U(Ce,()=>M&&I(),ae=>{var X=Kf(),Z=B(ee(X),2),le=k(Z);R(()=>{ce(Z,"id",u(a)),Q(le,W())}),g(ae,X)});var Ae=B(Ce,2);U(Ae,()=>!(M&&I()),ae=>{var X=Zf(),Z=k(X);U(Z,()=>!w(),te=>{var ie=Yf();b(ie,"bx--assistive-text",!0);var se=k(ie);U(se,()=>d()==="text",ve=>{var Be=Ee();R(()=>Q(Be,f())),g(ve,Be)},ve=>{var Be=Ee();R(()=>Q(Be,_())),g(ve,Be)}),g(te,ie)});var le=B(Z,2);U(le,()=>d()==="text",te=>{Vf(te,{class:"bx--icon-visibility-off"})},te=>{Hf(te,{class:"bx--icon-visibility-on"})}),R(()=>{X.disabled=w(),b(X,"bx--text-input--password__visibility__toggle",!0),b(X,"bx--btn",!0),b(X,"bx--btn--icon-only",!0),b(X,"bx--btn--disabled",w()),b(X,"bx--tooltip__trigger",!0),b(X,"bx--tooltip--a11y",!0),b(X,"bx--tooltip--top",y()==="top"),b(X,"bx--tooltip--right",y()==="right"),b(X,"bx--tooltip--bottom",y()==="bottom"),b(X,"bx--tooltip--left",y()==="left"),b(X,"bx--tooltip--align-start",m()==="start"),b(X,"bx--tooltip--align-center",m()==="center"),b(X,"bx--tooltip--align-end",m()==="end")}),P("click",X,()=>{d(d()==="password"?"text":"password")}),g(ae,X)});var Le=B(ne,2);U(Le,()=>!M&&I(),ae=>{var X=Qf(),Z=k(X);R(()=>{ce(X,"id",u(a)),b(X,"bx--form-requirement",!0),Q(Z,W())}),g(ae,X)});var xe=B(Le,2);U(xe,()=>!I()&&!z()&&!M&&!O()&&p(),ae=>{var X=Xf();b(X,"bx--form__helper-text",!0);var Z=k(X);R(()=>{b(X,"bx--form__helper-text--disabled",w()),b(X,"bx--form__helper-text--inline",O()),Q(Z,p())}),g(ae,X)});var Se=B(xe,2);U(Se,()=>!M&&!I()&&z(),ae=>{var X=ev(),Z=k(X);R(()=>{ce(X,"id",u(o)),b(X,"bx--form-requirement",!0),Q(Z,L())}),g(ae,X)}),R(()=>{b(F,"bx--text-input-wrapper--light",S()),b(F,"bx--text-input-wrapper--inline",O()),b(ge,"bx--text-input__field-outer-wrapper--inline",O()),ce(ne,"data-invalid",I()||void 0),b(ne,"bx--text-input__field-wrapper",!0),b(ne,"bx--text-input__field-wrapper--warning",z()),oe=de(Y,oe,{"data-invalid":I()||void 0,"aria-invalid":I()||void 0,"aria-describedby":I()?u(a):z()?u(o):p()?u(s):void 0,id:E(),name:G(),placeholder:h(),type:d(),value:c()??"",disabled:w(),...i}),b(Y,"bx--text-input",!0),b(Y,"bx--password-input",!0),b(Y,"bx--text-input--light",S()),b(Y,"bx--text-input--invalid",I()),b(Y,"bx--text-input--warning",z()),b(Y,"bx--text-input--sm",l()==="sm"),b(Y,"bx--text-input--xl",l()==="xl")}),P("change",Y,function(ae){C.call(this,e,ae)}),P("input",Y,function(ae){C.call(this,e,ae)}),P("input",Y,({target:ae})=>{c(ae.value)}),P("keydown",Y,function(ae){C.call(this,e,ae)}),P("keyup",Y,function(ae){C.call(this,e,ae)}),P("focus",Y,function(ae){C.call(this,e,ae)}),P("blur",Y,function(ae){C.call(this,e,ae)}),P("paste",Y,function(ae){C.call(this,e,ae)}),P("click",F,function(ae){C.call(this,e,ae)}),P("mouseover",F,function(ae){C.call(this,e,ae)}),P("mouseenter",F,function(ae){C.call(this,e,ae)}),P("mouseleave",F,function(ae){C.call(this,e,ae)}),g(n,F),fe()}var rv=we("<title> </title>"),iv=we('<svg><!><path d="M4 6H28V8H4zM4 24H28V26H4zM4 12H28V14H4zM4 18H28V20H4z"></path></svg>');function uo(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=iv();let c;var d=k(l);U(d,o,h=>{var f=rv(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}const sv=He(!1),av=He(!1),ov=He(!1);var lv=N("<button><!></button>");function cv(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["ariaLabel","isOpen","iconMenu","iconClose","ref"]);let i=v(e,"ariaLabel",8,void 0),s=v(e,"isOpen",12,!1),a=v(e,"iconMenu",8,uo),o=v(e,"iconClose",8,hn),l=v(e,"ref",12,null);var c=lv();let d;var h=k(c);St(h,()=>s()?o():a(),(f,_)=>{_(f,{size:20})}),qe(c,f=>l(f),()=>l()),R(()=>{d=de(c,d,{type:"button",title:i(),"aria-label":i(),...r}),b(c,"bx--header__action",!0),b(c,"bx--header__menu-trigger",!0),b(c,"bx--header__menu-toggle",!0)}),P("click",c,function(f){C.call(this,e,f)}),P("click",c,()=>s(!s())),g(n,c)}var uv=N("<span><!></span>"),dv=N("<header><!> <!> <a><!> <!></a> <!></header>");function hv(n,e){const t=nn(e),r=H(e,["children","$$slots","$$events","$$legacy"]),i=H(r,["expandedByDefault","isSideNavOpen","uiShellAriaLabel","href","company","platformName","persistentHamburgerMenu","expansionBreakpoint","ref","iconMenu","iconClose"]);he(e,!1);const s=Xe(),a=()=>Ie(sv,"$shouldRenderHamburgerMenu",s),o=$();let l=v(e,"expandedByDefault",8,!0),c=v(e,"isSideNavOpen",12,!1),d=v(e,"uiShellAriaLabel",8,void 0),h=v(e,"href",8,void 0),f=v(e,"company",8,void 0),_=v(e,"platformName",8,""),m=v(e,"persistentHamburgerMenu",8,!1),y=v(e,"expansionBreakpoint",8,1056),S=v(e,"ref",12,null),w=v(e,"iconMenu",8,uo),p=v(e,"iconClose",8,hn),A=$(void 0);D(()=>(T(l()),u(A),T(y()),T(m())),()=>{c(l()&&u(A)>=y()&&!m())}),D(()=>(T(f()),T(d()),T(r),T(_())),()=>{x(o,f()?`${f()} `:""+(d()||r["aria-label"]||_()))}),me(),_e();var j=dv(),I=k(j);ue(I,e,"skip-to-content",{},null);var W=B(I,2);U(W,()=>a()&&u(A)<y()||m(),q=>{cv(q,{get isOpen(){return c()},set isOpen(J){c(J)},get iconClose(){return p()},get iconMenu(){return w()},$$legacy:!0})});var z=B(W,2);let L;var O=k(z);U(O,()=>f()||t.company,q=>{var J=uv();b(J,"bx--header__name--prefix",!0);var M=k(J);ue(M,e,"company",{},F=>{var V=Ee();R(()=>Q(V,`${f()??""}`)),g(F,V)}),g(q,J)});var E=B(O,2);ue(E,e,"platform",{},q=>{var J=Ee();R(()=>Q(J,_())),g(q,J)}),qe(z,q=>S(q),()=>S());var G=B(z,2);ue(G,e,"default",{},null),R(()=>{ce(j,"aria-label",u(o)),b(j,"bx--header",!0),L=de(z,L,{href:h(),...i}),b(z,"bx--header__name",!0)}),zl("innerWidth",q=>x(A,q)),P("click",z,function(q){C.call(this,e,q)}),g(n,j),fe()}var fv=N("<nav><ul><!></ul></nav>");function vv(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,[]);he(e,!1);const i=$();D(()=>T(t),()=>{x(i,{"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"]})}),me(),_e();var s=fv();let a;var o=k(s);let l;var c=k(o);ue(c,e,"default",{},null),R(()=>{a=de(s,a,{...u(i),...r}),b(s,"bx--header__nav",!0),l=de(o,l,{...u(i),role:"menubar"}),b(o,"bx--header__menu-bar",!0)}),g(n,s),fe()}var _v=N('<li role="none"><a><span><!></span></a></li>');function Gs(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["href","text","isSelected","ref"]);he(e,!1);let i=v(e,"href",8,void 0),s=v(e,"text",8,void 0),a=v(e,"isSelected",8,!1),o=v(e,"ref",12,null);const l="ccs-"+Math.random().toString(36),c=kt("HeaderNavMenu");let d=$([]);const h=c==null?void 0:c.selectedItems.subscribe(w=>{x(d,Object.keys(w))});vt(()=>()=>{h&&h()}),D(()=>T(a()),()=>{c==null||c.updateSelectedItems({id:l,isSelected:a()})}),me(),_e();var f=_v(),_=k(f);let m;var y=k(_);b(y,"bx--text-truncate--end",!0);var S=k(y);ue(S,e,"default",{},w=>{var p=Ee();R(()=>Q(p,s())),g(w,p)}),qe(_,w=>o(w),()=>o()),R(()=>{m=de(_,m,{role:"menuitem",tabindex:"0",href:i(),rel:r.target==="_blank"?"noopener noreferrer":void 0,"aria-current":a()?"page":void 0,...r}),b(_,"bx--header__menu-item",!0)}),P("click",_,function(w){C.call(this,e,w)}),P("mouseover",_,function(w){C.call(this,e,w)}),P("mouseenter",_,function(w){C.call(this,e,w)}),P("mouseleave",_,function(w){C.call(this,e,w)}),P("keyup",_,function(w){C.call(this,e,w)}),P("keydown",_,function(w){C.call(this,e,w)}),P("focus",_,function(w){C.call(this,e,w)}),P("blur",_,function(w){C.call(this,e,w)}),P("blur",_,()=>{u(d).indexOf(l)===u(d).length-1&&(c==null||c.closeMenu())}),g(n,f),fe()}var bv=N("<div><!></div>");function gv(n,e){var t=bv();b(t,"bx--header__global",!0);var r=k(t);ue(r,e,"default",{},null),g(n,t)}var mv=N("<main><!></main>");function yv(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["id"]);he(e,!1);const i=Xe(),s=()=>Ie(av,"$isSideNavCollapsed",i),a=()=>Ie(ov,"$isSideNavRail",i),o=$();let l=v(e,"id",8,"main-content");D(()=>(s(),a()),()=>{x(o,s()&&!a())}),me();var c=mv();let d;var h=k(c);ue(h,e,"default",{},null),R(()=>{d=de(c,d,{id:l(),...r}),b(c,"bx--content",!0),Ca(c,"margin-left",u(o)?0:void 0)}),g(n,c),fe()}var wv=N("<a><!></a>");function pv(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["href","tabindex"]);let i=v(e,"href",8,"#main-content"),s=v(e,"tabindex",8,"0");var a=wv();let o;var l=k(a);ue(l,e,"default",{},c=>{var d=Ee("Skip to main content");g(c,d)}),R(()=>{o=de(a,o,{href:i(),tabindex:s(),...r}),b(a,"bx--skip-to-content",!0)}),P("click",a,function(c){C.call(this,e,c)}),g(n,a)}function bi(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["isActive","icon","ref"]);he(e,!1);const i=$();let s=v(e,"isActive",8,!1),a=v(e,"icon",8,void 0),o=v(e,"ref",12,null);D(()=>(T(s()),T(r)),()=>{x(i,["bx--header__action",s()&&" bx--header__action--active",r.class].filter(Boolean).join(" "))}),me(),_e(),rt(n,xt({get ref(){return o()},set ref(l){o(l)}},()=>r,{get class(){return u(i)},$$events:{click(l){C.call(this,e,l)}},$$slots:{icon:(l,c)=>{var d=be(),h=ee(d);St(h,a,(f,_)=>{_(f,{slot:"icon",size:20})}),g(l,d)}},$$legacy:!0})),fe()}var xv=N("<!> <!> <!> <!> <!> <!> <!>",1),kv=N("<h1></h1> <!> <!>",1);function Sv(n,e){he(e,!1);let t=$(""),r=$(""),i=$(""),s=$(""),a=$(""),o=$(""),l=!1;vt(async()=>{const{data:{session:h}}=await Ke.auth.getSession();h&&Ln("/clients")});async function c(h){if(h.preventDefault(),u(s)!==u(a)){x(o,"  .  .");return}try{l=!0;const{data:f,error:_}=await Ke.auth.signUp({email:u(t),password:u(s),options:{emailRedirectTo:"https://your-app-url.com/clients",data:{first_name:u(r),last_name:u(i)}}});if(_)throw _;const m=f.user.id,{error:y}=await Ke.from("managers").insert([{id:m,email:u(t),manager_first_name:u(r),manager_last_name:u(i)}]);if(y)throw y;x(o,"  .      ."),d()}catch(f){x(o,`: ${f.message}`)}finally{l=!1}}function d(){Ln("/login")}_e(),es(n,{children:(h,f)=>{ts(h,{children:(_,m)=>{ns(_,{children:(y,S)=>{var w=kv(),p=B(ee(w),2);oo(p,{$$events:{submit:c},children:(j,I)=>{var W=xv(),z=ee(W);Ct(z,{labelText:"Email",placeholder:"  email",type:"email",get value(){return u(t)},set value(M){x(t,M)},required:!0,$$legacy:!0});var L=B(z,2);Ct(L,{labelText:"",placeholder:"  ",get value(){return u(r)},set value(M){x(r,M)},required:!0,$$legacy:!0});var O=B(L,2);Ct(O,{labelText:"",placeholder:"  ",get value(){return u(i)},set value(M){x(i,M)},required:!0,$$legacy:!0});var E=B(O,2);Ct(E,{labelText:"",placeholder:" ",type:"password",get value(){return u(s)},set value(M){x(s,M)},required:!0,$$legacy:!0});var G=B(E,2);Ct(G,{labelText:" ",placeholder:" ",type:"password",get value(){return u(a)},set value(M){x(a,M)},required:!0,$$legacy:!0});var q=B(G,2);rt(q,{type:"submit",children:(M,F)=>{var V=Ee("");g(M,V)},$$slots:{default:!0}});var J=B(q,2);rt(J,{kind:"tertiary",$$events:{click:d},children:(M,F)=>{var V=Ee("");g(M,V)},$$slots:{default:!0}}),g(j,W)},$$slots:{default:!0}});var A=B(p,2);U(A,()=>u(o),j=>{var I=Te(()=>u(o).includes("")?"success":"error"),W=Te(()=>u(o).includes("")?"!":"!");co(j,{get kind(){return u(I)},get title(){return u(W)},get subtitle(){return u(o)}})}),g(y,w)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),fe()}var Tv=we("<title> </title>"),Ev=we('<svg><!><path d="M2 26H30V28H2zM25.4 9c.8-.8.8-2 0-2.8 0 0 0 0 0 0l-3.6-3.6c-.8-.8-2-.8-2.8 0 0 0 0 0 0 0l-15 15V24h6.4L25.4 9zM20.4 4L24 7.6l-3 3L17.4 7 20.4 4zM6 22v-3.6l10-10 3.6 3.6-10 10H6z"></path></svg>');function ho(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Ev();let c;var d=k(l);U(d,o,h=>{var f=Tv(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Pv=we("<title> </title>"),Av=we('<svg><!><path d="M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"></path></svg>');function fo(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Av();let c;var d=k(l);U(d,o,h=>{var f=Pv(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Ov=we("<title> </title>"),Cv=we('<svg><!><path d="M6,30H18a2.0023,2.0023,0,0,0,2-2V25H18v3H6V4H18V7h2V4a2.0023,2.0023,0,0,0-2-2H6A2.0023,2.0023,0,0,0,4,4V28A2.0023,2.0023,0,0,0,6,30Z"></path><path d="M20.586 20.586L24.172 17 10 17 10 15 24.172 15 20.586 11.414 22 10 28 16 22 22 20.586 20.586z"></path></svg>');function Rv(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Cv();let c;var d=k(l);U(d,o,h=>{var f=Ov(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}function Iv(){const{subscribe:n,set:e}=He({isAdmin:!1,isLoading:!0});async function t(){try{const{data:r,error:i}=await Ke.rpc("is_admin");if(i)throw i;e({isAdmin:r,isLoading:!1})}catch(r){console.error("Error checking admin role:",r),e({isAdmin:!1,isLoading:!1})}}return{subscribe:n,checkAdminStatus:t}}const Gn=Iv();function Lv(){const{subscribe:n,set:e,update:t}=He({user:null,isLoading:!0,error:null});return{subscribe:n,setUser:r=>e({user:r,isLoading:!1,error:null}),clearUser:()=>e({user:null,isLoading:!1,error:null}),setError:r=>e({user:null,isLoading:!1,error:r}),setLoading:r=>t(i=>({...i,isLoading:r}))}}const $t=Lv();function jv(){const{subscribe:n,set:e,update:t}=He({events:[],loading:!1,error:null});async function r(){t(i=>({...i,loading:!0,error:null}));try{const{data:i,error:s}=await Ke.from("client_events").select("*").order("created_at",{ascending:!1});if(s)throw s;return t(a=>({...a,events:i,loading:!1})),i}catch(i){return t(s=>({...s,error:i.message,loading:!1})),console.error("Error loading all events:",i),[]}}return{subscribe:n,setEvents:i=>t(s=>({...s,events:i})),setLoading:i=>t(s=>({...s,loading:i})),setError:i=>t(s=>({...s,error:i})),clearError:()=>t(i=>({...i,error:null})),loadAllEvents:r,clearEvents:()=>t(i=>({...i,events:[]}))}}const We=jv(),vo=He({showColumnSelector:!1});var $v=we("<title> </title>"),zv=we('<svg><!><path d="M16,8a5,5,0,1,0,5,5A5,5,0,0,0,16,8Z"></path><path d="M16,2A14,14,0,1,0,30,16,14.0158,14.0158,0,0,0,16,2Zm7.9925,22.9258A5.0016,5.0016,0,0,0,19,20H13a5.0016,5.0016,0,0,0-4.9925,4.9258,12,12,0,1,1,15.985,0Z"></path></svg>');function Mv(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=zv();let c;var d=k(l);U(d,o,h=>{var f=$v(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Dv=we("<title> </title>"),Nv=we('<svg><!><path d="M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zM21 12c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3S22.7 12 21 12zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2V24zM11 20c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3S9.3 20 11 20z"></path></svg>');function Uv(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=Nv();let c;var d=k(l);U(d,o,h=>{var f=Dv(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var Bv=N("<!> <!>",1),Hv=N("<span></span>"),qv=N("<!> <!> <!>",1),Fv=N("<!> <!>",1),Vv=N("<h2> </h2>"),Gv=N("<!> <!>",1);function Wv(n,e){he(e,!1);const t=Xe(),r=()=>Ie($t,"$userStore",t),i=()=>Ie(Gn,"$adminStore",t),s=$(),a=$();let o=v(e,"UserStatus",12),l=$(!1);console.log("currentUser  ",u(s));async function c(){const{error:m}=await Ke.auth.signOut();m?console.error("Error signing out:",m):(We.clearEvents,Ln("/"))}function d(){vo.update(m=>({...m,showColumnSelector:!m.showColumnSelector}))}D(()=>r(),()=>{x(s,r().user)}),D(()=>i(),()=>{x(a,i().isAdmin)}),D(()=>u(a),()=>{o(u(a)?"Admin":"Manager")}),me(),_e();var h=Gv(),f=ee(h);hv(f,{company:">",platformName:"CRM",get isSideNavOpen(){return u(l)},set isSideNavOpen(m){x(l,m)},children:(m,y)=>{var S=Fv(),w=ee(S);vv(w,{children:(A,j)=>{var I=Bv(),W=ee(I);Gs(W,{get text(){return u(s).email}});var z=B(W,2);Gs(z,{get text(){return o()}}),g(A,I)},$$slots:{default:!0}});var p=B(w,2);gv(p,{children:(A,j)=>{var I=qv(),W=ee(I);bi(W,{iconDescription:"Settings",tooltipAlignment:"start",icon:Uv,$$events:{click:d}});var z=B(W,2);bi(z,{get iconDescription(){return o()},title:"Notifications","aria-label":"Notifications",icon:Mv,children:(O,E)=>{var G=Hv();g(O,G)},$$slots:{default:!0}});var L=B(z,2);bi(L,{iconDescription:"Log out",tooltipAlignment:"end",icon:Rv,$$events:{click:c}}),g(A,I)},$$slots:{default:!0}}),g(m,S)},$$slots:{default:!0,"skip-to-content":(m,y)=>{pv(m,{})}},$$legacy:!0});var _=B(f,2);yv(_,{children:(m,y)=>{es(m,{children:(S,w)=>{ts(S,{children:(p,A)=>{ns(p,{children:(j,I)=>{var W=Vv();g(j,W)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),g(n,h),fe()}var Jv=N("<!> <!> <!> <!>",1),Kv=N("<h1>  </h1> <!> <!>",1);function Ws(n,e){he(e,!1);let t=$(""),r=$(""),i=$(""),s=$(!1);vt(async()=>{const{data:{session:l}}=await Ke.auth.getSession();l!=null&&l.user&&($t.setUser(l.user),Ln("/clients"))});async function a(l){console.log("Form submitted"),l.preventDefault();try{x(s,!0),x(i,""),$t.setLoading(!0);const{data:{user:c},error:d}=await Ke.auth.signInWithPassword({email:u(t),password:u(r)});if(d)throw d;$t.setUser(c),await Gn.checkAdminStatus(),console.log("Login successful"),Ln("/clients")}catch(c){console.error("Login error:",c),x(i,c.message),$t.setError(c.message)}finally{x(s,!1),$t.setLoading(!1)}}function o(){Ln("/register")}_e(),es(n,{children:(l,c)=>{ts(l,{children:(d,h)=>{ns(d,{children:(f,_)=>{var m=Kv(),y=B(ee(m),2);U(y,()=>u(i),w=>{co(w,{kind:"error",title:"!",get subtitle(){return u(i)}})});var S=B(y,2);oo(S,{$$events:{submit:a},children:(w,p)=>{var A=Jv(),j=ee(A);Ct(j,{labelText:"Email",placeholder:"  email",type:"email",get value(){return u(t)},set value(L){x(t,L)},required:!0,$$legacy:!0});var I=B(j,2);nv(I,{labelText:"",placeholder:" ",type:"password",get value(){return u(r)},set value(L){x(r,L)},required:!0,$$legacy:!0});var W=B(I,2);rt(W,{type:"submit",get disabled(){return u(s)},children:(L,O)=>{var E=Ee();R(()=>Q(E,u(s)?"...":"")),g(L,E)},$$slots:{default:!0}});var z=B(W,2);rt(z,{kind:"secondary",get disabled(){return u(s)},$$events:{click:o},children:(L,O)=>{var E=Ee("  ");g(L,E)},$$slots:{default:!0}}),g(w,A)},$$slots:{default:!0}}),g(f,m)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),fe()}const Js={sources:[{value:"  ",text:"  "},{value:"  ",text:"  "},{value:"  ",text:"  "},{value:"  ",text:"  "},{value:" ",text:" "},{value:" ",text:" "}],statuses:[{value:"",text:""},{value:" ",text:" "},{value:"",text:""}],objects:[{value:"- ",text:"- "},{value:"-",text:"-"},{value:" TOWER",text:" TOWER"}]};function Yv(){const{subscribe:n,set:e,update:t}=He(Js);return{subscribe:n,updateSources:r=>t(i=>({...i,sources:r})),updateStatuses:r=>t(i=>({...i,statuses:r})),updateObjects:r=>t(i=>({...i,objects:r})),reset:()=>e(Js)}}const _o=Yv();var Zv=N("<form><!> <!> <!> <!> <!> <!> <!> <!></form>");function Qv(n,e){he(e,!1);const t=Xe(),r=()=>Ie(_o,"$referenceStore",t),i=$(),s=$(),a=$(),o=_t();let l=v(e,"client",28,()=>{var E,G,q;return{first_name:"",last_name:"",object:((E=u(a)[0])==null?void 0:E.value)||"",phone:"",source:((G=u(i)[0])==null?void 0:G.value)||"",email:"",status:((q=u(s)[0])==null?void 0:q.value)||""}});v(e,"isEditing",8,!1);let c=$(l().status),d=$(l().source);vt(()=>{x(c,l().status||""),x(d,l().source||"Telegram")}),console.log("SelectedSource     ",u(d));let h=$({});function f(){var E,G,q;return x(h,{}),(E=l().first_name)!=null&&E.trim()||Ot(h,u(h).first_name=" "),(G=l().phone)!=null&&G.trim()?/^\d{11}$/.test(l().phone)||Ot(h,u(h).phone="   11 "):Ot(h,u(h).phone=" "),(q=l().email)!=null&&q.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l().email)||Ot(h,u(h).email="  email"):Ot(h,u(h).email="Email "),Object.keys(u(h)).length===0}function _(E){E.preventDefault(),f()?(l(l().status=u(c),!0),l(l().source=u(d),!0),console.log("   ",l()),o("submit",l())):console.log("  ",l())}D(()=>r(),()=>{x(i,r().sources)}),D(()=>r(),()=>{x(s,r().statuses)}),D(()=>r(),()=>{x(a,r().objects)}),D(()=>T(l()),()=>{l()&&(x(c,l().status||""),x(d,l().source||"Telegram"))}),me(),_e();var m=Zv(),y=k(m),S=Te(()=>!!u(h).first_name);Ct(y,{type:"text",placeholder:"",get value(){return l().first_name},set value(E){l(l().first_name=E,!0)},required:!0,get invalid(){return u(S)},get invalidText(){return u(h).first_name},$$legacy:!0});var w=B(y,2);Ct(w,{type:"text",placeholder:"",get value(){return l().last_name},set value(E){l(l().last_name=E,!0)},$$legacy:!0});var p=B(w,2);zr(p,{labelText:"",get selected(){return u(d)},set selected(E){x(d,E)},children:(E,G)=>{var q=be(),J=ee(q);dn(J,1,()=>u(i),Lr,(M,F)=>{Yt(M,{get value(){return u(F).value},get text(){return u(F).text}})}),g(E,q)},$$slots:{default:!0},$$legacy:!0});var A=B(p,2);zr(A,{labelText:"",get selected(){return l().object},set selected(E){l(l().object=E,!0)},children:(E,G)=>{var q=be(),J=ee(q);dn(J,1,()=>u(a),Lr,(M,F)=>{Yt(M,{get value(){return u(F).value},get text(){return u(F).text}})}),g(E,q)},$$slots:{default:!0},$$legacy:!0});var j=B(A,2),I=Te(()=>!!u(h).phone);Ct(j,{type:"tel",placeholder:"",get value(){return l().phone},set value(E){l(l().phone=E,!0)},required:!0,get invalid(){return u(I)},get invalidText(){return u(h).phone},$$legacy:!0});var W=B(j,2),z=Te(()=>!!u(h).email);Ct(W,{type:"email",placeholder:"Email",get value(){return l().email},set value(E){l(l().email=E,!0)},get invalid(){return u(z)},get invalidText(){return u(h).email},$$legacy:!0});var L=B(W,2);zr(L,{labelText:"",get selected(){return u(c)},set selected(E){x(c,E)},children:(E,G)=>{var q=be(),J=ee(q);dn(J,1,()=>u(s),Lr,(M,F)=>{Yt(M,{get value(){return u(F).value},get text(){return u(F).text}})}),g(E,q)},$$slots:{default:!0},$$legacy:!0});var O=B(L,2);rt(O,{type:"submit",children:(E,G)=>{var q=Ee("");g(E,q)},$$slots:{default:!0}}),P("submit",m,_),g(n,m),fe()}function Xv(){const{subscribe:n,set:e,update:t}=He({clients:[],loading:!1,error:null});async function r(i){const{data:s,error:a}=await Ke.from("managers").select("manager_first_name, manager_last_name").eq("id",i).single();return a?(console.error("Error fetching manager name:",a),null):`${s.manager_first_name} ${s.manager_last_name}`}return{subscribe:n,setClients:i=>t(s=>({...s,clients:i})),setLoading:i=>t(s=>({...s,loading:i})),setError:i=>t(s=>({...s,error:i})),loadClients:async()=>{t(i=>({...i,loading:!0,error:null}));try{const{isAdmin:i}=$r(Gn);i&&await We.loadAllEvents();let s=Ke.from("clients").select("*").order("created_at",{ascending:!1});!i&&$t.user&&(s=s.eq("manager_id",$t.user.id));const{data:a,error:o}=await s;if(o)throw o;const l=i?await Promise.all(a.map(async c=>{var d;return{...c,Manager:await r(c.manager_id),Touches:$r(We).events.filter(h=>h.client_id===c.id).length,lastEventStatus:((d=$r(We).events.find(h=>h.client_id===c.id))==null?void 0:d.status)||" "}})):a;return t(c=>({...c,clients:l,loading:!1,error:null})),l}catch(i){throw console.error("Error loading clients:",i),t(s=>({...s,error:i.message,loading:!1})),i}}}}const dt=Xv();var e_=N("<!> <!> <!> <!> <!>",1),t_=N("<form><!> <!> <!></form>");function n_(n,e){he(e,!1);const t=$();v(e,"isEditing",8,!1);const r=_t();let i=$({});const s={status:"",description:""};let a=v(e,"event",8,null);function o(m){m.preventDefault(),l()?(console.log("   ",u(t)),r("submit",u(t))):console.log("  ",u(t))}function l(){var m;return x(i,{}),(m=u(t).description)!=null&&m.trim()||Ot(i,u(i).description=" "),Object.keys(u(i)).length===0}D(()=>T(a()),()=>{x(t,{...s,...a()||{}})}),me(),_e();var c=t_(),d=k(c);zr(d,{labelText:" ",get selected(){return u(t).status},set selected(m){Ot(t,u(t).status=m)},children:(m,y)=>{var S=e_(),w=ee(S);Yt(w,{value:"",text:""});var p=B(w,2);Yt(p,{value:"",text:""});var A=B(p,2);Yt(A,{value:"",text:""});var j=B(A,2);Yt(j,{value:"",text:""});var I=B(j,2);Yt(I,{value:"",text:""}),g(m,S)},$$slots:{default:!0},$$legacy:!0});var h=B(d,2),f=Te(()=>!!u(i).description);Pf(h,{labelText:"",placeholder:" ",get value(){return u(t).description},set value(m){Ot(t,u(t).description=m)},rows:4,get invalid(){return u(f)},get invalidText(){return u(i).description},$$legacy:!0});var _=B(h,2);rt(_,{type:"submit",children:(m,y)=>{var S=Ee("");g(m,S)},$$slots:{default:!0}}),P("submit",c,o),g(n,c),fe()}var r_=N("<div> </div>"),i_=N("<div> </div>");function s_(n,e){he(e,!1);const t=Xe(),r=()=>Ie(We,"$eventStore",t);let i=v(e,"events",28,()=>[]);v(e,"clientId",8);const s=_t(),a=[{key:"created_at",value:""},{key:"status",value:""},{key:"description",value:""},{key:"actions",value:""}];D(()=>r(),()=>{i(r().events)}),me(),_e();var o=be(),l=ee(o);U(l,()=>r().loading,c=>{var d=r_();g(c,d)},c=>{var d=be(),h=ee(d);U(h,()=>r().error,f=>{var _=i_(),m=k(_);R(()=>Q(m,`: ${r().error??""}`)),g(f,_)},f=>{zi(f,{headers:a,get rows(){return i()},$$slots:{cell:(_,m)=>{const y=Te(()=>m.row),S=Te(()=>m.cell);var w=be(),p=ee(w);U(p,()=>u(S).key==="actions",A=>{rt(A,{icon:ho,$$events:{click:()=>s("edit",u(y))}})},A=>{var j=Ee();R(()=>Q(j,u(y)[u(S).key])),g(A,j)}),g(_,w)}}})},!0),g(c,d)}),g(n,o),fe()}var a_=N('<div class="events-manager"><!> <!> <!></div>');function o_(n,e){he(e,!1);const t=Xe(),r=()=>Ie(dt,"$clientStore",t),i=()=>Ie(We,"$eventStore",t),s=()=>Ie(Gn,"$adminStore",t),a=$();let o=v(e,"clientId",8),l=$([]),c=$(!1),d=$(!1),h=$(null);function f(O){return new Date(O).toLocaleString()}vt(()=>{_()});async function _(){We.setLoading(!0);try{const{data:O,error:E}=await Ke.from("client_events").select("*").eq("client_id",o()).order("created_at",{ascending:!1});if(E){console.error("Error loading events:",E);return}x(l,O.map(G=>({...G,created_at:f(G.created_at)}))),We.setEvents(u(l))}catch(O){We.setError(O.message),console.error("Unexpected error:",O)}finally{We.setLoading(!1)}}async function m(O){const E=O.detail;E.client_id=o(),console.log("eventData     ",E);try{u(d)?await S(E):await y(E),x(c,!1),await _()}catch(G){console.error("Error handling event submit:",G)}}async function y(O){try{const E=u(a).find(J=>J.id===o()),{data:G,error:q}=await Ke.from("client_events").insert([{...O,manager_id:E.manager_id}]).select();if(q)throw q;if(We.setEvents(u(l)),s().isAdmin)await We.loadAllEvents(),await dt.loadClients(),console.log("    ",u(l));else{const J=i().events;We.setEvents([G[0],...J])}return G[0]}catch(E){throw We.setError(E.message),console.error("Error creating event:",E),E}}async function S(O){let E={description:O.description,status:O.status};const{error:G}=await Ke.from("client_events").update(E).eq("id",O.id);if(G)throw G}function w(){const O=u(a).find(E=>E.id===o());if(!O){console.error("Client not found:",o());return}x(h,{status:"",description:"",client_id:o(),manager_id:O.manager_id}),console.log("Current event with manager_id:",u(h)),x(d,!1),x(c,!0)}function p(O){x(h,{...O.detail}),x(d,!0),x(c,!0),console.log("  -",u(h))}D(()=>r(),()=>{x(a,r().clients)}),D(()=>i(),()=>{x(l,i().events)}),me(),_e();var A=a_(),j=k(A);rt(j,{icon:fo,kind:"secondary",$$events:{click:w},children:(O,E)=>{var G=Ee(" ");g(O,G)},$$slots:{default:!0}});var I=B(j,2);s_(I,{get events(){return u(l)},get clientId(){return o()},$$events:{edit:p}});var W=B(I,2),z=Te(()=>u(d)?" ":" "),L=Te(()=>u(d)?"":"");lo(W,{get open(){return u(c)},set open(O){x(c,O)},get modalHeading(){return u(z)},get primaryButtonText(){return u(L)},secondaryButtonText:"",passiveModal:!0,$$events:{"click:button--secondary":()=>x(c,!1)},children:(O,E)=>{n_(O,{get event(){return u(h)},get isEditing(){return u(d)},$$events:{submit:m}})},$$slots:{default:!0},$$legacy:!0}),g(n,A),fe()}var l_=we("<title> </title>"),c_=we('<svg><!><path d="M26 14H24v2h2a3.0033 3.0033 0 013 3v4h2V19A5.0058 5.0058 0 0026 14zM24 4a3 3 0 11-3 3 3 3 0 013-3m0-2a5 5 0 105 5A5 5 0 0024 2zM23 30H21V28a3.0033 3.0033 0 00-3-3H14a3.0033 3.0033 0 00-3 3v2H9V28a5.0059 5.0059 0 015-5h4a5.0059 5.0059 0 015 5zM16 13a3 3 0 11-3 3 3 3 0 013-3m0-2a5 5 0 105 5A5 5 0 0016 11zM8 14H6a5.0059 5.0059 0 00-5 5v4H3V19a3.0033 3.0033 0 013-3H8zM8 4A3 3 0 115 7 3 3 0 018 4M8 2a5 5 0 105 5A5 5 0 008 2z"></path></svg>');function u_(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=c_();let c;var d=k(l);U(d,o,h=>{var f=l_(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var d_=we("<title> </title>"),h_=we('<svg><!><path d="M17.4141 16L24 9.4141 22.5859 8 16 14.5859 9.4143 8 8 9.4141 14.5859 16 8 22.5859 9.4143 24 16 17.4141 22.5859 24 24 22.5859 17.4141 16z"></path></svg>');function f_(n,e){const t=H(e,["children","$$slots","$$events","$$legacy"]),r=H(t,["size","title"]);he(e,!1);const i=$(),s=$();let a=v(e,"size",8,16),o=v(e,"title",8,void 0);D(()=>(T(t),T(o())),()=>{x(i,t["aria-label"]||t["aria-labelledby"]||o())}),D(()=>(u(i),T(t)),()=>{x(s,{"aria-hidden":u(i)?void 0:!0,role:u(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),_e();var l=h_();let c;var d=k(l);U(d,o,h=>{var f=d_(),_=k(f);R(()=>Q(_,o())),g(h,f)}),R(()=>c=de(l,c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...u(s),...r},void 0,!0)),g(n,l),fe()}var v_=N('<div class="column-selector svelte-11nbo37"><!></div>'),__=N('<div class="events-section"><!></div>'),b_=N("<!> <button><!></button>",1),g_=N("<!> <!>  <!>",1);function m_(n,e){he(e,!1);const t=Xe(),r=()=>Ie(dt,"$clientStore",t),i=()=>Ie(We,"$eventStore",t),s=()=>Ie(vo,"$tableSettingsStore",t),a=()=>Ie(Gn,"$adminStore",t),o=$();let l=$(""),c=$(null);const d=_t();let h=$([]),f=$(!1),_=$([]),m=$([]),y=$([]);vt(()=>{const z=localStorage.getItem("selectedColumns");z&&x(m,JSON.parse(z))});function S(z){switch(z){case"":return"green";case" ":return"blue";case"":return"red";default:return"gray"}}function w(z){if(console.log("Selection event:",z.detail),z.detail)if(z.detail.selected!==void 0){const L=z.detail.row.id;console.log("Row ID:",L),z.detail.selected?u(m).includes(L)||x(m,[...u(m),L]):x(m,u(m).filter(O=>O!==L))}else z.detail.indeterminate!==void 0&&(z.detail.selected?x(m,u(_).map(L=>L.id)):x(m,[]));u(m).length===0&&x(m,["actions"]),localStorage.setItem("selectedColumns",JSON.stringify(u(m))),console.log("Updated selectedRowIds:",u(m))}function p(z){x(l,z.target.value)}D(()=>r(),()=>{x(h,r().clients)}),D(()=>i(),()=>{x(o,i().events)}),D(()=>s(),()=>{x(f,s().showColumnSelector)}),D(()=>(a(),u(_),u(m)),()=>{a()&&(x(_,a().isAdmin?[{id:"Manager",name:"",key:"Manager",value:""},{id:"last_name",name:"",key:"last_name",value:""},{id:"object",name:"",key:"object",value:""},{id:"phone",name:"",key:"phone",value:""},{id:"source",name:"",key:"source",value:""},{id:"status",name:"",key:"status",value:""},{id:"Touches",name:"Touches",key:"Touches",value:"",width:"40px"},{id:"lastEventStatus",name:"",key:"lastEventStatus",value:""},{id:"actions",name:"",key:"actions",value:""}]:[{id:"last_name",name:"",key:"last_name",value:""},{id:"object",name:"",key:"object",value:""},{id:"phone",name:"",key:"phone",value:""},{id:"source",name:"",key:"source",value:""},{id:"status",name:"",key:"status",value:""},{id:"actions",name:"",key:"actions",value:""}]),u(m).length===0&&x(m,u(_).map(z=>z.id)))}),D(()=>(u(_),u(m)),()=>{u(_)&&u(m)&&x(y,u(_).filter(z=>u(m).includes(z.id)))}),me(),_e();var A=g_(),j=ee(A);U(j,()=>u(f),z=>{var L=v_(),O=k(L);zi(O,{headers:[{key:"name",value:" "}],get rows(){return u(_)},get selectedRowIds(){return u(m)},selectable:!0,batchSelection:!0,$$events:{"click:row--select":w,"click:header--select":w},$$slots:{cell:(E,G)=>{const q=Te(()=>G.row),J=Te(()=>G.cell);var M=be(),F=ee(M);U(F,()=>u(J).key==="name",V=>{var K=Ee();R(()=>Q(K,u(q).name)),g(V,K)}),g(E,M)}}}),g(z,L)});var I=B(j,2);U(I,()=>u(c),z=>{var L=__(),O=k(L);o_(O,{get clientId(){return u(c)}}),g(z,L)});var W=B(I,2);zi(W,{sortable:!0,get headers(){return u(y)},get rows(){return u(h)},stickyHeader:!0,children:(z,L)=>{bh(z,{children:(O,E)=>{mh(O,{children:(G,q)=>{Eh(G,{persistent:!0,placeholder:"   ...",get value(){return u(l)},set value(J){x(l,J)},$$events:{input:p},$$legacy:!0})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0,cell:(z,L)=>{const O=Te(()=>L.row),E=Te(()=>L.cell);var G=be(),q=ee(G);U(q,()=>u(E).key==="actions",J=>{var M=b_(),F=ee(M),V=Te(()=>u(c)===u(O).id?" ":" "),K=Te(()=>u(c)===u(O).id?f_:u_);rt(F,{kind:"ghost",size:"small",tooltipPosition:"left",tooltipAlignment:"end",get iconDescription(){return u(V)},get icon(){return u(K)},$$events:{click:()=>x(c,u(c)===u(O).id?null:u(O).id)}});var ge=B(F,2),ne=k(ge);ho(ne,{}),P("click",ge,()=>d("edit",u(O))),g(J,M)},J=>{var M=be(),F=ee(M);U(F,()=>u(E).key==="status",V=>{var K=Te(()=>S(u(E).value));pf(V,{get type(){return u(K)},children:(ge,ne)=>{var re=Ee();R(()=>Q(re,u(E).value)),g(ge,re)},$$slots:{default:!0}})},V=>{var K=Ee();R(()=>Q(K,u(E).value)),g(V,K)},!0),g(J,M)}),g(z,G)}}}),g(n,A),fe()}var y_=N('<div class="actions svelte-q7t6h7"><!></div>');function w_(n,e){he(e,!1);const t=_t();_e();var r=y_(),i=k(r);rt(i,{size:"field",icon:fo,$$events:{click:()=>t("add")},children:(s,a)=>{var o=Ee(" ");g(s,o)},$$slots:{default:!0}}),g(n,r),fe()}var p_=N("<div>...</div>"),x_=N("<div> </div>"),k_=N('<!> <p></p> <div class="client-manager svelte-19v6wgs"><!> <!> <!></div>',1);function S_(n,e){he(e,!1);const t=Xe(),r=()=>Ie(We,"$eventStore",t),i=()=>Ie(Gn,"$adminStore",t),s=()=>Ie($t,"$userStore",t),a=()=>Ie(_o,"$referenceStore",t),o=()=>Ie(dt,"$clientStore",t),l=$(),c=$(),d=$(),h=$(),f=$(),_=$(),m=$();let y=$([]),S=$(!1),w=$(!1),p=$({first_name:"",last_name:"",object:"",phone:"",source:"",email:"",status:""});vt(async()=>{try{await dt.loadClients()}catch(F){console.error("Error loading clients:",F)}});function A(){var F,V,K;x(p,{first_name:"",last_name:"",object:((F=u(m)[0])==null?void 0:F.value)||"",phone:"",source:((V=u(f)[0])==null?void 0:V.value)||"",email:"",status:((K=u(_)[0])==null?void 0:K.value)||""}),x(w,!1),x(S,!0),console.log("    currentClient",u(p))}function j(F){x(p,{...F.detail}),console.log("    currentClient",u(p)),x(w,!0),x(S,!0)}async function I(F){const V=F.detail;u(w)?(console.log("isEditing Update",V),await z(V)):(console.log("isEditing Create",V),await W(V)),x(S,!1)}async function W(F){try{dt.setLoading(!0);const V=u(d).id,{data:K,error:ge}=await Ke.from("managers").select("manager_first_name, manager_last_name").eq("id",V).single();if(ge)throw ge;const{data:ne,error:re}=await Ke.from("clients").insert([{...F,manager_id:V}]).select();if(re)throw re;const je=o().clients;dt.setClients([ne[0],...je])}catch(V){alert(V.message)}finally{dt.setLoading(!1)}}async function z(F){try{dt.setLoading(!0);const{Manager:V,Touches:K,lastEventStatus:ge,...ne}=F,{error:re}=await Ke.from("clients").update(ne).eq("id",F.id);if(re)throw re;console.log("clientData  ",F);const je=o().clients;dt.setClients(je.map(Y=>Y.id===F.id?F:Y))}catch(V){throw dt.setError(V.message),V}finally{dt.setLoading(!1),x(w,!1)}}D(()=>r(),()=>{x(l,r().events)}),D(()=>i(),()=>{x(c,i().isAdmin)}),D(()=>s(),()=>{x(d,s().user)}),D(()=>u(d),()=>{var F;x(h,(F=u(d))==null?void 0:F.id)}),D(()=>a(),()=>{x(f,a().sources)}),D(()=>a(),()=>{x(_,a().statuses)}),D(()=>a(),()=>{x(m,a().objects)}),D(()=>o(),()=>{x(y,o().clients)}),me(),_e();var L=k_(),O=ee(L);Wv(O,{get UserStatus(){return u(d)}});var E=B(O,4),G=k(E);w_(G,{$$events:{add:A}});var q=B(G,2);U(q,()=>o().loading,F=>{var V=p_();g(F,V)},F=>{var V=be(),K=ee(V);U(K,()=>o().error,ge=>{var ne=x_(),re=k(ne);R(()=>Q(re,`Error: ${o().error??""}`)),g(ge,ne)},ge=>{m_(ge,{$$events:{edit:j}})},!0),g(F,V)});var J=B(q,2),M=Te(()=>u(w)?" ":" ");lo(J,{get open(){return u(S)},set open(F){x(S,F)},get modalHeading(){return u(M)},passiveModal:!0,hasForm:!0,$$events:{"click:button--secondary":()=>x(S,!1)},children:(F,V)=>{Qv(F,{get client(){return u(p)},get isEditing(){return u(w)},$$events:{submit:I}})},$$slots:{default:!0},$$legacy:!0}),g(n,L),fe()}var T_=N("-- <main><!> <!> <!> <!></main>",1);function E_(n){console.log("App.svelte: Component initialized");let e=window.location.pathname;const t="/crmbik";console.log("App.svelte: Current URL:",e),console.log("App.svelte: Base path:",t),Xl(n,{url:e,base:t,children:(r,i)=>{var s=T_(),a=B(ee(s)),o=k(a);Pr(o,{path:"",component:Ws});var l=B(o,2);Pr(l,{path:"clients",component:S_});var c=B(l,2);Pr(c,{path:"register",component:Sv});var d=B(c,2);Pr(d,{path:"login",component:Ws}),g(r,s)},$$slots:{default:!0}})}gl(E_,{target:document.getElementById("app"),props:{url:window.location.pathname}});console.log("Component initialized main");export{P_ as g};
