(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const so="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(so);const ji=1,Li=2,Fs=4,ao=8,oo=16,lo=1,co=2,qs=4,uo=8,ho=16,fo=1,vo=2,_o=4,go=1,bo=2,tt=Symbol(),Hs=!1;var or=Array.isArray,zi=Array.from,mo=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,Vs=Object.getOwnPropertyDescriptors,yo=Object.prototype,po=Array.prototype,Ir=Object.getPrototypeOf;function kn(n){return typeof n=="function"}const lt=()=>{};function wo(n){return typeof(n==null?void 0:n.then)=="function"}function xo(n){return n()}function jr(n){for(var e=0;e<n.length;e++)n[e]()}const It=2,Gs=4,lr=8,Ur=16,xt=32,cr=64,cn=128,Lr=256,Xe=512,Zt=1024,zn=2048,Rt=4096,ur=8192,Ws=16384,dr=32768,ko=65536,So=1<<18,Ks=1<<19,Tn=Symbol("$state"),Eo=Symbol("");function Js(n){return n===this.v}function Di(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function Mi(n){return!Di(n,this.v)}function To(n){throw new Error("effect_in_teardown")}function Po(){throw new Error("effect_in_unowned_derived")}function Ao(n){throw new Error("effect_orphan")}function Oo(){throw new Error("effect_update_depth_exceeded")}function Co(n){throw new Error("lifecycle_legacy_only")}function $o(n){throw new Error("props_invalid_value")}function Ro(){throw new Error("state_descriptors_fixed")}function Io(){throw new Error("state_prototype_fixed")}function jo(){throw new Error("state_unsafe_local_read")}function Lo(){throw new Error("state_unsafe_mutation")}function Qe(n){return{f:0,v:n,reactions:null,equals:Js,version:0}}function Rn(n,e=!1){var r;const t=Qe(n);return e||(t.equals=Mi),we!==null&&we.l!==null&&((r=we.l).s??(r.s=[])).push(t),t}function D(n,e=!1){return zo(Rn(n,e))}function zo(n){return Le!==null&&Le.f&It&&(Pt===null?qo([n]):Pt.push(n)),n}function Ys(n,e){return S(n,At(()=>h(n))),e}function S(n,e){return Le!==null&&vr()&&Le.f&(It|Ur)&&(Pt===null||!Pt.includes(n))&&Lo(),Pn(n,e)}function Pn(n,e){return n.equals(e)||(n.v=e,n.version=da(),Zs(n,Zt),vr()&&ke!==null&&ke.f&Xe&&!(ke.f&xt)&&(Ke!==null&&Ke.includes(n)?(kt(ke,Zt),Fr(ke)):Yt===null?Ho([n]):Yt.push(n))),e}function Zs(n,e){var t=n.reactions;if(t!==null)for(var r=vr(),i=t.length,s=0;s<i;s++){var a=t[s],o=a.f;o&Zt||!r&&a===ke||(kt(a,e),o&(Xe|cn)&&(o&It?Zs(a,zn):Fr(a)))}}function zr(n){var e=It|Zt;ke===null?e|=cn:ke.f|=Ks;const t={children:null,ctx:we,deps:null,equals:Js,f:e,fn:n,reactions:null,v:null,version:0,parent:ke};if(Le!==null&&Le.f&It){var r=Le;(r.children??(r.children=[])).push(t)}return t}function De(n){const e=zr(n);return e.equals=Mi,e}function Qs(n){var e=n.children;if(e!==null){n.children=null;for(var t=0;t<e.length;t+=1){var r=e[t];r.f&It?Ni(r):un(r)}}}function Xs(n){var e,t=ke;it(n.parent);try{Qs(n),e=ha(n)}finally{it(t)}return e}function ea(n){var e=Xs(n),t=(En||n.f&cn)&&n.deps!==null?zn:Xe;kt(n,t),n.equals(e)||(n.v=e,n.version=da())}function Ni(n){Qs(n),nr(n,0),kt(n,ur),n.v=n.children=n.deps=n.ctx=n.reactions=null}function ta(n){ke===null&&Le===null&&Ao(),Le!==null&&Le.f&cn&&Po(),Fi&&To()}function Do(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Dn(n,e,t,r=!0){var i=(n&cr)!==0,s=ke,a={ctx:we,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:n|Zt,first:null,fn:e,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,version:0};if(t){var o=An;try{es(!0),_r(a),a.f|=Ws}catch(u){throw un(a),u}finally{es(o)}}else e!==null&&Fr(a);var c=t&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&Ks)===0;if(!c&&!i&&r&&(s!==null&&Do(a,s),Le!==null&&Le.f&It)){var l=Le;(l.children??(l.children=[])).push(a)}return a}function Ui(n){const e=Dn(lr,null,!1);return kt(e,Xe),e.teardown=n,e}function fi(n){ta();var e=ke!==null&&(ke.f&xt)!==0&&we!==null&&!we.m;if(e){var t=we;(t.e??(t.e=[])).push({fn:n,effect:ke,reaction:Le})}else{var r=Br(n);return r}}function Mo(n){return ta(),hr(n)}function No(n){const e=Dn(cr,n,!0);return()=>{un(e)}}function Br(n){return Dn(Gs,n,!1)}function H(n,e){var t=we,r={effect:null,ran:!1};t.l.r1.push(r),r.effect=hr(()=>{n(),!r.ran&&(r.ran=!0,S(t.l.r2,!0),At(e))})}function me(){var n=we;hr(()=>{if(h(n.l.r2)){for(var e of n.l.r1){var t=e.effect;t.f&Xe&&kt(t,zn),Nn(t)&&_r(t),e.ran=!1}n.l.r2.v=!1}})}function hr(n){return Dn(lr,n,!0)}function j(n){return Mn(n)}function Mn(n,e=0){return Dn(lr|Ur|e,n,!0)}function Tt(n,e=!0){return Dn(lr|xt,n,!0,e)}function na(n){var e=n.teardown;if(e!==null){const t=Fi,r=Le;ts(!0),ht(null);try{e.call(null)}finally{ts(t),ht(r)}}}function ra(n){var e=n.deriveds;if(e!==null){n.deriveds=null;for(var t=0;t<e.length;t+=1)Ni(e[t])}}function ia(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){var r=t.next;un(t,e),t=r}}function Uo(n){for(var e=n.first;e!==null;){var t=e.next;e.f&xt||un(e),e=t}}function un(n,e=!0){var t=!1;if((e||n.f&So)&&n.nodes_start!==null){for(var r=n.nodes_start,i=n.nodes_end;r!==null;){var s=r===i?null:Hr(r);r.remove(),r=s}t=!0}ia(n,e&&!t),ra(n),nr(n,0),kt(n,ur);var a=n.transitions;if(a!==null)for(const c of a)c.stop();na(n);var o=n.parent;o!==null&&o.first!==null&&sa(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.parent=n.fn=n.nodes_start=n.nodes_end=null}function sa(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function Jt(n,e){var t=[];Bi(n,t,!0),aa(t,()=>{un(n),e&&e()})}function aa(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var i of n)i.out(r)}else e()}function Bi(n,e,t){if(!(n.f&Rt)){if(n.f^=Rt,n.transitions!==null)for(const a of n.transitions)(a.is_global||t)&&e.push(a);for(var r=n.first;r!==null;){var i=r.next,s=(r.f&dr)!==0||(r.f&xt)!==0;Bi(r,e,s?t:!1),r=i}}}function sn(n){oa(n,!0)}function oa(n,e){if(n.f&Rt){n.f^=Rt,Nn(n)&&_r(n);for(var t=n.first;t!==null;){var r=t.next,i=(t.f&dr)!==0||(t.f&xt)!==0;oa(t,i?e:!1),t=r}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}let Dr=!1,vi=[];function la(){Dr=!1;const n=vi.slice();vi=[],jr(n)}function dn(n){Dr||(Dr=!0,queueMicrotask(la)),vi.push(n)}function Bo(){Dr&&la()}function fr(n){throw new Error("lifecycle_outside_component")}const ca=0,Fo=1;let Cr=ca,tr=!1,An=!1,Fi=!1;function es(n){An=n}function ts(n){Fi=n}let rn=[],On=0;let Le=null;function ht(n){Le=n}let ke=null;function it(n){ke=n}let Pt=null;function qo(n){Pt=n}let Ke=null,at=0,Yt=null;function Ho(n){Yt=n}let ua=0,En=!1,we=null;function ns(n){we=n}function da(){return++ua}function vr(){return we!==null&&we.l===null}function Nn(n){var a,o;var e=n.f;if(e&Zt)return!0;if(e&zn){var t=n.deps,r=(e&cn)!==0;if(t!==null){var i;if(e&Lr){for(i=0;i<t.length;i++)((a=t[i]).reactions??(a.reactions=[])).push(n);n.f^=Lr}for(i=0;i<t.length;i++){var s=t[i];if(Nn(s)&&ea(s),r&&ke!==null&&!En&&!((o=s==null?void 0:s.reactions)!=null&&o.includes(n))&&(s.reactions??(s.reactions=[])).push(n),s.version>n.version)return!0}}r||kt(n,Xe)}return!1}function Vo(n,e,t){throw n}function ha(n){var f;var e=Ke,t=at,r=Yt,i=Le,s=En,a=Pt,o=we,c=n.f;Ke=null,at=0,Yt=null,Le=c&(xt|cr)?null:n,En=!An&&(c&cn)!==0,Pt=null,we=n.ctx;try{var l=(0,n.fn)(),u=n.deps;if(Ke!==null){var d;if(nr(n,at),u!==null&&at>0)for(u.length=at+Ke.length,d=0;d<Ke.length;d++)u[at+d]=Ke[d];else n.deps=u=Ke;if(!En)for(d=at;d<u.length;d++)((f=u[d]).reactions??(f.reactions=[])).push(n)}else u!==null&&at<u.length&&(nr(n,at),u.length=at);return l}finally{Ke=e,at=t,Yt=r,Le=i,En=s,Pt=a,we=o}}function Go(n,e){let t=e.reactions;if(t!==null){var r=t.indexOf(n);if(r!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[r]=t[i],t.pop())}}t===null&&e.f&It&&(Ke===null||!Ke.includes(e))&&(kt(e,zn),e.f&(cn|Lr)||(e.f^=Lr),nr(e,0))}function nr(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)Go(n,t[r])}function _r(n){var e=n.f;if(!(e&ur)){kt(n,Xe);var t=ke;ke=n;try{e&Ur?Uo(n):ia(n),ra(n),na(n);var r=ha(n);n.teardown=typeof r=="function"?r:null,n.version=ua}catch(i){Vo(i)}finally{ke=t}}}function fa(){On>1e3&&(On=0,Oo()),On++}function va(n){var e=n.length;if(e!==0){fa();var t=An;An=!0;try{for(var r=0;r<e;r++){var i=n[r];i.f&Xe||(i.f^=Xe);var s=[];_a(i,s),Wo(s)}}finally{An=t}}}function Wo(n){var e=n.length;if(e!==0)for(var t=0;t<e;t++){var r=n[t];!(r.f&(ur|Rt))&&Nn(r)&&(_r(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?sa(r):r.fn=null))}}function Ko(){if(tr=!1,On>1001)return;const n=rn;rn=[],va(n),tr||(On=0)}function Fr(n){Cr===ca&&(tr||(tr=!0,queueMicrotask(Ko)));for(var e=n;e.parent!==null;){e=e.parent;var t=e.f;if(t&(cr|xt)){if(!(t&Xe))return;e.f^=Xe}}rn.push(e)}function _a(n,e){var t=n.first,r=[];e:for(;t!==null;){var i=t.f,s=(i&xt)!==0,a=s&&(i&Xe)!==0;if(!a&&!(i&Rt))if(i&lr){s?t.f^=Xe:Nn(t)&&_r(t);var o=t.first;if(o!==null){t=o;continue}}else i&Gs&&r.push(t);var c=t.next;if(c===null){let d=t.parent;for(;d!==null;){if(n===d)break e;var l=d.next;if(l!==null){t=l;continue e}d=d.parent}}t=c}for(var u=0;u<r.length;u++)o=r[u],e.push(o),_a(o,e)}function qi(n){var e=Cr,t=rn;try{fa();const i=[];Cr=Fo,rn=i,tr=!1,va(t);var r=n==null?void 0:n();return Bo(),(rn.length>0||i.length>0)&&qi(),On=0,r}finally{Cr=e,rn=t}}async function rs(){await Promise.resolve(),qi()}function h(n){var o;var e=n.f,t=(e&It)!==0;if(t&&e&ur){var r=Xs(n);return Ni(n),r}if(Le!==null){Pt!==null&&Pt.includes(n)&&jo();var i=Le.deps;Ke===null&&i!==null&&i[at]===n?at++:Ke===null?Ke=[n]:Ke.push(n),Yt!==null&&ke!==null&&ke.f&Xe&&!(ke.f&xt)&&Yt.includes(n)&&(kt(ke,Zt),Fr(ke))}else if(t&&n.deps===null){var s=n,a=s.parent;a!==null&&!((o=a.deriveds)!=null&&o.includes(s))&&(a.deriveds??(a.deriveds=[])).push(s)}return t&&(s=n,Nn(s)&&ea(s)),n.v}function At(n){const e=Le;try{return Le=null,n()}finally{Le=e}}const Jo=~(Zt|zn|Xe);function kt(n,e){n.f=n.f&Jo|e}function Ot(n){return ga().get(n)}function an(n,e){return ga().set(n,e),e}function ga(n){return we===null&&fr(),we.c??(we.c=new Map(Yo(we)||void 0))}function Yo(n){let e=n.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}function is(n,e=1){var t=+h(n);return S(n,t+e),t}function de(n,e=!1,t){we={p:we,c:null,e:null,m:!1,s:n,x:null,l:null},e||(we.l={s:null,u:null,r1:[],r2:Qe(!1)})}function he(n){const e=we;if(e!==null){const a=e.e;if(a!==null){var t=ke,r=Le;e.e=null;try{for(var i=0;i<a.length;i++){var s=a[i];it(s.effect),ht(s.reaction),Br(s.fn)}}finally{it(t),ht(r)}}we=e.p,e.m=!0}return{}}function T(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(Tn in n)_i(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&Tn in t&&_i(t)}}}function _i(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{_i(n[r],e)}catch{}const t=Ir(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=Vs(t);for(let i in r){const s=r[i].get;if(s)try{s.call(n)}catch{}}}}}function Sn(n,e=null,t){if(typeof n!="object"||n===null||Tn in n)return n;const r=Ir(n);if(r!==yo&&r!==po)return n;var i=new Map,s=or(n),a=Qe(0);s&&i.set("length",Qe(n.length));var o;return new Proxy(n,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ro();var d=i.get(l);return d===void 0?(d=Qe(u.value),i.set(l,d)):S(d,Sn(u.value,o)),!0},deleteProperty(c,l){var u=i.get(l);if(u===void 0)l in c&&i.set(l,Qe(tt));else{if(s&&typeof l=="string"){var d=i.get("length"),f=Number(l);Number.isInteger(f)&&f<d.v&&S(d,f)}S(u,tt),ss(a)}return!0},get(c,l,u){var m;if(l===Tn)return n;var d=i.get(l),f=l in c;if(d===void 0&&(!f||(m=Kt(c,l))!=null&&m.writable)&&(d=Qe(Sn(f?c[l]:tt,o)),i.set(l,d)),d!==void 0){var v=h(d);return v===tt?void 0:v}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var d=i.get(l);d&&(u.value=h(d))}else if(u===void 0){var f=i.get(l),v=f==null?void 0:f.v;if(f!==void 0&&v!==tt)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(c,l){var v;if(l===Tn)return!0;var u=i.get(l),d=u!==void 0&&u.v!==tt||Reflect.has(c,l);if(u!==void 0||ke!==null&&(!d||(v=Kt(c,l))!=null&&v.writable)){u===void 0&&(u=Qe(d?Sn(c[l],o):tt),i.set(l,u));var f=h(u);if(f===tt)return!1}return d},set(c,l,u,d){var E;var f=i.get(l),v=l in c;if(s&&l==="length")for(var m=u;m<f.v;m+=1){var y=i.get(m+"");y!==void 0?S(y,tt):m in c&&(y=Qe(tt),i.set(m+"",y))}f===void 0?(!v||(E=Kt(c,l))!=null&&E.writable)&&(f=Qe(void 0),S(f,Sn(u,o)),i.set(l,f)):(v=f.v!==tt,S(f,Sn(u,o)));var k=Reflect.getOwnPropertyDescriptor(c,l);if(k!=null&&k.set&&k.set.call(d,u),!v){if(s&&typeof l=="string"){var p=i.get("length"),w=Number(l);Number.isInteger(w)&&w>=p.v&&S(p,w+1)}ss(a)}return!0},ownKeys(c){h(a);var l=Reflect.ownKeys(c).filter(f=>{var v=i.get(f);return v===void 0||v.v!==tt});for(var[u,d]of i)d.v!==tt&&!(u in c)&&l.push(u);return l},setPrototypeOf(){Io()}})}function ss(n,e=1){S(n,n.v+e)}var gi,ba,ma;function Zo(){if(gi===void 0){gi=window;var n=Element.prototype,e=Node.prototype;ba=Kt(e,"firstChild").get,ma=Kt(e,"nextSibling").get,n.__click=void 0,n.__className="",n.__attributes=null,n.__styles=null,n.__e=void 0,Text.prototype.__t=void 0}}function qr(n=""){return document.createTextNode(n)}function In(n){return ba.call(n)}function Hr(n){return ma.call(n)}function O(n,e){return In(n)}function Y(n,e){{var t=In(n);return t instanceof Comment&&t.data===""?Hr(t):t}}function I(n,e=1,t=!1){let r=n;for(;e--;)r=Hr(r);return r}function Qo(n){n.textContent=""}let ya=!1;const pa=new Set,bi=new Set;function mi(n,e,t,r){function i(s){if(r.capture||Zn.call(e,s),!s.cancelBubble){var a=Le,o=ke;ht(null),it(null);try{return t.call(this,s)}finally{ht(a),it(o)}}}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?dn(()=>{e.addEventListener(n,i,r)}):e.addEventListener(n,i,r),i}function A(n,e,t,r,i){var s={capture:r,passive:i},a=mi(n,e,t,s);(e===document.body||e===window||e===document)&&Ui(()=>{e.removeEventListener(n,a,s)})}function Xo(n){for(var e=0;e<n.length;e++)pa.add(n[e]);for(var t of bi)t(n)}function Zn(n){var w;var e=this,t=e.ownerDocument,r=n.type,i=((w=n.composedPath)==null?void 0:w.call(n))||[],s=i[0]||n.target,a=0,o=n.__root;if(o){var c=i.indexOf(o);if(c!==-1&&(e===document||e===window)){n.__root=e;return}var l=i.indexOf(e);if(l===-1)return;c<=l&&(a=c)}if(s=i[a]||n.target,s!==e){mo(n,"currentTarget",{configurable:!0,get(){return s||t}});var u=Le,d=ke;ht(null),it(null);try{for(var f,v=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var y=s["__"+r];if(y!==void 0&&!s.disabled)if(or(y)){var[k,...p]=y;k.apply(s,[n,...p])}else y.call(s,n)}catch(E){f?v.push(E):f=E}if(n.cancelBubble||m===e||m===null)break;s=m}if(f){for(let E of v)queueMicrotask(()=>{throw E});throw f}}finally{n.__root=e,delete n.currentTarget,ht(u),it(d)}}}function wa(n){var e=document.createElement("template");return e.innerHTML=n,e.content}function rr(n,e){var t=ke;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function z(n,e){var t=(e&go)!==0,r=(e&bo)!==0,i,s=!n.startsWith("<!>");return()=>{i===void 0&&(i=wa(s?n:"<!>"+n),t||(i=In(i)));var a=r?document.importNode(i,!0):i.cloneNode(!0);if(t){var o=In(a),c=a.lastChild;rr(o,c)}else rr(a,a);return a}}function Se(n,e,t="svg"){var r=!n.startsWith("<!>"),i=`<${t}>${r?n:"<!>"+n}</${t}>`,s;return()=>{if(!s){var a=wa(i),o=In(a);s=In(o)}var c=s.cloneNode(!0);return rr(c,c),c}}function Ae(n=""){{var e=qr(n+"");return rr(e,e),e}}function ge(){var n=document.createDocumentFragment(),e=document.createComment(""),t=qr();return n.append(e,t),rr(e,t),n}function b(n,e){n!==null&&n.before(e)}function el(n){return n.endsWith("capture")&&n!=="gotpointercapture"&&n!=="lostpointercapture"}const tl=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function nl(n){return tl.includes(n)}const rl={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function il(n){return n=n.toLowerCase(),rl[n]??n}const sl=["touchstart","touchmove"];function al(n){return sl.includes(n)}let yi=!0;function ie(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=t,n.nodeValue=t==null?"":t+"")}function ol(n,e){return ll(n,e)}const bn=new Map;function ll(n,{target:e,anchor:t,props:r={},events:i,context:s,intro:a=!0}){Zo();var o=new Set,c=d=>{for(var f=0;f<d.length;f++){var v=d[f];if(!o.has(v)){o.add(v);var m=al(v);e.addEventListener(v,Zn,{passive:m});var y=bn.get(v);y===void 0?(document.addEventListener(v,Zn,{passive:m}),bn.set(v,1)):bn.set(v,y+1)}}};c(zi(pa)),bi.add(c);var l=void 0,u=No(()=>{var d=t??e.appendChild(qr());return Tt(()=>{if(s){de({});var f=we;f.c=s}i&&(r.$$events=i),yi=a,l=n(d,r)||{},yi=!0,s&&he()}),()=>{var m;for(var f of o){e.removeEventListener(f,Zn);var v=bn.get(f);--v===0?(document.removeEventListener(f,Zn),bn.delete(f)):bn.set(f,v)}bi.delete(c),as.delete(l),d!==t&&((m=d.parentNode)==null||m.removeChild(d))}});return as.set(l,u),l}let as=new WeakMap;const ti=0,xr=1,ni=2;function cl(n,e,t,r,i){var s=n,a=vr(),o=we,c,l,u,d,f=(a?Qe:Rn)(void 0),v=(a?Qe:Rn)(void 0),m=!1;function y(p,w){m=!0,w&&(it(k),ht(k),ns(o)),p===ti&&t&&(l?sn(l):l=Tt(()=>t(s))),p===xr&&r&&(u?sn(u):u=Tt(()=>r(s,f))),p===ni&&i&&(d?sn(d):d=Tt(()=>i(s,v))),p!==ti&&l&&Jt(l,()=>l=null),p!==xr&&u&&Jt(u,()=>u=null),p!==ni&&d&&Jt(d,()=>d=null),w&&(ns(null),ht(null),it(null),qi())}var k=Mn(()=>{if(c!==(c=e())){if(wo(c)){var p=c;m=!1,p.then(w=>{p===c&&(Pn(f,w),y(xr,!0))},w=>{if(p===c)throw Pn(v,w),y(ni,!0),v.v}),dn(()=>{m||y(ti,!0)})}else Pn(f,c),y(xr,!1);return()=>c=null}})}function q(n,e,t,r=null,i=!1){var s=n,a=null,o=null,c=null,l=i?dr:0;Mn(()=>{c!==(c=!!e())&&(c?(a?sn(a):a=Tt(()=>t(s)),o&&Jt(o,()=>{o=null})):(o?sn(o):r&&(o=Tt(()=>r(s))),a&&Jt(a,()=>{a=null})))},l)}function ul(n,e,t){var r=n,i=tt,s;Mn(()=>{Di(i,i=e())&&(s&&Jt(s),s=Tt(()=>t(r)))})}let ri=null;function dl(n,e){return e}function hl(n,e,t,r){for(var i=[],s=e.length,a=0;a<s;a++)Bi(e[a].e,i,!0);var o=s>0&&i.length===0&&t!==null;if(o){var c=t.parentNode;Qo(c),c.append(t),r.clear(),Ht(n,e[0].prev,e[s-1].next)}aa(i,()=>{for(var l=0;l<s;l++){var u=e[l];o||(r.delete(u.k),Ht(n,u.prev,u.next)),un(u.e,!o)}})}function $r(n,e,t,r,i,s=null){var a=n,o={flags:e,items:new Map,first:null},c=(e&Fs)!==0;if(c){var l=n;a=l.appendChild(qr())}var u=null,d=!1;Mn(()=>{var f=t(),v=or(f)?f:f==null?[]:zi(f),m=v.length;d&&m===0||(d=m===0,fl(v,o,a,i,e,r),s!==null&&(m===0?u?sn(u):u=Tt(()=>s(a)):u!==null&&Jt(u,()=>{u=null})),t())})}function fl(n,e,t,r,i,s){var J,R,W,F;var a=(i&ao)!==0,o=(i&(ji|Li))!==0,c=n.length,l=e.items,u=e.first,d=u,f,v=null,m,y=[],k=[],p,w,E,x;if(a)for(x=0;x<c;x+=1)p=n[x],w=s(p,x),E=l.get(w),E!==void 0&&((J=E.a)==null||J.measure(),(m??(m=new Set)).add(E));for(x=0;x<c;x+=1){if(p=n[x],w=s(p,x),E=l.get(w),E===void 0){var $=d?d.e.nodes_start:t;v=_l($,e,v,v===null?e.first:v.next,p,w,x,r,i),l.set(w,v),y=[],k=[],d=v.next;continue}if(o&&vl(E,p,x,i),E.e.f&Rt&&(sn(E.e),a&&((R=E.a)==null||R.unfix(),(m??(m=new Set)).delete(E))),E!==d){if(f!==void 0&&f.has(E)){if(y.length<k.length){var U=k[0],M;v=U.prev;var C=y[0],L=y[y.length-1];for(M=0;M<y.length;M+=1)os(y[M],U,t);for(M=0;M<k.length;M+=1)f.delete(k[M]);Ht(e,C.prev,L.next),Ht(e,v,C),Ht(e,L,U),d=U,v=L,x-=1,y=[],k=[]}else f.delete(E),os(E,d,t),Ht(e,E.prev,E.next),Ht(e,E,v===null?e.first:v.next),Ht(e,v,E),v=E;continue}for(y=[],k=[];d!==null&&d.k!==w;)d.e.f&Rt||(f??(f=new Set)).add(d),k.push(d),d=d.next;if(d===null)continue;E=d}y.push(E),v=E,d=E.next}if(d!==null||f!==void 0){for(var N=f===void 0?[]:zi(f);d!==null;)d.e.f&Rt||N.push(d),d=d.next;var K=N.length;if(K>0){var V=i&Fs&&c===0?t:null;if(a){for(x=0;x<K;x+=1)(W=N[x].a)==null||W.measure();for(x=0;x<K;x+=1)(F=N[x].a)==null||F.fix()}hl(e,N,V,l)}}a&&dn(()=>{var G;if(m!==void 0)for(E of m)(G=E.a)==null||G.apply()}),ke.first=e.first&&e.first.e,ke.last=v&&v.e}function vl(n,e,t,r){r&ji&&Pn(n.v,e),r&Li?Pn(n.i,t):n.i=t}function _l(n,e,t,r,i,s,a,o,c){var l=ri;try{var u=(c&ji)!==0,d=(c&oo)===0,f=u?d?Rn(i):Qe(i):i,v=c&Li?Qe(a):a,m={i:v,v:f,k:s,a:null,e:null,prev:t,next:r};return ri=m,m.e=Tt(()=>o(n,f,v),ya),m.e.prev=t&&t.e,m.e.next=r&&r.e,t===null?e.first=m:(t.next=m,t.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{ri=l}}function os(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==r;){var a=Hr(s);i.before(s),s=a}}function Ht(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function re(n,e,t,r,i){var o;var s=(o=e.$$slots)==null?void 0:o[t],a=!1;s===!0&&(s=e[t==="default"?"children":t],a=!0),s===void 0?i!==null&&i(n):s(n,a?()=>r:r)}function Un(n){const e={};n.children&&(e.default=!0);for(const t in n.$$slots)e[t]=!0;return e}function wt(n,e,t){var r=n,i,s;Mn(()=>{i!==(i=e())&&(s&&(Jt(s),s=null),i&&(s=Tt(()=>t(r,i))))},dr)}function gl(n,e){if(e){const t=document.body;n.autofocus=!0,dn(()=>{document.activeElement===t&&n.focus()})}}let ls=!1;function bl(){ls||(ls=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function ml(n,e){var t=n.__attributes??(n.__attributes={});t.value===(t.value=e)||n.value===e&&(e!==0||n.nodeName!=="PROGRESS")||(n.value=e)}function yl(n,e){var t=n.__attributes??(n.__attributes={});t.checked!==(t.checked=e)&&(n.checked=e)}function ce(n,e,t,r){var i=n.__attributes??(n.__attributes={});i[e]!==(i[e]=t)&&(e==="style"&&"__styles"in n&&(n.__styles={}),e==="loading"&&(n[Eo]=t),t==null?n.removeAttribute(e):typeof t!="string"&&xa(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function le(n,e,t,r,i=!1,s=!1,a=!1){var o=e||{},c=n.tagName==="OPTION";for(var l in e)l in t||(t[l]=null);var u=xa(n),d=n.__attributes??(n.__attributes={}),f=[];for(const p in t){let w=t[p];if(c&&p==="value"&&w==null){n.value=n.__value="",o[p]=w;continue}var v=o[p];if(w!==v){o[p]=w;var m=p[0]+p[1];if(m!=="$$"){if(m==="on"){const E={},x="$$"+p;let $=p.slice(2);var y=nl($);if(el($)&&($=$.slice(0,-7),E.capture=!0),!y&&v){if(w!=null)continue;n.removeEventListener($,o[x],E),o[x]=null}if(w!=null)if(y)n[`__${$}`]=w,Xo([$]);else{let U=function(M){o[p].call(this,M)};e?o[x]=mi($,n,U,E):f.push([p,w,()=>o[x]=mi($,n,U,E)])}}else if(p==="style"&&w!=null)n.style.cssText=w+"";else if(p==="autofocus")gl(n,!!w);else if(p==="__value"||p==="value"&&w!=null)n.value=n[p]=n.__value=w;else{var k=p;i||(k=il(k)),w==null&&!s?(d[p]=null,n.removeAttribute(p)):u.includes(k)&&(s||typeof w!="string")?n[k]=w:typeof w!="function"&&ce(n,k,w)}p==="style"&&"__styles"in n&&(n.__styles={})}}}return e||dn(()=>{if(n.isConnected)for(const[p,w,E]of f)o[p]===w&&E()}),o}var cs=new Map;function xa(n){var e=cs.get(n.nodeName);if(e)return e;cs.set(n.nodeName,e=[]);for(var t,r=Ir(n),i=Element.prototype;i!==r;){t=Vs(r);for(var s in t)t[s].set&&e.push(s);r=Ir(r)}return e}function ka(n,e){var t=n.__className,r=pl(e);(t!==r||ya)&&(e==null?n.removeAttribute("class"):n.className=r,n.__className=r)}function pl(n){return n??""}function g(n,e,t){if(t){if(n.classList.contains(e))return;n.classList.add(e)}else{if(!n.classList.contains(e))return;n.classList.remove(e)}}function Hi(n,e,t,r){var i=n.__styles??(n.__styles={});i[e]!==t&&(i[e]=t,t==null?n.style.removeProperty(e):n.style.setProperty(e,t,""))}const wl=()=>performance.now(),Wt={tick:n=>requestAnimationFrame(n),now:()=>wl(),tasks:new Set};function Sa(n){Wt.tasks.forEach(e=>{e.c(n)||(Wt.tasks.delete(e),e.f())}),Wt.tasks.size!==0&&Wt.tick(Sa)}function xl(n){let e;return Wt.tasks.size===0&&Wt.tick(Sa),{promise:new Promise(t=>{Wt.tasks.add(e={c:n,f:t})}),abort(){Wt.tasks.delete(e)}}}function kr(n,e){n.dispatchEvent(new CustomEvent(e))}function kl(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function us(n){const e={},t=n.split(";");for(const r of t){const[i,s]=r.split(":");if(!i||s===void 0)break;const a=kl(i.trim());e[a]=s.trim()}return e}const Sl=n=>n;function ds(n,e,t,r){var i=(n&fo)!==0,s=(n&vo)!==0,a=i&&s,o=(n&_o)!==0,c=a?"both":i?"in":"out",l,u=e.inert,d,f;function v(){var w=Le,E=ke;ht(null),it(null);try{return l??(l=t()(e,(r==null?void 0:r())??{},{direction:c}))}finally{ht(w),it(E)}}var m={is_global:o,in(){var w;if(e.inert=u,!i){f==null||f.abort(),(w=f==null?void 0:f.reset)==null||w.call(f);return}s||d==null||d.abort(),kr(e,"introstart"),d=pi(e,v(),f,1,()=>{kr(e,"introend"),d==null||d.abort(),d=l=void 0})},out(w){if(!s){w==null||w(),l=void 0;return}e.inert=!0,kr(e,"outrostart"),f=pi(e,v(),d,0,()=>{kr(e,"outroend"),w==null||w()})},stop:()=>{d==null||d.abort(),f==null||f.abort()}},y=ke;if((y.transitions??(y.transitions=[])).push(m),i&&yi){var k=o;if(!k){for(var p=y.parent;p&&p.f&dr;)for(;(p=p.parent)&&!(p.f&Ur););k=!p||(p.f&Ws)!==0}k&&Br(()=>{At(()=>m.in())})}}function pi(n,e,t,r,i){var s=r===1;if(kn(e)){var a,o=!1;return dn(()=>{if(!o){var k=e({direction:s?"in":"out"});a=pi(n,k,t,r,i)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:lt,deactivate:lt,reset:lt,t:()=>r};const{delay:c=0,css:l,tick:u,easing:d=Sl}=e;var f=[];if(s&&t===void 0&&(u&&u(0,1),l)){var v=us(l(0,1));f.push(v,v)}var m=()=>1-r,y=n.animate(f,{duration:c});return y.onfinish=()=>{var k=(t==null?void 0:t.t())??1-r;t==null||t.abort();var p=r-k,w=e.duration*Math.abs(p),E=[];if(w>0){if(l)for(var x=Math.ceil(w/16.666666666666668),$=0;$<=x;$+=1){var U=k+p*d($/x),M=l(U,1-U);E.push(us(M))}m=()=>{var C=y.currentTime;return k+p*d(C/w)},u&&xl(()=>{if(y.playState!=="running")return!1;var C=m();return u(C,1-C),!0})}y=n.animate(E,{duration:w,fill:"forwards"}),y.onfinish=()=>{m=()=>r,u==null||u(r,1-r),i()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=lt)},deactivate:()=>{i=lt},reset:()=>{r===0&&(u==null||u(1,0))},t:()=>m()}}function El(n,e,t,r=!0){r&&t();for(var i of e)n.addEventListener(i,t);Ui(()=>{for(var s of e)n.removeEventListener(s,t)})}function Tl(n,e,t,r=t){n.addEventListener(e,t);const i=n.__on_r;i?n.__on_r=()=>{i(),r()}:n.__on_r=r,bl()}function Ea(n,e,t=e){var r=vr();Tl(n,"input",()=>{var i=hs(n)?fs(n.value):n.value;t(i),r&&i!==(i=e())&&(n.value=i??"")}),hr(()=>{var i=e();hs(n)&&i===fs(n.value)||n.type==="date"&&!i&&!n.value||i!==n.value&&(n.value=i??"")})}function hs(n){var e=n.type;return e==="number"||e==="range"}function fs(n){return n===""?null:+n}function vs(n,e){return n===e||(n==null?void 0:n[Tn])===e}function Be(n={},e,t,r){return Br(()=>{var i,s;return hr(()=>{i=s,s=[],At(()=>{n!==t(...s)&&(e(n,...s),i&&vs(t(...i),n)&&e(null,...i))})}),()=>{dn(()=>{s&&vs(t(...s),n)&&e(null,...s)})}}),n}function Pl(n,e){El(window,["resize"],()=>e(window[n]))}function wi(n){return function(...e){var t=e[0];return t.stopPropagation(),n==null?void 0:n.apply(this,e)}}function Al(n){return function(...e){var t=e[0];return t.preventDefault(),n==null?void 0:n.apply(this,e)}}function fe(n=!1){const e=we,t=e.l.u;if(!t)return;let r=()=>T(e.s);if(n){let i=0,s={};const a=zr(()=>{let o=!1;const c=e.s;for(const l in c)c[l]!==s[l]&&(s[l]=c[l],o=!0);return o&&i++,i});r=()=>h(a)}t.b.length&&Mo(()=>{_s(e,r),jr(t.b)}),fi(()=>{const i=At(()=>t.m.map(xo));return()=>{for(const s of i)typeof s=="function"&&s()}}),t.a.length&&fi(()=>{_s(e,r),jr(t.a)})}function _s(n,e){if(n.l.s)for(const t of n.l.s)h(t);e()}function P(n,e){var s;var t=(s=n.$$events)==null?void 0:s[e.type],r=or(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function jt(n){we===null&&fr(),we.l!==null?Aa(we).m.push(n):fi(()=>{const e=At(n);if(typeof e=="function")return e})}function Ta(n){we===null&&fr(),jt(()=>()=>At(n))}function Ol(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function hn(){const n=we;return n===null&&fr(),(e,t,r)=>{var s;const i=(s=n.s.$$events)==null?void 0:s[e];if(i){const a=or(i)?i.slice():[i],o=Ol(e,t,r);for(const c of a)c.call(n.x,o);return!o.defaultPrevented}return!0}}function Pa(n){we===null&&fr(),we.l===null&&Co(),Aa(we).a.push(n)}function Aa(n){var e=n.l;return e.u??(e.u={a:[],b:[],m:[]})}function Vi(n,e,t){if(n==null)return e(void 0),t&&t(void 0),lt;const r=At(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}let Sr=!1;function He(n,e,t){const r=t[e]??(t[e]={store:null,source:Rn(void 0),unsubscribe:lt});if(r.store!==n)if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=lt;else{var i=!0;r.unsubscribe=Vi(n,s=>{i?r.source.v=s:S(r.source,s)}),i=!1}return h(r.source)}function Oa(n,e){return n.set(e),e}function Ct(){const n={};return Ui(()=>{for(var e in n)n[e].unsubscribe()}),n}function Cl(n){var e=Sr;try{return Sr=!1,[n(),Sr]}finally{Sr=e}}const $l={get(n,e){if(!n.exclude.includes(e))return h(n.version),e in n.special?n.special[e]():n.props[e]},set(n,e,t){return e in n.special||(n.special[e]=_({get[e](){return n.props[e]}},e,qs)),n.special[e](t),is(n.version),!0},getOwnPropertyDescriptor(n,e){if(!n.exclude.includes(e)&&e in n.props)return{enumerable:!0,configurable:!0,value:n.props[e]}},deleteProperty(n,e){return n.exclude.includes(e)||(n.exclude.push(e),is(n.version)),!0},has(n,e){return n.exclude.includes(e)?!1:e in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(e=>!n.exclude.includes(e))}};function B(n,e){return new Proxy({props:n,exclude:e,special:{},version:Qe(0)},$l)}const Rl={get(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(kn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(n,e,t){let r=n.props.length;for(;r--;){let i=n.props[r];kn(i)&&(i=i());const s=Kt(i,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(kn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const i=Kt(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(n,e){for(let t of n.props)if(kn(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(n){const e=[];for(let t of n.props){kn(t)&&(t=t());for(const r in t)e.includes(r)||e.push(r)}return e}};function pt(...n){return new Proxy({props:n},Rl)}function gs(n){for(var e=ke,t=ke;e!==null&&!(e.f&(xt|cr));)e=e.parent;try{return it(e),n()}finally{it(t)}}function _(n,e,t,r){var U;var i=(t&lo)!==0,s=(t&co)!==0,a=(t&uo)!==0,o=(t&ho)!==0,c=!1,l;a?[l,c]=Cl(()=>n[e]):l=n[e];var u=(U=Kt(n,e))==null?void 0:U.set,d=r,f=!0,v=!1,m=()=>(v=!0,f&&(f=!1,o?d=At(r):d=r),d);l===void 0&&r!==void 0&&(u&&s&&$o(),l=m(),u&&u(l));var y;if(s)y=()=>{var M=n[e];return M===void 0?m():(f=!0,v=!1,M)};else{var k=gs(()=>(i?zr:De)(()=>n[e]));k.f|=ko,y=()=>{var M=h(k);return M!==void 0&&(d=void 0),M===void 0?d:M}}if(!(t&qs))return y;if(u){var p=n.$$legacy;return function(M,C){return arguments.length>0?((!s||!C||p||c)&&u(C?y():M),M):y()}}var w=!1,E=!1,x=Rn(l),$=gs(()=>zr(()=>{var M=y(),C=h(x);return w?(w=!1,E=!0,C):(E=!1,x.v=M)}));return i||($.equals=Mi),function(M,C){if(arguments.length>0){const L=C?h($):s&&a?Sn(M):M;return $.equals(L)||(w=!0,S(x,L),v&&d!==void 0&&(d=L),At(()=>h($))),M}return h($)}}const bs={},xi={},Il={},Ca=/^:(.+)/,ms=4,jl=3,Ll=2,zl=1,Dl=1,ki=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),ii=n=>n.replace(/(^\/+|\/+$)/g,""),Ml=(n,e)=>{const t=n.default?0:ki(n.path).reduce((r,i)=>(r+=ms,i===""?r+=Dl:Ca.test(i)?r+=Ll:i[0]==="*"?r-=ms+zl:r+=jl,r),0);return{route:n,score:t,index:e}},Nl=n=>n.map(Ml).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index),ys=(n,e)=>{let t,r;const[i]=e.split("?"),s=ki(i),a=s[0]==="",o=Nl(n);for(let c=0,l=o.length;c<l;c++){const u=o[c].route;let d=!1;if(u.default){r={route:u,params:{},uri:e};continue}const f=ki(u.path),v={},m=Math.max(s.length,f.length);let y=0;for(;y<m;y++){const k=f[y],p=s[y];if(k&&k[0]==="*"){const E=k==="*"?"*":k.slice(1);v[E]=s.slice(y).map(decodeURIComponent).join("/");break}if(typeof p>"u"){d=!0;break}const w=Ca.exec(k);if(w&&!a){const E=decodeURIComponent(p);v[w[1]]=E}else if(k!==p){d=!0;break}}if(!d){t={route:u,params:v,uri:"/"+s.slice(0,y).join("/")};break}}return t||r||null},si=(n,e)=>`${ii(e==="/"?n:`${ii(n)}/${ii(e)}`)}/`,Si=()=>typeof window<"u"&&"document"in window&&"location"in window;function Er(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]);de(e,!1);const r=Ct(),i=()=>He(d,"$activeRoute",r);let s=_(e,"path",8,""),a=_(e,"component",12,null),o=D({}),c=D({});const{registerRoute:l,unregisterRoute:u,activeRoute:d}=Ot(xi),f={path:s(),default:s()===""};l(f),Ta(()=>{u(f)}),H(()=>(i(),T(t),Si),()=>{if(i()&&i().route===f){S(o,i().params);const{component:y,path:k,...p}=t;S(c,p),y&&(y.toString().startsWith("class ")?a(y):a(y())),Si()&&!i().preserveScroll&&(window==null||window.scrollTo(0,0))}}),me(),fe();var v=ge(),m=Y(v);q(m,()=>i()&&i().route===f,y=>{var k=ge(),p=Y(k);q(p,a,w=>{var E=ge(),x=Y(E);cl(x,a,null,($,U)=>{var M=ge(),C=Y(M);wt(C,()=>{var L;return((L=h(U))==null?void 0:L.default)||h(U)},(L,N)=>{N(L,pt(()=>h(o),()=>h(c)))}),b($,M)}),b(w,E)},w=>{var E=ge(),x=Y(E);re(x,e,"default",{get params(){return h(o)}},null),b(w,E)}),b(y,k)}),b(n,v),he()}const mn=[];function Rr(n,e){return{subscribe:Ve(n,e).subscribe}}function Ve(n,e=lt){let t=null;const r=new Set;function i(o){if(Di(n,o)&&(n=o,t)){const c=!mn.length;for(const l of r)l[1](),mn.push(l,n);if(c){for(let l=0;l<mn.length;l+=2)mn[l][0](mn[l+1]);mn.length=0}}}function s(o){i(o(n))}function a(o,c=lt){const l=[o,c];return r.add(l),r.size===1&&(t=e(i,s)||lt),o(n),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}function Ul(n,e,t){const r=!Array.isArray(n),i=r?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Rr(t,(a,o)=>{let c=!1;const l=[];let u=0,d=lt;const f=()=>{if(u)return;d();const m=e(r?l[0]:l,a,o);s?a(m):d=typeof m=="function"?m:lt},v=i.map((m,y)=>Vi(m,k=>{l[y]=k,u&=~(1<<y),c&&f()},()=>{u|=1<<y}));return c=!0,f(),function(){jr(v),d(),c=!1}})}function Bl(n){let e;return Vi(n,t=>e=t)(),e}const ai=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),Fl=n=>{const e=[];let t=ai(n);return{get location(){return t},listen(r){e.push(r);const i=()=>{t=ai(n),r({location:t,action:"POP"})};return n.addEventListener("popstate",i),()=>{n.removeEventListener("popstate",i);const s=e.indexOf(r);e.splice(s,1)}},navigate(r,{state:i,replace:s=!1,preserveScroll:a=!1,blurActiveElement:o=!0}={}){i={...i,key:Date.now()+""};try{s?n.history.replaceState(i,"",r):n.history.pushState(i,"",r)}catch{n.location[s?"replace":"assign"](r)}t=ai(n),e.forEach(c=>c({location:t,action:"PUSH",preserveScroll:a})),o&&document.activeElement.blur()}}},ql=(n="/")=>{let e=0;const t=[{pathname:n,search:""}],r=[];return{get location(){return t[e]},addEventListener(i,s){},removeEventListener(i,s){},history:{get entries(){return t},get index(){return e},get state(){return r[e]},pushState(i,s,a){const[o,c=""]=a.split("?");e++,t.push({pathname:o,search:c}),r.push(i)},replaceState(i,s,a){const[o,c=""]=a.split("?");t[e]={pathname:o,search:c},r[e]=i}}}},$a=Fl(Si()?window:ql()),{navigate:ir}=$a;var Hl=z("<div><!></div>");function Vl(n,e){de(e,!1);const t=Ct(),r=()=>He(w,"$base",t),i=()=>He(p,"$location",t),s=()=>He(m,"$routes",t),a=()=>He(y,"$activeRoute",t);let o=_(e,"basepath",8,"/"),c=_(e,"url",8,null),l=_(e,"viewtransition",8,null),u=_(e,"history",8,$a);const d=(L,N,K)=>{const V=l()(K);return typeof(V==null?void 0:V.fn)=="function"?V.fn(L,V):V};an(Il,u());const f=Ot(bs),v=Ot(xi),m=Ve([]),y=Ve(null);let k=!1;const p=f||Ve(c()?{pathname:c()}:u().location),w=v?v.routerBase:Ve({path:o(),uri:o()}),E=Ul([w,y],([L,N])=>{if(!N)return L;const{path:K}=L,{route:V,uri:J}=N;return{path:V.default?K:V.path.replace(/\*.*$/,""),uri:J}}),x=L=>{const{path:N}=r();let{path:K}=L;if(L._path=K,L.path=si(N,K),typeof window>"u"){if(k)return;const V=ys([L],i().pathname);V&&(y.set(V),k=!0)}else m.update(V=>[...V,L])},$=L=>{m.update(N=>N.filter(K=>K!==L))};let U=D(!1);f||(jt(()=>u().listen(N=>{S(U,N.preserveScroll||!1),p.set(N.location)})),an(bs,p)),an(xi,{activeRoute:y,base:w,routerBase:E,registerRoute:x,unregisterRoute:$}),H(()=>(r(),si),()=>{const{path:L}=r();m.update(N=>N.map(K=>Object.assign(K,{path:si(L,K._path)})))}),H(()=>(s(),i(),h(U)),()=>{const L=ys(s(),i().pathname);y.set(L&&{...L,preserveScroll:h(U)})}),me(),fe();var M=ge(),C=Y(M);q(C,l,L=>{var N=ge(),K=Y(N);ul(K,()=>i().pathname,V=>{var J=Hl(),R=O(J);re(R,e,"default",{get route(){return a()&&a().uri},get location(){return i()}},null),ds(1,J,()=>d),ds(2,J,()=>d),b(V,J)}),b(L,N)},L=>{var N=ge(),K=Y(N);re(K,e,"default",{get route(){return a()&&a().uri},get location(){return i()}},null),b(L,N)}),b(n,M),he()}const Gl="modulepreload",Wl=function(n){return"/crmbik/"+n},ps={},jn=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=Wl(c),c in ps)return;ps[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Gl,l||(d.as="script"),d.crossOrigin="",d.href=c,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((f,v)=>{d.addEventListener("load",f),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Kl=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>jn(async()=>{const{default:r}=await Promise.resolve().then(()=>Bn);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Gi extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Jl extends Gi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yl extends Gi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zl extends Gi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ei;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Ei||(Ei={}));var Ql=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(n,e||[])).next())})};class Xl{constructor(e,{headers:t={},customFetch:r,region:i=Ei.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=Kl(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Ql(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=t;let o={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let l;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",l=a):typeof a=="string"?(o["Content-Type"]="text/plain",l=a):typeof FormData<"u"&&a instanceof FormData?l=a:(o["Content-Type"]="application/json",l=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:l}).catch(m=>{throw new Jl(m)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Yl(u);if(!u.ok)throw new Zl(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield u.json():f==="application/octet-stream"?v=yield u.blob():f==="text/event-stream"?v=u:f==="multipart/form-data"?v=yield u.formData():v=yield u.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ec(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var nt={},Wi={},Vr={},gr={},Gr={},Wr={},tc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ln=tc();const nc=Ln.fetch,Ra=Ln.fetch.bind(Ln),Ia=Ln.Headers,rc=Ln.Request,ic=Ln.Response,Bn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ia,Request:rc,Response:ic,default:Ra,fetch:nc},Symbol.toStringTag,{value:"Module"})),sc=ec(Bn);var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});class ac extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Kr.default=ac;var ja=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wr,"__esModule",{value:!0});const oc=ja(sc),lc=ja(Kr);let cc=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=oc.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,c;let l=null,u=null,d=null,f=s.status,v=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),k=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&k&&k.length>1&&(d=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await s.text();try{l=JSON.parse(y),Array.isArray(l)&&s.status===404&&(u=[],l=null,f=200,v="OK")}catch{s.status===404&&y===""?(f=204,v="No Content"):l={message:y}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,f=200,v="OK"),l&&this.shouldThrowOnError)throw new lc.default(l)}return{error:l,data:u,count:d,status:f,statusText:v}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}};Wr.default=cc;var uc=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gr,"__esModule",{value:!0});const dc=uc(Wr);let hc=class extends dc.default{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Gr.default=hc;var fc=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gr,"__esModule",{value:!0});const vc=fc(Gr);let _c=class extends vc.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};gr.default=_c;var gc=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vr,"__esModule",{value:!0});const Jn=gc(gr);let bc=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Jn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Jn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Jn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Jn.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vr.default=bc;var Jr={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.version=void 0;Yr.version="0.0.0-automated";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.DEFAULT_HEADERS=void 0;const mc=Yr;Jr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mc.version}`};var La=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wi,"__esModule",{value:!0});const yc=La(Vr),pc=La(gr),wc=Jr;let xc=class za{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},wc.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){const t=new URL(`${this.url}/${e}`);return new yc.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new za(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{o.searchParams.append(u,d)})):(a="POST",c=t);const l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new pc.default({method:a,url:o,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Wi.default=xc;var Fn=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nt,"__esModule",{value:!0});nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const Da=Fn(Wi);nt.PostgrestClient=Da.default;const Ma=Fn(Vr);nt.PostgrestQueryBuilder=Ma.default;const Na=Fn(gr);nt.PostgrestFilterBuilder=Na.default;const Ua=Fn(Gr);nt.PostgrestTransformBuilder=Ua.default;const Ba=Fn(Wr);nt.PostgrestBuilder=Ba.default;const Fa=Fn(Kr);nt.PostgrestError=Fa.default;var kc=nt.default={PostgrestClient:Da.default,PostgrestQueryBuilder:Ma.default,PostgrestFilterBuilder:Na.default,PostgrestTransformBuilder:Ua.default,PostgrestBuilder:Ba.default,PostgrestError:Fa.default};const{PostgrestClient:Sc,PostgrestQueryBuilder:Jv,PostgrestFilterBuilder:Yv,PostgrestTransformBuilder:Zv,PostgrestBuilder:Qv}=kc,Ec="2.10.7",Tc={"X-Client-Info":`realtime-js/${Ec}`},Pc="1.0.0",qa=1e4,Ac=1e3;var Cn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Cn||(Cn={}));var ot;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ot||(ot={}));var yt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(yt||(yt={}));var Ti;(function(n){n.websocket="websocket"})(Ti||(Ti={}));var nn;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(nn||(nn={}));class Oc{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+i));a=a+i;const c=r.decode(e.slice(a,a+s));a=a+s;const l=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:l}}}class Ha{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ze||(ze={}));const ws=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,a)=>(s[a]=Cc(a,n,e,i),s),{})},Cc=(n,e,t,r)=>{const i=e.find(o=>o.name===n),s=i==null?void 0:i.type,a=t[n];return s&&!r.includes(s)?Va(s,a):Pi(a)},Va=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return jc(e,t)}switch(n){case ze.bool:return $c(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Rc(e);case ze.json:case ze.jsonb:return Ic(e);case ze.timestamp:return Lc(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Pi(e);default:return Pi(e)}},Pi=n=>n,$c=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Rc=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Ic=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},jc=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const a=n.slice(1,t);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Va(e,o))}return n},Lc=n=>typeof n=="string"?n.replace(" ","T"):n,Ga=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class oi{constructor(e,t,r={},i=qa){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xs;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(xs||(xs={}));class Xn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xn.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Xn.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xn.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),a=this.transformState(t),o={},c={};return this.map(s,(l,u)=>{a[l]||(c[l]=u)}),this.map(a,(l,u)=>{const d=s[l];if(d){const f=u.map(k=>k.presence_ref),v=d.map(k=>k.presence_ref),m=u.filter(k=>v.indexOf(k.presence_ref)<0),y=d.filter(k=>f.indexOf(k.presence_ref)<0);m.length>0&&(o[l]=m),y.length>0&&(c[l]=y)}else o[l]=u}),this.syncDiff(s,{joins:o,leaves:c},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var l;const u=(l=e[o])!==null&&l!==void 0?l:[];if(e[o]=this.cloneDeep(c),u.length>0){const d=e[o].map(v=>v.presence_ref),f=u.filter(v=>d.indexOf(v.presence_ref)<0);e[o].unshift(...f)}r(o,u,c)}),this.map(a,(o,c)=>{let l=e[o];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=l,i(o,l,c),l.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ks;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(ks||(ks={}));var Ss;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ss||(Ss={}));var Es;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Es||(Es={}));class Ki{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new oi(this,yt.join,this.params,this.timeout),this.rejoinTimer=new Ha(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Xn(this),this.broadcastEndpointURL=Ga(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const c={},l={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,v=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,m=[];for(let y=0;y<v;y++){const k=f[y],{filter:{event:p,schema:w,table:E,filter:x}}=k,$=u&&u[y];if($&&$.event===p&&$.schema===w&&$.table===E&&$.filter===x)m.push(Object.assign(Object.assign({},k),{id:$.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const l=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ot.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new oi(this,yt.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),a}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new oi(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:l,join:u}=yt;if(r&&[o,c,l,u].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var m,y,k;return((m=v.filter)===null||m===void 0?void 0:m.event)==="*"||((k=(y=v.filter)===null||y===void 0?void 0:y.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(v=>v.callback(f,r)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var m,y,k,p,w,E;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const x=v.id,$=(m=v.filter)===null||m===void 0?void 0:m.event;return x&&((y=t.ids)===null||y===void 0?void 0:y.includes(x))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const x=(w=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return x==="*"||x===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:y,table:k,commit_timestamp:p,type:w,errors:E}=m;f=Object.assign(Object.assign({},{schema:y,table:k,commit_timestamp:p,eventType:w,new:{},old:{},errors:E}),this._getPayloadRecords(m))}v.callback(f,r)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Ki.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yt.close,{},e)}_onError(e){this._on(yt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ws(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ws(e.columns,e.old_record)),t}}const zc=()=>{},Dc=typeof WebSocket<"u",Mc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Nc{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Tc,this.params={},this.timeout=qa,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zc,this.conn=null,this.sendBuffer=[],this.serializer=new Oc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>jn(async()=>{const{default:c}=await Promise.resolve().then(()=>Bn);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Ti.websocket}`,this.httpEndpoint=Ga(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,a)=>a(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ha(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Dc){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Uc(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),jn(async()=>{const{default:e}=await import("./browser-Dtc8tUpK.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cn.connecting:return nn.Connecting;case Cn.open:return nn.Open;case Cn.closing:return nn.Closing;default:return nn.Closed}}isConnected(){return this.connectionState()===nn.Open}channel(e,t={config:{}}){const r=new Ki(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(yt.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pc}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:a}=t;(a&&a===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(yt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ac,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Mc],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class Uc{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Cn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Ji extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function qe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Bc extends Ji{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ai extends Ji{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Fc=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(n,e||[])).next())})};const Wa=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>jn(async()=>{const{default:r}=await Promise.resolve().then(()=>Bn);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},qc=()=>Fc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jn(()=>Promise.resolve().then(()=>Bn),void 0)).Response:Response}),Oi=n=>{if(Array.isArray(n))return n.map(t=>Oi(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Oi(r)}),e};var fn=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(n,e||[])).next())})};const li=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Hc=(n,e,t)=>fn(void 0,void 0,void 0,function*(){const r=yield qc();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new Bc(li(i),n.status||500))}).catch(i=>{e(new Ai(li(i),i))}):e(new Ai(li(n),n))}),Vc=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function br(n,e,t,r,i,s){return fn(this,void 0,void 0,function*(){return new Promise((a,o)=>{n(t,Vc(e,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Hc(c,o,r))})})}function Mr(n,e,t,r){return fn(this,void 0,void 0,function*(){return br(n,"GET",e,t,r)})}function Vt(n,e,t,r,i){return fn(this,void 0,void 0,function*(){return br(n,"POST",e,r,i,t)})}function Gc(n,e,t,r,i){return fn(this,void 0,void 0,function*(){return br(n,"PUT",e,r,i,t)})}function Wc(n,e,t,r){return fn(this,void 0,void 0,function*(){return br(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Ka(n,e,t,r,i){return fn(this,void 0,void 0,function*(){return br(n,"DELETE",e,r,i,t)})}var et=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(n,e||[])).next())})};const Kc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ts={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jc{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Wa(i)}uploadOrUpdate(e,t,r,i){return et(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Ts),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield d.json();return d.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(qe(s))return{data:null,error:s};throw s}})}upload(e,t,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return et(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let c;const l=Object.assign({upsert:Ts.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(qe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return et(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield Vt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Ji("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}update(e,t,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return et(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(qe(i))return{data:null,error:i};throw i}})}copy(e,t,r){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(qe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return et(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Vt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(qe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return et(this,void 0,void 0,function*(){try{const i=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(qe(i))return{data:null,error:i};throw i}})}download(e,t){return et(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Mr(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}})}info(e){return et(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Mr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Oi(r),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}exists(e){return et(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Wc(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(qe(r)&&r instanceof Ai){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${l}`)}}}remove(e){return et(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}list(e,t,r){return et(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Kc),t),{prefix:e||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(qe(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Yc="2.7.1",Zc={"X-Client-Info":`storage-js/${Yc}`};var yn=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(n,e||[])).next())})};class Qc{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Zc),t),this.fetch=Wa(r)}listBuckets(){return yn(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(qe(e))return{data:null,error:e};throw e}})}getBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return yn(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return yn(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}}class Xc extends Qc{constructor(e,t={},r){super(e,t,r)}from(e){return new Jc(this.url,this.headers,e,this.fetch)}}const eu="2.46.1";let Qn="";typeof Deno<"u"?Qn="deno":typeof document<"u"?Qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qn="react-native":Qn="node";const tu={"X-Client-Info":`supabase-js-${Qn}/${eu}`},nu={headers:tu},ru={schema:"public"},iu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},su={};var au=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(n,e||[])).next())})};const ou=n=>{let e;return n?e=n:typeof fetch>"u"?e=Ra:e=fetch,(...t)=>e(...t)},lu=()=>typeof Headers>"u"?Ia:Headers,cu=(n,e,t)=>{const r=ou(t),i=lu();return(s,a)=>au(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:n;let l=new i(a==null?void 0:a.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:l}))})};var uu=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(n,e||[])).next())})};function du(n){return n.replace(/\/$/,"")}function hu(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:a,auth:o,realtime:c,global:l}=e,u={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},l),s),accessToken:()=>uu(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}const Ja="2.65.1",fu="http://localhost:9999",vu="supabase.auth.token",_u={"X-Client-Info":`gotrue-js/${Ja}`},Ps=10,Ci="X-Supabase-Api-Version",Ya={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function gu(n){return Math.round(Date.now()/1e3)+n}function bu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const mt=()=>typeof document<"u",en={tested:!1,writable:!1},er=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function ci(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const Za=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>jn(async()=>{const{default:r}=await Promise.resolve().then(()=>Bn);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},mu=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Qa=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Tr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Pr=async(n,e)=>{await n.removeItem(e)};function yu(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,i,s,a,o,c,l,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)a=e.indexOf(n.charAt(u++)),o=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),r=a<<2|o>>4,i=(o&15)<<4|c>>2,s=(c&3)<<6|l,t=t+String.fromCharCode(r),c!=64&&i!=0&&(t=t+String.fromCharCode(i)),l!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class Zr{constructor(){this.promise=new Zr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Zr.promiseConstructor=Promise;function As(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(yu(r))}async function pu(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function wu(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await n(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function xu(n){return("0"+n.toString(16)).substr(-2)}function ku(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,xu).join("")}async function Su(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function Eu(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tu(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Su(n);return Eu(t)}async function pn(n,e,t=!1){const r=ku();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await Qa(n,`${e}-code-verifier`,i);const s=await Tu(r);return[s,r===s?"plain":"s256"]}const Pu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Au(n){const e=n.headers.get(Ci);if(!e||!e.match(Pu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Yi extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ye(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Ou extends Yi{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Cu(n){return ye(n)&&n.name==="AuthApiError"}class Xa extends Yi{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class vn extends Yi{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Ft extends vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $u(n){return ye(n)&&n.name==="AuthSessionMissingError"}class ui extends vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ar extends vn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Or extends vn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Os extends vn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $i extends vn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function di(n){return ye(n)&&n.name==="AuthRetryableFetchError"}class Cs extends vn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var Ru=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const tn=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Iu=[502,503,504];async function $s(n){var e;if(!mu(n))throw new $i(tn(n),0);if(Iu.includes(n.status))throw new $i(tn(n),n.status);let t;try{t=await n.json()}catch(s){throw new Xa(tn(s),s)}let r;const i=Au(n);if(i&&i.getTime()>=Ya["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Cs(tn(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ft}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Cs(tn(t),n.status,t.weak_password.reasons);throw new Ou(tn(t),n.status||500,r)}const ju=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Ee(n,e,t,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ci]||(s[Ci]=Ya["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Lu(n,e,t+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Lu(n,e,t,r,i,s){const a=ju(e,r,i,s);let o;try{o=await n(t,Object.assign({},a))}catch(c){throw console.error(c),new $i(tn(c),0)}if(o.ok||await $s(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await $s(c)}}function qt(n){var e;let t=null;Nu(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=gu(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Rs(n){const e=qt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Gt(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function zu(n){return{data:n,error:null}}function Du(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,a=Ru(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function Mu(n){return n}function Nu(n){return n.access_token&&n.refresh_token&&n.expires_in}var Uu=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class Bu{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Za(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Gt})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Uu(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Du,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ye(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gt})}catch(t){if(ye(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,a,o,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Mu});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);l[`${k}Page`]=y}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ye(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gt})}catch(t){if(ye(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Gt})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Gt})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}}}const Fu={getItem:n=>er()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{er()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{er()&&globalThis.localStorage.removeItem(n)}};function Is(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function qu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wn={debug:!!(globalThis&&er()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hu extends eo{}async function Vu(n,e,t){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Hu(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(wn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}qu();const Gu={url:fu,storageKey:vu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_u,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Yn=30*1e3,js=3;async function Ls(n,e,t){return await t()}class sr{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sr.nextInstanceID,sr.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Gu),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Bu({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Za(i.fetch),this.lock=i.lock||Ls,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:mt()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Vu:this.lock=Ls,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:er()?this.storage=Fu:(this.memoryStorage={},this.storage=Is(this.memoryStorage)):(this.memoryStorage={},this.storage=Is(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ja}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=mt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return ye(e)?{error:e}:{error:new Xa("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:qt}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,r,i;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let v=null,m=null;this.flowType==="pkce"&&([v,m]=await pn(this.storage,this.storageKey)),s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:m},xform:qt})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qt})}else throw new Ar("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:a,options:o}=e;t=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Rs})}else if("phone"in e){const{phone:s,password:a,options:o}=e;t=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Rs})}else throw new Ar("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ui}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Tr(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:s,error:a}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:qt});if(await Pr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ui}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(ye(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:s,nonce:a}=e,o=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:qt}),{data:c,error:l}=o;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ui}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,s,a;try{if("email"in e){const{email:o,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await pn(this.storage,this.storageKey));const{error:d}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:c}=e,{data:l,error:u}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Ar("You must provide either an email or phone number.")}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,r;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:qt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,l=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await pn(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:zu})}catch(s){if(ye(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Ft;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ye(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await Ee(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await Ee(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ar("You must provide either an email or phone number and a type")}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!a&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gt}):await this._useSession(async t=>{var r,i,s;const{data:a,error:o}=t;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Gt})})}catch(t){if(ye(t))return $u(t)&&(await this._removeSession(),await Pr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ft;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await pn(this.storage,this.storageKey));const{data:l,error:u}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Gt});if(u)throw u;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return As(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ft;const t=Date.now()/1e3;let r=t,i=!0,s=null;const a=As(e.access_token);if(a.exp&&(r=a.exp,i=r<=t),i){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(ye(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ft;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!mt())throw new Or("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Or("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Os("Not a valid PKCE flow url.");const t=ci(window.location.href);if(e){if(!t.code)throw new Os("No code detected.");const{data:w,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:w.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Or(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:l}=t;if(!s||!o||!a||!l)throw new Or("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;c&&(f=parseInt(c));const v=f-u;v*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:y,error:k}=await this._getUser(s);if(k)throw k;const p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:a,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(t){if(ye(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=ci(window.location.href);return!!(mt()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=ci(window.location.href),t=await Tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Cu(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Pr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=bu(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:a}=t;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await pn(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(ye(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,c,l,u;const{data:d,error:f}=s;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return mt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ye(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:a}=t;if(a)throw a;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await wu(async i=>(i>0&&await pu(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qt})),(i,s)=>{const a=200*Math.pow(2,i);return s&&di(s)&&Date.now()+a-r<Yn})}catch(r){if(this._debug(t,"error",r),ye(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),mt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Tr(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+Ps;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${Ps}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),di(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zr;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ft;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),ye(s)){const a={session:null,error:s};return di(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qa(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Pr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yn}ms, refresh threshold is ${js} ticks`),i<=js&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof eo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await pn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:a,error:o}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(ye(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ye(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}sr.nextInstanceID=0;const Wu=sr;class Ku extends Wu{constructor(e){super(e)}}var Ju=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(n,e||[])).next())})};class Yu{constructor(e,t,r){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=du(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:ru,realtime:su,auth:Object.assign(Object.assign({},iu),{storageKey:c}),global:nu},u=hu(r??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=cu(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new Sc(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Xl(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xc(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ju(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:c},l,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ku({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new Nc(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zu=(n,e,t)=>new Yu(n,e,t),Qu="https://irjkppabtcmhrxvtkkyy.supabase.co",Xu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlyamtwcGFidGNtaHJ4dnRra3l5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkwNzc3NDQsImV4cCI6MjA0NDY1Mzc0NH0.4N7zYNrOcArWQnJn97oZAQ3Jqh1e1UAlgzKsa8584RA",Je=Zu(Qu,Xu);var ed=Se("<title> </title>"),td=Se('<svg><!><path d="M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"></path></svg>');function zs(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=td();let l;var u=O(c);q(u,o,d=>{var f=ed(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var nd=z("<a></a>"),rd=z("<div></div>");function id(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["href","size"]);de(e,!1);let i=_(e,"href",8,void 0),s=_(e,"size",8,"default");fe();var a=ge(),o=Y(a);q(o,i,c=>{var l=nd();let u;l.textContent="",j(()=>{u=le(l,u,{href:i(),rel:r.target==="_blank"?"noopener noreferrer":void 0,role:"button",...r}),g(l,"bx--skeleton",!0),g(l,"bx--btn",!0),g(l,"bx--btn--field",s()==="field"),g(l,"bx--btn--sm",s()==="small"),g(l,"bx--btn--lg",s()==="lg"),g(l,"bx--btn--xl",s()==="xl")}),A("click",l,function(d){P.call(this,e,d)}),A("focus",l,function(d){P.call(this,e,d)}),A("blur",l,function(d){P.call(this,e,d)}),A("mouseover",l,function(d){P.call(this,e,d)}),A("mouseenter",l,function(d){P.call(this,e,d)}),A("mouseleave",l,function(d){P.call(this,e,d)}),b(c,l)},c=>{var l=rd();let u;j(()=>{u=le(l,u,{...r}),g(l,"bx--skeleton",!0),g(l,"bx--btn",!0),g(l,"bx--btn--field",s()==="field"),g(l,"bx--btn--sm",s()==="small"),g(l,"bx--btn--lg",s()==="lg"),g(l,"bx--btn--xl",s()==="xl")}),A("click",l,function(d){P.call(this,e,d)}),A("focus",l,function(d){P.call(this,e,d)}),A("blur",l,function(d){P.call(this,e,d)}),A("mouseover",l,function(d){P.call(this,e,d)}),A("mouseenter",l,function(d){P.call(this,e,d)}),A("mouseleave",l,function(d){P.call(this,e,d)}),b(c,l)}),b(n,a),he()}var sd=z("<span> </span>"),ad=z("<a><!> <!> <!></a>"),od=z("<span> </span>"),ld=z("<button><!> <!> <!></button>");function rt(n,e){const t=Un(e),r=B(e,["children","$$slots","$$events","$$legacy"]),i=B(r,["kind","size","expressive","isSelected","icon","iconDescription","tooltipAlignment","tooltipPosition","as","skeleton","disabled","href","tabindex","type","ref"]);de(e,!1);const s=D(),a=D(),o=D();let c=_(e,"kind",8,"primary"),l=_(e,"size",8,"default"),u=_(e,"expressive",8,!1),d=_(e,"isSelected",8,!1),f=_(e,"icon",8,void 0),v=_(e,"iconDescription",8,void 0),m=_(e,"tooltipAlignment",8,"center"),y=_(e,"tooltipPosition",8,"bottom"),k=_(e,"as",8,!1),p=_(e,"skeleton",8,!1),w=_(e,"disabled",8,!1),E=_(e,"href",8,void 0),x=_(e,"tabindex",8,"0"),$=_(e,"type",8,"button"),U=_(e,"ref",12,null);const M=Ot("ComposedModal");H(()=>T(U()),()=>{M&&U()&&M.declareRef(U())}),H(()=>T(f()),()=>{S(s,(f()||t.icon)&&!t.default)}),H(()=>T(v()),()=>{S(a,{"aria-hidden":"true",class:"bx--btn__icon","aria-label":v()})}),H(()=>(T(E()),T(w()),T($()),T(x()),h(s),T(c()),T(d()),T(i),T(u()),T(l()),T(y()),T(m())),()=>{S(o,{type:E()&&!w()?void 0:$(),tabindex:x(),disabled:w()===!0?!0:void 0,href:E(),"aria-pressed":h(s)&&c()==="ghost"&&!E()?d():void 0,...i,class:["bx--btn",u()&&"bx--btn--expressive",(l()==="small"&&!u()||l()==="sm"&&!u()||l()==="small"&&!u())&&"bx--btn--sm",l()==="field"&&!u()||l()==="md"&&!u()&&"bx--btn--md",l()==="field"&&"bx--btn--field",l()==="small"&&"bx--btn--sm",l()==="lg"&&"bx--btn--lg",l()==="xl"&&"bx--btn--xl",c()&&`bx--btn--${c()}`,w()&&"bx--btn--disabled",h(s)&&"bx--btn--icon-only",h(s)&&"bx--tooltip__trigger",h(s)&&"bx--tooltip--a11y",h(s)&&y()&&`bx--btn--icon-only--${y()}`,h(s)&&m()&&`bx--tooltip--align-${m()}`,h(s)&&d()&&c()==="ghost"&&"bx--btn--selected",i.class].filter(Boolean).join(" ")})}),me(),fe();var C=ge(),L=Y(C);q(L,p,N=>{var K=De(()=>h(s)&&"width: 3rem;");id(N,pt({get href(){return E()},get size(){return l()}},()=>i,{get style(){return h(K)},$$events:{click(V){P.call(this,e,V)},focus(V){P.call(this,e,V)},blur(V){P.call(this,e,V)},mouseover(V){P.call(this,e,V)},mouseenter(V){P.call(this,e,V)},mouseleave(V){P.call(this,e,V)}}}))},N=>{var K=ge(),V=Y(K);q(V,k,J=>{var R=ge(),W=Y(R);re(W,e,"default",{get props(){return h(o)}},null),b(J,R)},J=>{var R=ge(),W=Y(R);q(W,()=>E()&&!w(),F=>{var G=ad();let ve;var Z=O(G);q(Z,()=>h(s),ee=>{var X=sd();g(X,"bx--assistive-text",!0);var Te=O(X);j(()=>ie(Te,v())),b(ee,X)});var Q=I(Z,2);re(Q,e,"default",{},null);var Oe=I(Q,2);q(Oe,()=>t.icon,ee=>{var X=ge(),Te=Y(X);re(Te,e,"icon",pt({get style(){return h(s)?"margin-left: 0":void 0}},()=>h(a)),null),b(ee,X)},ee=>{var X=ge(),Te=Y(X);q(Te,f,Pe=>{var Ce=ge(),pe=Y(Ce),xe=De(()=>h(s)?"margin-left: 0":void 0);wt(pe,f,(Me,$e)=>{$e(Me,pt({get style(){return h(xe)}},()=>h(a)))}),b(Pe,Ce)},null,!0),b(ee,X)}),Be(G,ee=>U(ee),()=>U()),j(()=>ve=le(G,ve,{...h(o)})),A("click",G,function(ee){P.call(this,e,ee)}),A("focus",G,function(ee){P.call(this,e,ee)}),A("blur",G,function(ee){P.call(this,e,ee)}),A("mouseover",G,function(ee){P.call(this,e,ee)}),A("mouseenter",G,function(ee){P.call(this,e,ee)}),A("mouseleave",G,function(ee){P.call(this,e,ee)}),b(F,G)},F=>{var G=ld();let ve;var Z=O(G);q(Z,()=>h(s),ee=>{var X=od();g(X,"bx--assistive-text",!0);var Te=O(X);j(()=>ie(Te,v())),b(ee,X)});var Q=I(Z,2);re(Q,e,"default",{},null);var Oe=I(Q,2);q(Oe,()=>t.icon,ee=>{var X=ge(),Te=Y(X);re(Te,e,"icon",pt({get style(){return h(s)?"margin-left: 0":void 0}},()=>h(a)),null),b(ee,X)},ee=>{var X=ge(),Te=Y(X);q(Te,f,Pe=>{var Ce=ge(),pe=Y(Ce),xe=De(()=>h(s)?"margin-left: 0":void 0);wt(pe,f,(Me,$e)=>{$e(Me,pt({get style(){return h(xe)}},()=>h(a)))}),b(Pe,Ce)},null,!0),b(ee,X)}),Be(G,ee=>U(ee),()=>U()),j(()=>ve=le(G,ve,{...h(o)})),A("click",G,function(ee){P.call(this,e,ee)}),A("focus",G,function(ee){P.call(this,e,ee)}),A("blur",G,function(ee){P.call(this,e,ee)}),A("mouseover",G,function(ee){P.call(this,e,ee)}),A("mouseenter",G,function(ee){P.call(this,e,ee)}),A("mouseleave",G,function(ee){P.call(this,e,ee)}),b(F,G)},!0),b(J,R)},!0),b(N,K)}),b(n,C),he()}var cd=z("<div><input> <label></label></div>");function Ds(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["checked","indeterminate","title","id","ref"]);de(e,!1);let i=_(e,"checked",8,!1),s=_(e,"indeterminate",8,!1),a=_(e,"title",8,void 0),o=_(e,"id",24,()=>"ccs-"+Math.random().toString(36)),c=_(e,"ref",12,null);fe();var l=cd();g(l,"bx--checkbox--inline",!0);var u=O(l);let d;Be(u,v=>c(v),()=>c());var f=I(u,2);j(()=>{d=le(u,d,{type:"checkbox",checked:s()?!1:i(),indeterminate:s(),id:o(),...r,"aria-checked":s()?void 0:i()}),g(u,"bx--checkbox",!0),ce(f,"for",o()),ce(f,"title",a()),ce(f,"aria-label",t["aria-label"]),g(f,"bx--checkbox-label",!0)}),A("change",u,function(v){P.call(this,e,v)}),A("focus",u,function(v){P.call(this,e,v)}),A("blur",u,function(v){P.call(this,e,v)}),b(n,l),he()}var ud=Se("<title> </title>"),dd=Se('<svg><!><path d="M16,2C8.3,2,2,8.3,2,16s6.3,14,14,14s14-6.3,14-14C30,8.3,23.7,2,16,2z M14.9,8h2.2v11h-2.2V8z M16,25	c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22c0.8,0,1.5,0.7,1.5,1.5S16.8,25,16,25z"></path><path fill="none" d="M17.5,23.5c0,0.8-0.7,1.5-1.5,1.5c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22	C16.8,22,17.5,22.7,17.5,23.5z M17.1,8h-2.2v11h2.2V8z" data-icon-path="inner-path" opacity="0"></path></svg>');function Nr(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=dd();let l;var u=O(c);q(u,o,d=>{var f=ud(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var hd=Se("<title> </title>"),fd=Se('<svg><!><path fill="none" d="M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z" data-icon-path="inner-path"></path><path d="M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"></path><path d="M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"></path></svg>');function Zi(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=fd();let l;var u=O(c);q(u,o,d=>{var f=hd(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var vd=Se("<title> </title>"),_d=Se('<svg><!><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg>');function Ri(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=_d();let l;var u=O(c);q(u,o,d=>{var f=vd(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var gd=Se("<title> </title>"),bd=Se('<svg><!><path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path></svg>');function ln(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=bd();let l;var u=O(c);q(u,o,d=>{var f=gd(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}const Ii=new Set,to=Ve(0),Ms=()=>to.set([...Ii].filter(n=>Bl(n)).length),md=n=>jt(()=>{Ii.add(n);const e=n.subscribe(Ms);return()=>{e(),Ii.delete(n),Ms()}});to.subscribe(n=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",n>0)});var yd=z("<span><!></span>"),pd=z('<div><input type="radio"> <label><span></span> <!></label></div>');function wd(n,e){const t=Un(e),r=B(e,["children","$$slots","$$events","$$legacy"]),i=B(r,["value","checked","disabled","required","labelPosition","labelText","hideLabel","id","name","ref"]);de(e,!1);const s=Ct(),a=()=>He($,"$selectedValue",s),o=()=>He(U,"$groupName",s),c=()=>He(M,"$groupRequired",s);let l=_(e,"value",8,""),u=_(e,"checked",12,!1),d=_(e,"disabled",8,!1),f=_(e,"required",8,!1),v=_(e,"labelPosition",8,"right"),m=_(e,"labelText",8,""),y=_(e,"hideLabel",8,!1),k=_(e,"id",24,()=>"ccs-"+Math.random().toString(36)),p=_(e,"name",8,void 0),w=_(e,"ref",12,null);const{add:E,update:x,selectedValue:$,groupName:U,groupRequired:M}=Ot("RadioButtonGroup")??{groupName:Rr(void 0),groupRequired:Rr(void 0),selectedValue:Rr(u()?l():void 0)};E&&E({id:k(),checked:u(),disabled:d(),value:l()}),H(()=>(a(),T(l())),()=>{u(a()===l())}),me(),fe();var C=pd();let L;var N=O(C);Be(N,R=>w(R),()=>w());var K=I(N,2),V=O(K);g(V,"bx--radio-button__appearance",!0);var J=I(V,2);q(J,()=>m()||t.labelText,R=>{var W=yd(),F=O(W);re(F,e,"labelText",{},G=>{var ve=Ae();j(()=>ie(ve,m())),b(G,ve)}),j(()=>g(W,"bx--visually-hidden",y())),b(R,W)}),j(()=>{L=le(C,L,{...i}),g(C,"bx--radio-button-wrapper",!0),g(C,"bx--radio-button-wrapper--label-left",v()==="left"),ce(N,"id",k()),ce(N,"name",o()??p()),yl(N,u()),N.disabled=d(),N.required=c()??f(),ml(N,l()),g(N,"bx--radio-button",!0),ce(K,"for",k()),g(K,"bx--radio-button__label",!0)}),A("change",N,function(R){P.call(this,e,R)}),A("change",N,()=>{x&&x(l())}),b(n,C),he()}var xd=z("<section><table><!></table></section>"),kd=z("<table><!></table>");function Sd(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","zebra","useStaticWidth","sortable","stickyHeader","tableStyle"]);let i=_(e,"size",8,void 0),s=_(e,"zebra",8,!1),a=_(e,"useStaticWidth",8,!1),o=_(e,"sortable",8,!1),c=_(e,"stickyHeader",8,!1),l=_(e,"tableStyle",8,void 0);var u=ge(),d=Y(u);q(d,c,f=>{var v=xd();let m;var y=O(v),k=O(y);re(k,e,"default",{},null),j(()=>{m=le(v,m,{...r}),g(v,"bx--data-table_inner-container",!0),ce(y,"style",l()),g(y,"bx--data-table",!0),g(y,"bx--data-table--compact",i()==="compact"),g(y,"bx--data-table--short",i()==="short"),g(y,"bx--data-table--tall",i()==="tall"),g(y,"bx--data-table--md",i()==="medium"),g(y,"bx--data-table--sort",o()),g(y,"bx--data-table--zebra",s()),g(y,"bx--data-table--static",a()),g(y,"bx--data-table--sticky-header",c())}),b(f,v)},f=>{var v=kd();let m;var y=O(v);re(y,e,"default",{},null),j(()=>{m=le(v,m,{...r,style:l()}),g(v,"bx--data-table",!0),g(v,"bx--data-table--compact",i()==="compact"),g(v,"bx--data-table--short",i()==="short"),g(v,"bx--data-table--tall",i()==="tall"),g(v,"bx--data-table--md",i()==="medium"),g(v,"bx--data-table--sort",o()),g(v,"bx--data-table--zebra",s()),g(v,"bx--data-table--static",a()),g(v,"bx--data-table--sticky-header",c())}),b(f,v)}),b(n,u)}var Ed=z("<tbody><!></tbody>");function Td(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,[]);var i=Ed();let s;var a=O(i);re(a,e,"default",{},null),j(()=>s=le(i,s,{"aria-live":"polite",...r})),b(n,i)}var Pd=z("<td><!></td>");function hi(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,[]);var i=Pd();let s;var a=O(i);re(a,e,"default",{},null),j(()=>s=le(i,s,{...r})),A("click",i,function(o){P.call(this,e,o)}),A("mouseover",i,function(o){P.call(this,e,o)}),A("mouseenter",i,function(o){P.call(this,e,o)}),A("mouseleave",i,function(o){P.call(this,e,o)}),b(n,i)}var Ad=z("<div><h4> </h4> <p> </p></div>"),Od=z("<div><!> <!></div>");function Cd(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["title","description","stickyHeader","useStaticWidth"]);let i=_(e,"title",8,""),s=_(e,"description",8,""),a=_(e,"stickyHeader",8,!1),o=_(e,"useStaticWidth",8,!1);var c=Od();let l;var u=O(c);q(u,i,f=>{var v=Ad();g(v,"bx--data-table-header",!0);var m=O(v);g(m,"bx--data-table-header__title",!0);var y=O(m),k=I(m,2);g(k,"bx--data-table-header__description",!0);var p=O(k);j(()=>{ie(y,i()),ie(p,s())}),b(f,v)});var d=I(u,2);re(d,e,"default",{},null),j(()=>{l=le(c,l,{...r}),g(c,"bx--data-table-container",!0),g(c,"bx--data-table-container--static",o()),g(c,"bx--data-table--max-width",a())}),b(n,c)}var $d=z("<thead><!></thead>");function Rd(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,[]);var i=$d();let s;var a=O(i);re(a,e,"default",{},null),j(()=>s=le(i,s,{...r})),A("click",i,function(o){P.call(this,e,o)}),A("mouseover",i,function(o){P.call(this,e,o)}),A("mouseenter",i,function(o){P.call(this,e,o)}),A("mouseleave",i,function(o){P.call(this,e,o)}),b(n,i)}var Id=Se("<title> </title>"),jd=Se('<svg><!><path d="M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"></path></svg>');function Ld(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=jd();let l;var u=O(c);q(u,o,d=>{var f=Id(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var zd=Se("<title> </title>"),Dd=Se('<svg><!><path d="M27.6 20.6L24 24.2 24 4 22 4 22 24.2 18.4 20.6 17 22 23 28 29 22zM9 4L3 10 4.4 11.4 8 7.8 8 28 10 28 10 7.8 13.6 11.4 15 10z"></path></svg>');function Md(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=Dd();let l;var u=O(c);q(u,o,d=>{var f=zd(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var Nd=z('<th><button type="button"><div><!></div> <!> <!></button></th>'),Ud=z("<th><div><!></div></th>");function Bd(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["sortable","sortDirection","active","scope","translateWithId","id"]);de(e,!1);const i=D();let s=_(e,"sortable",8,!1),a=_(e,"sortDirection",8,"none"),o=_(e,"active",8,!1),c=_(e,"scope",8,"col"),l=_(e,"translateWithId",8,()=>""),u=_(e,"id",24,()=>"ccs-"+Math.random().toString(36));H(()=>T(l()),()=>{S(i,l()())}),me(),fe();var d=ge(),f=Y(d);q(f,s,v=>{var m=Nd();let y;var k=O(m);g(k,"bx--table-sort",!0);var p=O(k);g(p,"bx--table-header-label",!0);var w=O(p);re(w,e,"default",{},null);var E=I(p,2);Ld(E,{size:20,get"aria-label"(){return h(i)},class:"bx--table-sort__icon"});var x=I(E,2);Md(x,{size:20,get"aria-label"(){return h(i)},class:"bx--table-sort__icon-unsorted"}),j(()=>{y=le(m,y,{"aria-sort":o()?a():"none",scope:c(),"data-header":u(),...r}),g(k,"bx--table-sort--active",o()),g(k,"bx--table-sort--ascending",o()&&a()==="descending")}),A("click",k,function($){P.call(this,e,$)}),A("mouseover",m,function($){P.call(this,e,$)}),A("mouseenter",m,function($){P.call(this,e,$)}),A("mouseleave",m,function($){P.call(this,e,$)}),b(v,m)},v=>{var m=Ud();let y;var k=O(m);g(k,"bx--table-header-label",!0);var p=O(k);re(p,e,"default",{},null),j(()=>y=le(m,y,{scope:c(),"data-header":u(),...r})),A("click",m,function(w){P.call(this,e,w)}),A("mouseover",m,function(w){P.call(this,e,w)}),A("mouseenter",m,function(w){P.call(this,e,w)}),A("mouseleave",m,function(w){P.call(this,e,w)}),b(v,m)}),b(n,d),he()}var Fd=z("<tr><!></tr>");function Ns(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,[]);var i=Fd();let s;var a=O(i);re(a,e,"default",{},null),j(()=>s=le(i,s,{...r})),A("click",i,function(o){P.call(this,e,o)}),A("mouseover",i,function(o){P.call(this,e,o)}),A("mouseenter",i,function(o){P.call(this,e,o)}),A("mouseleave",i,function(o){P.call(this,e,o)}),b(n,i)}var qd=z("<h4><!></h4>"),Hd=z("<p><!></p>"),Vd=z("<div><!> <!></div>"),Gd=z('<button type="button"><!></button>'),Wd=z('<th scope="col"><!></th>'),Kd=z('<th scope="col"></th>'),Jd=z('<th scope="col"><!></th>'),Yd=z('<th scope="col"></th>'),Zd=z("<!> <!> <!> <!>",1),Qd=z('<button type="button"><!></button>'),Xd=z("<td><!></td>"),eh=z("<td><!></td>"),th=z("<!> <!> <!>",1),nh=z("<div><!></div>"),rh=z('<tr data-child-row=""><!></tr>'),ih=z("<!> <!>",1),sh=z("<!> <!>",1),ah=z("<!> <!> <!>",1);function no(n,e){const t=Un(e),r=B(e,["children","$$slots","$$events","$$legacy"]),i=B(r,["headers","rows","size","title","description","zebra","sortable","sortKey","sortDirection","expandable","batchExpansion","expandedRowIds","nonExpandableRowIds","radio","selectable","batchSelection","selectedRowIds","nonSelectableRowIds","stickyHeader","useStaticWidth","pageSize","page"]);de(e,!1);const s=Ct(),a=()=>He(oe,"$tableRows",s),o=D(),c=D(),l=D(),u=D(),d=D(),f=D(),v=D(),m=D(),y=D(),k=D(),p=D(),w=D(),E=D(),x=D(),$=D(),U=D();let M=_(e,"headers",24,()=>[]),C=_(e,"rows",24,()=>[]),L=_(e,"size",8,void 0),N=_(e,"title",8,""),K=_(e,"description",8,""),V=_(e,"zebra",8,!1),J=_(e,"sortable",8,!1),R=_(e,"sortKey",12,null),W=_(e,"sortDirection",12,"none"),F=_(e,"expandable",12,!1),G=_(e,"batchExpansion",8,!1),ve=_(e,"expandedRowIds",28,()=>[]),Z=_(e,"nonExpandableRowIds",24,()=>[]),Q=_(e,"radio",8,!1),Oe=_(e,"selectable",12,!1),ee=_(e,"batchSelection",8,!1),X=_(e,"selectedRowIds",28,()=>[]),Te=_(e,"nonSelectableRowIds",24,()=>[]),Pe=_(e,"stickyHeader",8,!1),Ce=_(e,"useStaticWidth",8,!1),pe=_(e,"pageSize",8,0),xe=_(e,"page",8,0);const Me={none:"ascending",ascending:"descending",descending:"none"},$e=hn(),ae=Ve(!1),oe=Ve(C()),te=(_e,Re)=>Re in _e?_e[Re]:Re.split(/[\.\[\]\'\"]/).filter(Ie=>Ie).reduce((Ie,Fe)=>Ie&&typeof Ie=="object"?Ie[Fe]:Ie,_e);an("DataTable",{batchSelectedIds:ae,tableRows:oe,resetSelectedRowIds:()=>{S(f,!1),X([]),h(ue)&&Ys(ue,h(ue).checked=!1)}});let ne=D(!1),se=D(null),ue=D(null);const Ge=(_e,Re,Ie)=>Re&&Ie?_e.slice((Re-1)*Ie,Re*Ie):_e,St=_e=>{const Re=[_e.width&&`width: ${_e.width}`,_e.minWidth&&`min-width: ${_e.minWidth}`].filter(Boolean);if(Re.length!==0)return Re.join(";")};H(()=>T(M()),()=>{S(o,M().reduce((_e,Re)=>({..._e,[Re.key]:Re.key}),{}))}),H(()=>T(ve()),()=>{S(c,ve().reduce((_e,Re)=>({..._e,[Re]:!0}),{}))}),H(()=>T(X()),()=>{ae.set(X())}),H(()=>T(C()),()=>{Oa(oe,C())}),H(()=>a(),()=>{S(l,a().map(_e=>_e.id))}),H(()=>(h(l),T(Z())),()=>{S(u,h(l).filter(_e=>!Z().includes(_e)))}),H(()=>(h(l),T(Te())),()=>{S(d,h(l).filter(_e=>!Te().includes(_e)))}),H(()=>(h(d),T(X())),()=>{S(f,h(d).length>0&&X().length===h(d).length)}),H(()=>(T(X()),h(d)),()=>{S(v,X().length>0&&X().length<h(d).length)}),H(()=>(T(G()),T(ve()),h(u)),()=>{G()&&(F(!0),S(ne,ve().length===h(u).length))}),H(()=>(T(Q()),T(ee())),()=>{(Q()||ee())&&Oe(!0)}),H(()=>T(M()),()=>{S(m,M().map(({key:_e})=>_e))}),H(()=>(T(C()),h(m),T(M())),()=>{S(y,C().reduce((_e,Re)=>(_e[Re.id]=h(m).map((Ie,Fe)=>({key:Ie,value:te(Re,Ie),display:M()[Fe].display})),_e),{}))}),H(()=>a(),()=>{S(k,[...a()])}),H(()=>T(W()),()=>{S(p,W()==="ascending")}),H(()=>(T(J()),T(R())),()=>{S(w,J()&&R()!=null)}),H(()=>(T(M()),T(R())),()=>{S(E,M().find(_e=>_e.key===R()))}),H(()=>(h(w),T(W()),a(),h(p),T(R()),h(E)),()=>{h(w)&&(W()==="none"?S(k,a()):S(k,[...a()].sort((_e,Re)=>{var Lt;const Ie=h(p)?te(_e,R()):te(Re,R()),Fe=h(p)?te(Re,R()):te(_e,R());return(Lt=h(E))!=null&&Lt.sort?h(E).sort(Ie,Fe):typeof Ie=="number"&&typeof Fe=="number"?Ie-Fe:[Ie,Fe].every(zt=>!zt&&zt!==0)?0:!Ie&&Ie!==0?h(p)?1:-1:!Fe&&Fe!==0?h(p)?-1:1:Ie.toString().localeCompare(Fe.toString(),"en",{numeric:!0})})))}),H(()=>(a(),T(xe()),T(pe())),()=>{S(x,Ge(a(),xe(),pe()))}),H(()=>(h(k),T(xe()),T(pe())),()=>{S($,Ge(h(k),xe(),pe()))}),H(()=>T(M()),()=>{S(U,M().some(_e=>_e.width||_e.minWidth))}),me(),fe(),Cd(n,pt({get useStaticWidth(){return Ce()}},()=>i,{children:(_e,Re)=>{var Ie=ah(),Fe=Y(Ie);q(Fe,()=>N()||t.title||K()||t.description,Xr=>{var yr=Vd();g(yr,"bx--data-table-header",!0);var qn=O(yr);q(qn,()=>N()||t.title,Hn=>{var vt=qd();g(vt,"bx--data-table-header__title",!0);var Vn=O(vt);re(Vn,e,"title",{},Dt=>{var Mt=Ae();j(()=>ie(Mt,N())),b(Dt,Mt)}),b(Hn,vt)});var pr=I(qn,2);q(pr,()=>K()||t.description,Hn=>{var vt=Hd();g(vt,"bx--data-table-header__description",!0);var Vn=O(vt);re(Vn,e,"description",{},Dt=>{var Mt=Ae();j(()=>ie(Mt,K())),b(Dt,Mt)}),b(Hn,vt)}),b(Xr,yr)});var Lt=I(Fe,2);re(Lt,e,"default",{},null);var zt=I(Lt,2),mr=De(()=>h(U)&&"table-layout: fixed");Sd(zt,{get zebra(){return V()},get size(){return L()},get stickyHeader(){return Pe()},get sortable(){return J()},get useStaticWidth(){return Ce()},get tableStyle(){return h(mr)},children:(Xr,yr)=>{var qn=sh(),pr=Y(qn);Rd(pr,{children:(vt,Vn)=>{Ns(vt,{children:(Dt,Mt)=>{var _n=Zd(),be=Y(_n);q(be,F,_t=>{var je=Wd(),Nt=O(je);q(Nt,G,Ze=>{var We=Gd();g(We,"bx--table-expand__button",!0);var gt=O(We);zs(gt,{class:"bx--table-expand__svg"}),A("click",We,()=>{S(ne,!h(ne)),ve(h(ne)?h(u):[]),$e("click:header--expand",{expanded:h(ne)})}),b(Ze,We)}),j(()=>{ce(je,"data-previous-value",h(ne)?"collapsed":void 0),g(je,"bx--table-expand",!0)}),b(_t,je)});var Gn=I(be,2);q(Gn,()=>Oe()&&!ee(),_t=>{var je=Kd();b(_t,je)});var Wn=I(Gn,2);q(Wn,()=>ee()&&!Q(),_t=>{var je=Jd();g(je,"bx--table-column-checkbox",!0);var Nt=O(je);Ds(Nt,{get ref(){return h(ue)},set ref(Ze){S(ue,Ze)},"aria-label":"Select all rows",get checked(){return h(f)},get indeterminate(){return h(v)},$$events:{change:Ze=>{if($e("click:header--select",{indeterminate:h(v),selected:!h(v)&&Ze.target.checked}),h(v)){Ze.target.checked=!1,S(f,!1),X([]);return}Ze.target.checked?X(h(d)):X([])}},$$legacy:!0}),b(_t,je)});var wr=I(Wn,2);$r(wr,1,M,_t=>_t.key,(_t,je)=>{var Nt=ge(),Ze=Y(Nt);q(Ze,()=>h(je).empty,We=>{var gt=Yd();const Ut=De(()=>St(h(je)));j(()=>ce(gt,"style",h(Ut))),b(We,gt)},We=>{var gt=De(()=>St(h(je))),Ut=De(()=>J()&&h(je).sort!==!1),gn=De(()=>R()===h(je).key?W():"none"),Kn=De(()=>R()===h(je).key);Bd(We,{get id(){return h(je).key},get style(){return h(gt)},get sortable(){return h(Ut)},get sortDirection(){return h(gn)},get active(){return h(Kn)},$$events:{click:()=>{if($e("click",{header:h(je)}),h(je).sort===!1)$e("click:header",{header:h(je)});else{let ct=R()===h(je).key?W():"none";W(Me[ct]),R(W()==="none"?null:h(o)[h(je).key]),$e("click:header",{header:h(je),sortDirection:W()})}}},children:(ct,Ne)=>{var st=ge(),Qt=Y(st);re(Qt,e,"cell-header",{get header(){return h(je)}},$t=>{var Et=Ae();j(()=>ie(Et,h(je).value)),b($t,Et)}),b(ct,st)},$$slots:{default:!0}})}),b(_t,Nt)}),b(Dt,_n)},$$slots:{default:!0}})},$$slots:{default:!0}});var Hn=I(pr,2);Td(Hn,{children:(vt,Vn)=>{var Dt=ge(),Mt=Y(Dt);$r(Mt,3,()=>h(w)?h($):h(x),_n=>_n.id,(_n,be,Gn)=>{var Wn=ih(),wr=Y(Wn),_t=De(()=>F()?!0:void 0),je=De(()=>`${(X().includes(h(be).id)?"bx--data-table--selected":"")??""} ${(h(c)[h(be).id]?"bx--expandable-row":"")??""} ${(F()?"bx--parent-row":"")??""} ${(F()&&h(se)===h(be).id?"bx--expandable-row--hover":"")??""}`);Ns(wr,{get"data-row"(){return h(be).id},get"data-parent-row"(){return h(_t)},get class(){return h(je)},$$events:{click:({target:Ze})=>{[...Ze.classList].some(We=>/^bx--(overflow-menu|checkbox|radio-button)/.test(We))||($e("click",{row:h(be)}),$e("click:row",h(be)))},mouseenter:()=>{$e("mouseenter:row",h(be))},mouseleave:()=>{$e("mouseleave:row",h(be))}},children:(Ze,We)=>{var gt=th(),Ut=Y(gt);q(Ut,F,ct=>{var Ne=De(()=>!Z().includes(h(be).id)&&h(c)[h(be).id]?"collapsed":void 0);hi(ct,{class:"bx--table-expand",headers:"expand",get"data-previous-value"(){return h(Ne)},children:(st,Qt)=>{var $t=ge(),Et=Y($t);q(Et,()=>!Z().includes(h(be).id),bt=>{var ut=Qd(),Bt=O(ut);zs(Bt,{class:"bx--table-expand__svg"}),j(()=>{ce(ut,"aria-label",h(c)[h(be).id]?"Collapse current row":"Expand current row"),g(ut,"bx--table-expand__button",!0)}),A("click",ut,wi(()=>{const Xt=!!h(c)[h(be).id];ve(Xt?ve().filter(ei=>ei!==h(be).id):[...ve(),h(be).id]),$e("click:row--expand",{row:h(be),expanded:!Xt})})),b(bt,ut)}),b(st,$t)},$$slots:{default:!0}})});var gn=I(Ut,2);q(gn,Oe,ct=>{var Ne=Xd();g(Ne,"bx--table-column-checkbox",!0);var st=O(Ne);q(st,()=>!Te().includes(h(be).id),Qt=>{var $t=ge(),Et=Y($t);q(Et,Q,bt=>{var ut=De(()=>X().includes(h(be).id));wd(bt,{get name(){return`select-row-${h(be).id??""}`},get checked(){return h(ut)},$$events:{change:()=>{X([h(be).id]),$e("click:row--select",{row:h(be),selected:!0})}}})},bt=>{var ut=De(()=>X().includes(h(be).id));Ds(bt,{get name(){return`select-row-${h(be).id??""}`},get checked(){return h(ut)},$$events:{change:()=>{X().includes(h(be).id)?(X(X().filter(Bt=>Bt!==h(be).id)),$e("click:row--select",{row:h(be),selected:!1})):(X([...X(),h(be).id]),$e("click:row--select",{row:h(be),selected:!0}))}}})}),b(Qt,$t)}),j(()=>g(Ne,"bx--table-column-radio",Q())),b(ct,Ne)});var Kn=I(gn,2);$r(Kn,3,()=>h(y)[h(be).id],ct=>ct.key,(ct,Ne,st)=>{var Qt=ge(),$t=Y(Qt);q($t,()=>M()[h(st)].empty,Et=>{var bt=eh(),ut=O(bt);re(ut,e,"cell",{get row(){return h(be)},get cell(){return h(Ne)},get rowIndex(){return h(Gn)},get cellIndex(){return h(st)}},Bt=>{var Xt=Ae();j(()=>ie(Xt,h(Ne).display?h(Ne).display(h(Ne).value,h(be)):h(Ne).value)),b(Bt,Xt)}),j(()=>g(bt,"bx--table-column-menu",M()[h(st)].columnMenu)),b(Et,bt)},Et=>{hi(Et,{$$events:{click:()=>{$e("click",{row:h(be),cell:h(Ne)}),$e("click:cell",h(Ne))}},children:(bt,ut)=>{var Bt=ge(),Xt=Y(Bt);re(Xt,e,"cell",{get row(){return h(be)},get cell(){return h(Ne)},get rowIndex(){return h(Gn)},get cellIndex(){return h(st)}},ei=>{var Xi=Ae();j(()=>ie(Xi,h(Ne).display?h(Ne).display(h(Ne).value,h(be)):h(Ne).value)),b(ei,Xi)}),b(bt,Bt)},$$slots:{default:!0}})}),b(ct,Qt)}),b(Ze,gt)},$$slots:{default:!0}});var Nt=I(wr,2);q(Nt,F,Ze=>{var We=rh();g(We,"bx--expandable-row",!0);var gt=O(We);q(gt,()=>h(c)[h(be).id]&&!Z().includes(h(be).id),Ut=>{var gn=De(()=>Oe()?M().length+2:M().length+1);hi(Ut,{get colspan(){return h(gn)},children:(Kn,ct)=>{var Ne=nh();g(Ne,"bx--child-row-inner-container",!0);var st=O(Ne);re(st,e,"expanded-row",{get row(){return h(be)}},null),b(Kn,Ne)},$$slots:{default:!0}})}),A("mouseenter",We,()=>{Z().includes(h(be).id)||S(se,h(be).id)}),A("mouseleave",We,()=>{Z().includes(h(be).id)||S(se,null)}),b(Ze,We)}),b(_n,Wn)}),b(vt,Dt)},$$slots:{default:!0}}),b(Xr,qn)},$$slots:{default:!0}}),b(_e,Ie)},$$slots:{default:!0}})),he()}var oh=z("<section><!></section>");function lh(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size"]);de(e,!1);let i=_(e,"size",8,"default"),s=D(null);const a=Ve(!1);an("Toolbar",{overflowVisible:a,setOverflowVisible:u=>{a.set(u),h(s)&&Ys(s,h(s).style.overflow=u?"visible":"inherit")}}),fe();var o=oh();let c;var l=O(o);re(l,e,"default",{},null),Be(o,u=>S(s,u),()=>h(s)),j(()=>{c=le(o,c,{"aria-label":"data table toolbar",...r}),g(o,"bx--table-toolbar",!0),g(o,"bx--table-toolbar--small",i()==="sm"),g(o,"bx--table-toolbar--normal",i()==="default"),Hi(o,"z-index",1)}),b(n,o),he()}var ch=z("<div><!></div>");function uh(n,e){var t=ch();g(t,"bx--toolbar-content",!0);var r=O(t);re(r,e,"default",{},null),b(n,t)}var dh=Se("<title> </title>"),hh=Se('<svg><!><path d="M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"></path></svg>');function fh(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=hh();let l;var u=O(c);q(u,o,d=>{var f=dh(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var vh=z("<div><span></span> <div></div></div>");function _h(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size"]);let i=_(e,"size",8,"xl");var s=vh();let a;var o=O(s);g(o,"bx--label",!0);var c=I(o,2);g(c,"bx--search-input",!0),j(()=>{a=le(s,a,{...r}),g(s,"bx--skeleton",!0),g(s,"bx--search--sm",i()==="sm"),g(s,"bx--search--lg",i()==="lg"),g(s,"bx--search--xl",i()==="xl")}),A("click",s,function(l){P.call(this,e,l)}),A("mouseover",s,function(l){P.call(this,e,l)}),A("mouseenter",s,function(l){P.call(this,e,l)}),A("mouseleave",s,function(l){P.call(this,e,l)}),b(n,s)}var gh=z('<div role="search"><div><!></div> <label><!></label> <input> <button type="button"><!></button></div>');function bh(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["value","size","searchClass","skeleton","light","disabled","expandable","expanded","placeholder","autocomplete","autofocus","closeButtonLabelText","labelText","icon","id","ref"]);de(e,!1);let i=_(e,"value",12,""),s=_(e,"size",8,"xl"),a=_(e,"searchClass",8,""),o=_(e,"skeleton",8,!1),c=_(e,"light",8,!1),l=_(e,"disabled",8,!1),u=_(e,"expandable",8,!1),d=_(e,"expanded",12,!1),f=_(e,"placeholder",8,"Search..."),v=_(e,"autocomplete",8,"off"),m=_(e,"autofocus",8,!1),y=_(e,"closeButtonLabelText",8,"Clear search input"),k=_(e,"labelText",8,""),p=_(e,"icon",8,fh),w=_(e,"id",24,()=>"ccs-"+Math.random().toString(36)),E=_(e,"ref",12,null);const x=hn();let $=D(null);H(()=>(T(d()),T(E())),()=>{d()&&E()&&E().focus()}),H(()=>T(d()),()=>{x(d()?"expand":"collapse")}),me(),fe();var U=ge(),M=Y(U);q(M,o,C=>{_h(C,pt({get size(){return s()}},()=>r,{$$events:{click(L){P.call(this,e,L)},mouseover(L){P.call(this,e,L)},mouseenter(L){P.call(this,e,L)},mouseleave(L){P.call(this,e,L)}}}))},C=>{var L=gh(),N=O(L);g(N,"bx--search-magnifier",!0);var K=O(N);wt(K,p,(Z,Q)=>{Q(Z,{class:"bx--search-magnifier-icon"})}),Be(N,Z=>S($,Z),()=>h($));var V=I(N,2),J=O(V);re(J,e,"labelText",{},Z=>{var Q=Ae();j(()=>ie(Q,k())),b(Z,Q)});var R=I(V,2);let W;Be(R,Z=>E(Z),()=>E());var F=I(R,2),G=O(F),ve=De(()=>s()==="xl"?20:16);wt(G,()=>ln,(Z,Q)=>{Q(Z,{get size(){return h(ve)}})}),j(()=>{ce(L,"aria-labelledby",`${w()??""}-search`),ka(L,a()),g(L,"bx--search",!0),g(L,"bx--search--light",c()),g(L,"bx--search--disabled",l()),g(L,"bx--search--sm",s()==="sm"),g(L,"bx--search--lg",s()==="lg"),g(L,"bx--search--xl",s()==="xl"),g(L,"bx--search--expandable",u()),g(L,"bx--search--expanded",d()),ce(V,"id",`${w()??""}-search`),ce(V,"for",w()),g(V,"bx--label",!0),W=le(R,W,{type:"text",role:"searchbox",autofocus:m()===!0?!0:void 0,autocomplete:v(),disabled:l(),id:w(),placeholder:f(),...r}),g(R,"bx--search-input",!0),ce(F,"aria-label",y()),F.disabled=l(),g(F,"bx--search-close",!0),g(F,"bx--search-close--hidden",i()===""||i()==null)}),A("click",N,()=>{u()&&d(!0)}),Ea(R,i),A("change",R,function(Z){P.call(this,e,Z)}),A("input",R,function(Z){P.call(this,e,Z)}),A("focus",R,function(Z){P.call(this,e,Z)}),A("focus",R,()=>{u()&&d(!0)}),A("blur",R,function(Z){P.call(this,e,Z)}),A("blur",R,()=>{d()&&(i()===""||i()==null)&&d(!1)}),A("keydown",R,function(Z){P.call(this,e,Z)}),A("keydown",R,({key:Z})=>{Z==="Escape"&&(i(""),x("clear"))}),A("keyup",R,function(Z){P.call(this,e,Z)}),A("paste",R,function(Z){P.call(this,e,Z)}),A("click",F,function(Z){P.call(this,e,Z)}),A("click",F,()=>{i(""),E().focus(),x("clear")}),b(C,L)}),b(n,U),he()}function mh(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["value","expanded","persistent","disabled","shouldFilterRows","filteredRowIds","tabindex","ref"]);de(e,!1);const i=Ct(),s=()=>He(k,"$tableRows",i),a=D(),o=D();let c=_(e,"value",12,""),l=_(e,"expanded",12,!1),u=_(e,"persistent",8,!1),d=_(e,"disabled",8,!1),f=_(e,"shouldFilterRows",8,!1),v=_(e,"filteredRowIds",28,()=>[]),m=_(e,"tabindex",8,"0"),y=_(e,"ref",12,null);const{tableRows:k}=Ot("DataTable")??{};async function p(){await rs(),!(d()||u()||l())&&(l(!0),await rs(),y().focus())}H(()=>s(),()=>{S(a,k?[...s()]:[])}),H(()=>(T(f()),h(a),T(c())),()=>{if(f()){let w=h(a);c().trim().length>0&&(f()===!0?w=w.filter(E=>Object.entries(E).filter(([x])=>x!=="id").some(([x,$])=>{if(typeof $=="string"||typeof $=="number")return($+"").toLowerCase().includes(c().trim().toLowerCase())})):typeof f()=="function"&&(w=w.filter(E=>f()(E,c())??!1))),k.set(w),v(w.map(E=>E.id))}}),H(()=>T(c()),()=>{l(!!c().length)}),H(()=>(T(l()),T(u()),T(d())),()=>{S(o,[l()&&"bx--toolbar-search-container-active",u()?"bx--toolbar-search-container-persistent":"bx--toolbar-search-container-expandable",d()&&"bx--toolbar-search-container-disabled"].filter(Boolean).join(" "))}),me(),fe(),bh(n,pt({get tabindex(){return m()},get disabled(){return d()}},()=>r,{get searchClass(){return`${h(o)??""} ${r.class??""}`},get ref(){return y()},set ref(w){y(w)},get value(){return c()},set value(w){c(w)},$$events:{clear:[function(w){P.call(this,e,w)},p],change(w){P.call(this,e,w)},input(w){P.call(this,e,w)},focus:[function(w){P.call(this,e,w)},p],blur:[function(w){P.call(this,e,w)},()=>{l(!u()&&!!c().length)}],keyup(w){P.call(this,e,w)},keydown(w){P.call(this,e,w)},paste(w){P.call(this,e,w)}},$$legacy:!0})),he()}var yh=Se("<title> </title>"),ph=Se('<svg><!><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2ZM14,21.5908l-5-5L10.5906,15,14,18.4092,21.41,11l1.5957,1.5859Z"></path><path fill="none" d="M14 21.591L9 16.591 10.591 15 14 18.409 21.41 11 23.005 12.585 14 21.591z" data-icon-path="inner-path"></path></svg>');function wh(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=ph();let l;var u=O(c);q(u,o,d=>{var f=yh(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var xh=z("<form><!></form>");function Qr(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["ref"]);let i=_(e,"ref",12,null);var s=xh();let a;var o=O(s);re(o,e,"default",{},null),Be(s,c=>i(c),()=>i()),j(()=>{a=le(s,a,{...r}),g(s,"bx--form",!0)}),A("click",s,function(c){P.call(this,e,c)}),A("keydown",s,function(c){P.call(this,e,c)}),A("mouseover",s,function(c){P.call(this,e,c)}),A("mouseenter",s,function(c){P.call(this,e,c)}),A("mouseleave",s,function(c){P.call(this,e,c)}),A("submit",s,function(c){P.call(this,e,c)}),b(n,s)}var kh=z("<div><!></div>");function ar(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["as","condensed","narrow","fullWidth","noGutter","noGutterLeft","noGutterRight","padding"]);de(e,!1);const i=D();let s=_(e,"as",8,!1),a=_(e,"condensed",8,!1),o=_(e,"narrow",8,!1),c=_(e,"fullWidth",8,!1),l=_(e,"noGutter",8,!1),u=_(e,"noGutterLeft",8,!1),d=_(e,"noGutterRight",8,!1),f=_(e,"padding",8,!1);H(()=>(T(r),T(a()),T(o()),T(c()),T(l()),T(u()),T(d()),T(f())),()=>{S(i,{...r,class:[r.class,"bx--grid",a()&&"bx--grid--condensed",o()&&"bx--grid--narrow",c()&&"bx--grid--full-width",l()&&"bx--no-gutter",u()&&"bx--no-gutter--left",d()&&"bx--no-gutter--right",f()&&"bx--row-padding"].filter(Boolean).join(" ")})}),me(),fe();var v=ge(),m=Y(v);q(m,s,y=>{var k=ge(),p=Y(k);re(p,e,"default",{get props(){return h(i)}},null),b(y,k)},y=>{var k=kh();let p;var w=O(k);re(w,e,"default",{},null),j(()=>p=le(k,p,{...h(i)})),b(y,k)}),b(n,v),he()}var Sh=z("<div><!></div>");function $n(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["as","condensed","narrow","noGutter","noGutterLeft","noGutterRight","padding"]);de(e,!1);const i=D();let s=_(e,"as",8,!1),a=_(e,"condensed",8,!1),o=_(e,"narrow",8,!1),c=_(e,"noGutter",8,!1),l=_(e,"noGutterLeft",8,!1),u=_(e,"noGutterRight",8,!1),d=_(e,"padding",8,!1);H(()=>(T(r),T(a()),T(o()),T(c()),T(l()),T(u()),T(d())),()=>{S(i,{...r,class:[r.class,"bx--row",a()&&"bx--row--condensed",o()&&"bx--row--narrow",c()&&"bx--no-gutter",l()&&"bx--no-gutter--left",u()&&"bx--no-gutter--right",d()&&"bx--row-padding"].filter(Boolean).join(" ")})}),me(),fe();var f=ge(),v=Y(f);q(v,s,m=>{var y=ge(),k=Y(y);re(k,e,"default",{get props(){return h(i)}},null),b(m,y)},m=>{var y=Sh();let k;var p=O(y);re(p,e,"default",{},null),j(()=>k=le(y,k,{...h(i)})),b(m,y)}),b(n,f),he()}var Eh=z("<div><!></div>");function dt(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["as","noGutter","noGutterLeft","noGutterRight","padding","aspectRatio","sm","md","lg","xlg","max"]);de(e,!1);const i=D(),s=D();let a=_(e,"as",8,!1),o=_(e,"noGutter",8,!1),c=_(e,"noGutterLeft",8,!1),l=_(e,"noGutterRight",8,!1),u=_(e,"padding",8,!1),d=_(e,"aspectRatio",8,void 0),f=_(e,"sm",8,void 0),v=_(e,"md",8,void 0),m=_(e,"lg",8,void 0),y=_(e,"xlg",8,void 0),k=_(e,"max",8,void 0);const p=["sm","md","lg","xlg","max"];H(()=>(T(f()),T(v()),T(m()),T(y()),T(k())),()=>{S(i,[f(),v(),m(),y(),k()].map((x,$)=>{const U=p[$];if(x===!0)return`bx--col-${U}`;if(typeof x=="number")return`bx--col-${U}-${x}`;if(typeof x=="object"){let M=[];return typeof x.span=="number"?M=[...M,`bx--col-${U}-${x.span}`]:x.span===!0&&(M=[...M,`bx--col-${U}`]),typeof x.offset=="number"&&(M=[...M,`bx--offset-${U}-${x.offset}`]),M.join(" ")}}).filter(Boolean).join(" "))}),H(()=>(T(r),h(i),T(o()),T(c()),T(l()),T(d()),T(u())),()=>{S(s,{...r,class:[r.class,h(i),!h(i)&&"bx--col",o()&&"bx--no-gutter",c()&&"bx--no-gutter--left",l()&&"bx--no-gutter--right",d()&&`bx--aspect-ratio bx--aspect-ratio--${d()}`,u()&&"bx--col-padding"].filter(Boolean).join(" ")})}),me(),fe();var w=ge(),E=Y(w);q(E,a,x=>{var $=ge(),U=Y($);re(U,e,"default",{get props(){return h(s)}},null),b(x,$)},x=>{var $=Eh();let U;var M=O($);re(M,e,"default",{},null),j(()=>U=le($,U,{...h(s)})),b(x,$)}),b(n,w),he()}var Th=Se("<title> </title>"),Ph=Se('<svg><!><path fill="none" d="M14.9 7.2H17.1V24.799H14.9z" data-icon-path="inner-path" transform="rotate(-45 16 16)"></path><path d="M16,2A13.914,13.914,0,0,0,2,16,13.914,13.914,0,0,0,16,30,13.914,13.914,0,0,0,30,16,13.914,13.914,0,0,0,16,2Zm5.4449,21L9,10.5557,10.5557,9,23,21.4448Z"></path></svg>');function Ah(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=Ph();let l;var u=O(c);q(u,o,d=>{var f=Th(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var Oh=z('<button type="button"><!></button>'),Ch=z("<h2><!></h2>"),$h=z('<button type="button"><!></button>'),Rh=z("<div></div>"),Ih=z("<div><!> <!></div>"),jh=z('<div><div tabindex="-1" aria-modal="true"><div><!> <!> <h3><!></h3> <!></div> <div><!></div> <!> <!></div></div>');function Qi(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"]);de(e,!1),Ct();const i=D(),s=D(),a=D(),o=D();let c=_(e,"size",8,void 0),l=_(e,"open",12,!1),u=_(e,"danger",8,!1),d=_(e,"alert",8,!1),f=_(e,"passiveModal",8,!1),v=_(e,"modalHeading",8,void 0),m=_(e,"modalLabel",8,void 0),y=_(e,"modalAriaLabel",8,void 0),k=_(e,"iconDescription",8,"Close the modal"),p=_(e,"hasForm",8,!1),w=_(e,"hasScrollingContent",8,!1),E=_(e,"primaryButtonText",8,""),x=_(e,"primaryButtonDisabled",8,!1),$=_(e,"primaryButtonIcon",8,void 0),U=_(e,"shouldSubmitOnEnter",8,!0),M=_(e,"secondaryButtonText",8,""),C=_(e,"secondaryButtons",24,()=>[]),L=_(e,"selectorPrimaryFocus",8,"[data-modal-primary-focus]"),N=_(e,"preventCloseOnClickOutside",8,!1),K=_(e,"id",24,()=>"ccs-"+Math.random().toString(36)),V=_(e,"ref",12,null);const J=hn();let R=D(null),W=D(null),F=!1,G=D(!1);function ve(te){(h(W).querySelector(L())||h(R)).focus()}const Z=Ve(l());md(Z),Pa(()=>{F?l()||(F=!1,J("close")):l()&&(F=!0,ve(),J("open"))}),H(()=>T(l()),()=>{Oa(Z,l())}),H(()=>T(K()),()=>{S(i,`bx--modal-header__label--modal-${K()}`)}),H(()=>T(K()),()=>{S(s,`bx--modal-header__heading--modal-${K()}`)}),H(()=>T(K()),()=>{S(a,`bx--modal-body--${K()}`)}),H(()=>(T(m()),T(t),T(y()),T(v())),()=>{S(o,m()||t["aria-label"]||y()||v())}),me(),fe();var Q=jh();let Oe;var ee=O(Q),X=O(ee);g(X,"bx--modal-header",!0);var Te=O(X);q(Te,f,te=>{var ne=Oh(),se=O(ne);ln(se,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),Be(ne,ue=>S(R,ue),()=>h(R)),j(()=>{ce(ne,"aria-label",k()),g(ne,"bx--modal-close",!0)}),A("click",ne,()=>{l(!1)}),b(te,ne)});var Pe=I(Te,2);q(Pe,m,te=>{var ne=Ch(),se=O(ne);re(se,e,"label",{},ue=>{var Ge=Ae();j(()=>ie(Ge,m())),b(ue,Ge)}),j(()=>{ce(ne,"id",h(i)),g(ne,"bx--modal-header__label",!0)}),b(te,ne)});var Ce=I(Pe,2),pe=O(Ce);re(pe,e,"heading",{},te=>{var ne=Ae();j(()=>ie(ne,v())),b(te,ne)});var xe=I(Ce,2);q(xe,()=>!f(),te=>{var ne=$h(),se=O(ne);ln(se,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),Be(ne,ue=>S(R,ue),()=>h(R)),j(()=>{ce(ne,"aria-label",k()),g(ne,"bx--modal-close",!0)}),A("click",ne,()=>{l(!1)}),b(te,ne)});var Me=I(X,2),$e=O(Me);re($e,e,"default",{},null);var ae=I(Me,2);q(ae,w,te=>{var ne=Rh();g(ne,"bx--modal-content--overflow-indicator",!0),b(te,ne)});var oe=I(ae,2);q(oe,()=>!f(),te=>{var ne=Ih();g(ne,"bx--modal-footer",!0);var se=O(ne);q(se,()=>C().length>0,St=>{var _e=ge(),Re=Y(_e);$r(Re,1,C,dl,(Ie,Fe)=>{rt(Ie,{kind:"secondary",$$events:{click:()=>{J("click:button--secondary",{text:h(Fe).text})}},children:(Lt,zt)=>{var mr=Ae();j(()=>ie(mr,h(Fe).text)),b(Lt,mr)},$$slots:{default:!0}})}),b(St,_e)},St=>{var _e=ge(),Re=Y(_e);q(Re,M,Ie=>{rt(Ie,{kind:"secondary",$$events:{click:()=>{J("click:button--secondary",{text:M()})}},children:(Fe,Lt)=>{var zt=Ae();j(()=>ie(zt,M())),b(Fe,zt)},$$slots:{default:!0}})},null,!0),b(St,_e)});var ue=I(se,2),Ge=De(()=>u()?"danger":"primary");rt(ue,{get kind(){return h(Ge)},get disabled(){return x()},get icon(){return $()},$$events:{click:()=>{J("submit"),J("click:button--primary")}},children:(St,_e)=>{var Re=Ae();j(()=>ie(Re,E())),b(St,Re)},$$slots:{default:!0}}),j(()=>g(ne,"bx--modal-footer--three-button",C().length===2)),b(te,ne)}),Be(ee,te=>S(W,te),()=>h(W)),Be(Q,te=>V(te),()=>V()),j(()=>{Oe=le(Q,Oe,{role:"presentation",id:K(),...r}),g(Q,"bx--modal",!0),g(Q,"bx--modal-tall",!f()),g(Q,"is-visible",l()),g(Q,"bx--modal--danger",u()),ce(ee,"role",d()?f()?"alert":"alertdialog":"dialog"),ce(ee,"aria-describedby",d()&&!f()?h(a):void 0),ce(ee,"aria-label",h(o)),g(ee,"bx--modal-container",!0),g(ee,"bx--modal-container--xs",c()==="xs"),g(ee,"bx--modal-container--sm",c()==="sm"),g(ee,"bx--modal-container--lg",c()==="lg"),ce(Ce,"id",h(s)),g(Ce,"bx--modal-header__heading",!0),ce(Me,"id",h(a)),ce(Me,"tabindex",w()?"0":void 0),ce(Me,"role",w()?"region":void 0),ce(Me,"aria-label",w()?h(o):void 0),ce(Me,"aria-labelledby",m()?h(i):h(s)),g(Me,"bx--modal-content",!0),g(Me,"bx--modal-content--with-form",p()),g(Me,"bx--modal-scroll-content",w())}),A("click",ee,()=>{S(G,!0)}),A("keydown",Q,function(te){P.call(this,e,te)}),A("keydown",Q,te=>{if(l())if(te.key==="Escape")l(!1);else if(te.key==="Tab"){const se=Array.from(V().querySelectorAll(`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`));let ue=se.indexOf(document.activeElement);ue===-1&&te.shiftKey&&(ue=0),ue+=se.length+(te.shiftKey?-1:1),ue%=se.length,se[ue].focus(),te.preventDefault()}else U()&&te.key==="Enter"&&!x()&&(J("submit"),J("click:button--primary"))}),A("click",Q,function(te){P.call(this,e,te)}),A("click",Q,()=>{!h(G)&&!N()&&l(!1),S(G,!1)}),A("mouseover",Q,function(te){P.call(this,e,te)}),A("mouseenter",Q,function(te){P.call(this,e,te)}),A("mouseleave",Q,function(te){P.call(this,e,te)}),A("transitionend",Q,te=>{te.propertyName==="transform"&&J("transitionend",{open:l()})}),b(n,Q),he()}var Lh=z("<button><!></button>");function zh(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["notificationType","icon","title","iconDescription"]);let i=_(e,"notificationType",8,"toast"),s=_(e,"icon",8,ln),a=_(e,"title",8,void 0),o=_(e,"iconDescription",8,"Close icon");var c=Lh();let l;var u=O(c),d=De(()=>`${(i()==="toast"&&"bx--toast-notification__close-icon")??""} ${(i()==="inline"&&"bx--inline-notification__close-icon")??""}`);wt(u,s,(f,v)=>{v(f,{size:20,get title(){return a()},get class(){return h(d)}})}),j(()=>{l=le(c,l,{type:"button","aria-label":o(),title:o(),...r}),g(c,"bx--toast-notification__close-button",i()==="toast"),g(c,"bx--inline-notification__close-button",i()==="inline")}),A("click",c,function(f){P.call(this,e,f)}),A("mouseover",c,function(f){P.call(this,e,f)}),A("mouseenter",c,function(f){P.call(this,e,f)}),A("mouseleave",c,function(f){P.call(this,e,f)}),b(n,c)}var Dh=Se("<title> </title>"),Mh=Se('<svg><!><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg>');function Nh(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=Mh();let l;var u=O(c);q(u,o,d=>{var f=Dh(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var Uh=Se("<title> </title>"),Bh=Se('<svg><!><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg>');function Fh(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=Bh();let l;var u=O(c);q(u,o,d=>{var f=Uh(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}function qh(n,e){let t=_(e,"kind",8,"error"),r=_(e,"notificationType",8,"toast"),i=_(e,"iconDescription",8);const s={error:Ah,"info-square":Fh,info:Nh,success:wh,warning:Nr,"warning-alt":Zi};var a=ge(),o=Y(a),c=De(()=>`${(r()==="toast"&&"bx--toast-notification__icon")??""} ${(r()==="inline"&&"bx--inline-notification__icon")??""}`);wt(o,()=>s[t()],(l,u)=>{u(l,{size:20,get title(){return i()},get class(){return h(c)}})}),b(n,a)}var Hh=z("<div><div><!> <div><p><!></p> <div><!></div> <!></div></div> <!> <!></div>");function ro(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["kind","lowContrast","timeout","role","title","subtitle","hideCloseButton","statusIconDescription","closeButtonDescription"]);de(e,!1);let i=_(e,"kind",8,"error"),s=_(e,"lowContrast",8,!1),a=_(e,"timeout",8,0),o=_(e,"role",8,"alert"),c=_(e,"title",8,""),l=_(e,"subtitle",8,""),u=_(e,"hideCloseButton",8,!1),d=_(e,"statusIconDescription",24,()=>i()+" icon"),f=_(e,"closeButtonDescription",8,"Close notification");const v=hn();let m=D(!0),y;function k(E){v("close",{timeout:E===!0},{cancelable:!0})&&S(m,!1)}jt(()=>(a()&&(y=setTimeout(()=>k(!0),a())),()=>{clearTimeout(y)})),fe();var p=ge(),w=Y(p);q(w,()=>h(m),E=>{var x=Hh();let $;var U=O(x);g(U,"bx--inline-notification__details",!0);var M=O(U);qh(M,{notificationType:"inline",get kind(){return i()},get iconDescription(){return d()}});var C=I(M,2);g(C,"bx--inline-notification__text-wrapper",!0);var L=O(C);g(L,"bx--inline-notification__title",!0);var N=O(L);re(N,e,"title",{},F=>{var G=Ae();j(()=>ie(G,c())),b(F,G)});var K=I(L,2);g(K,"bx--inline-notification__subtitle",!0);var V=O(K);re(V,e,"subtitle",{},F=>{var G=Ae();j(()=>ie(G,l())),b(F,G)});var J=I(K,2);re(J,e,"default",{},null);var R=I(U,2);re(R,e,"actions",{},null);var W=I(R,2);q(W,()=>!u(),F=>{zh(F,{get iconDescription(){return f()},notificationType:"inline",$$events:{click:k}})}),j(()=>{$=le(x,$,{role:o(),kind:i(),...r}),g(x,"bx--inline-notification",!0),g(x,"bx--inline-notification--low-contrast",s()),g(x,"bx--inline-notification--hide-close-button",u()),g(x,"bx--inline-notification--error",i()==="error"),g(x,"bx--inline-notification--info",i()==="info"),g(x,"bx--inline-notification--info-square",i()==="info-square"),g(x,"bx--inline-notification--success",i()==="success"),g(x,"bx--inline-notification--warning",i()==="warning"),g(x,"bx--inline-notification--warning-alt",i()==="warning-alt")}),A("click",x,function(F){P.call(this,e,F)}),A("mouseover",x,function(F){P.call(this,e,F)}),A("mouseenter",x,function(F){P.call(this,e,F)}),A("mouseleave",x,function(F){P.call(this,e,F)}),b(E,x)}),b(n,p),he()}var Vh=Se("<title> </title>"),Gh=Se('<svg><!><path d="M30 28.6L3.4 2 2 3.4l10.1 10.1L4 21.6V28h6.4l8.1-8.1L28.6 30 30 28.6zM9.6 26H6v-3.6l7.5-7.5 3.6 3.6L9.6 26zM29.4 6.2L29.4 6.2l-3.6-3.6c-.8-.8-2-.8-2.8 0l0 0 0 0-8 8 1.4 1.4L20 8.4l3.6 3.6L20 15.6l1.4 1.4 8-8C30.2 8.2 30.2 7 29.4 6.2L29.4 6.2zM25 10.6L21.4 7l3-3L28 7.6 25 10.6z"></path></svg>');function Wh(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=Gh();let l;var u=O(c);q(u,o,d=>{var f=Vh(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var Kh=z("<label><!></label>"),Jh=z("<div> </div>"),Yh=z("<div> </div>"),Zh=z("<div><div><select><!></select> <!> <!></div> <!></div> <!>",1),Qh=z("<div> </div>"),Xh=z("<div> </div>"),ef=z("<div> </div>"),tf=z("<div><select><!></select> <!> <!> <!></div> <!> <!> <!>",1),nf=z("<div><div><!> <!> <!></div></div>");function on(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["selected","size","inline","light","disabled","id","name","invalid","invalidText","warn","warnText","helperText","noLabel","labelText","hideLabel","ref","required"]);de(e,!1);const i=Ct(),s=()=>He(R,"$defaultValue",i),a=()=>He(J,"$defaultSelectId",i),o=()=>He(W,"$itemTypesByValue",i),c=()=>He(V,"$selectedValue",i),l=D();let u=_(e,"selected",12,void 0),d=_(e,"size",8,void 0),f=_(e,"inline",8,!1),v=_(e,"light",8,!1),m=_(e,"disabled",8,!1),y=_(e,"id",24,()=>"ccs-"+Math.random().toString(36)),k=_(e,"name",8,void 0),p=_(e,"invalid",8,!1),w=_(e,"invalidText",8,""),E=_(e,"warn",8,!1),x=_(e,"warnText",8,""),$=_(e,"helperText",8,""),U=_(e,"noLabel",8,!1),M=_(e,"labelText",8,""),C=_(e,"hideLabel",8,!1),L=_(e,"ref",12,null),N=_(e,"required",8,!1);const K=hn(),V=Ve(u()),J=Ve(null),R=Ve(null),W=Ve({});an("Select",{selectedValue:V,setDefaultValue:(Te,Pe)=>{s()===null?(J.set(Te),R.set(Pe)):a()===Te&&V.set(Pe),W.update(Ce=>({...Ce,[Pe]:typeof Pe}))}});const F=({target:Te})=>{let Pe=Te.value;o()[Pe]==="number"&&(Pe=Number(Pe)),V.set(Pe)};let G;Pa(()=>{u(c()),G!==void 0&&u()!==G&&K("update",c()),G=u()}),H(()=>T(y()),()=>{S(l,`error-${y()}`)}),H(()=>(T(u()),s()),()=>{V.set(u()??s())}),me(),fe();var ve=nf();let Z;var Q=O(ve);g(Q,"bx--select",!0);var Oe=O(Q);q(Oe,()=>!U(),Te=>{var Pe=Kh(),Ce=O(Pe);re(Ce,e,"labelText",{},pe=>{var xe=Ae();j(()=>ie(xe,M())),b(pe,xe)}),j(()=>{ce(Pe,"for",y()),g(Pe,"bx--label",!0),g(Pe,"bx--visually-hidden",C()),g(Pe,"bx--label--disabled",m())}),b(Te,Pe)});var ee=I(Oe,2);q(ee,f,Te=>{var Pe=Zh(),Ce=Y(Pe);g(Ce,"bx--select-input--inline__wrapper",!0);var pe=O(Ce),xe=O(pe),Me=O(xe);re(Me,e,"default",{},null),Be(xe,ne=>L(ne),()=>L());var $e=I(xe,2);Ri($e,{class:"bx--select__arrow"});var ae=I($e,2);q(ae,p,ne=>{Nr(ne,{class:"bx--select__invalid-icon"})});var oe=I(pe,2);q(oe,p,ne=>{var se=Jh(),ue=O(se);j(()=>{ce(se,"id",h(l)),g(se,"bx--form-requirement",!0),ie(ue,w())}),b(ne,se)});var te=I(Ce,2);q(te,()=>!p()&&!E()&&$(),ne=>{var se=Yh();g(se,"bx--form__helper-text",!0);var ue=O(se);j(()=>{g(se,"bx--form__helper-text--disabled",m()),ie(ue,$())}),b(ne,se)}),j(()=>{ce(pe,"data-invalid",p()||void 0),g(pe,"bx--select-input__wrapper",!0),ce(xe,"aria-describedby",p()?h(l):void 0),ce(xe,"aria-invalid",p()||void 0),xe.disabled=m()||void 0,xe.required=N()||void 0,ce(xe,"id",y()),ce(xe,"name",k()),g(xe,"bx--select-input",!0),g(xe,"bx--select-input--sm",d()==="sm"),g(xe,"bx--select-input--xl",d()==="xl")}),A("change",xe,F),A("change",xe,function(ne){P.call(this,e,ne)}),A("input",xe,function(ne){P.call(this,e,ne)}),A("focus",xe,function(ne){P.call(this,e,ne)}),A("blur",xe,function(ne){P.call(this,e,ne)}),b(Te,Pe)});var X=I(ee,2);q(X,()=>!f(),Te=>{var Pe=tf(),Ce=Y(Pe),pe=O(Ce),xe=O(pe);re(xe,e,"default",{},null),Be(pe,se=>L(se),()=>L());var Me=I(pe,2);Ri(Me,{class:"bx--select__arrow"});var $e=I(Me,2);q($e,p,se=>{Nr(se,{class:"bx--select__invalid-icon"})});var ae=I($e,2);q(ae,()=>!p()&&E(),se=>{Zi(se,{class:"bx--select__invalid-icon bx--select__invalid-icon--warning"})});var oe=I(Ce,2);q(oe,()=>!p()&&$(),se=>{var ue=Qh();g(ue,"bx--form__helper-text",!0);var Ge=O(ue);j(()=>{g(ue,"bx--form__helper-text--disabled",m()),ie(Ge,$())}),b(se,ue)});var te=I(oe,2);q(te,p,se=>{var ue=Xh(),Ge=O(ue);j(()=>{ce(ue,"id",h(l)),g(ue,"bx--form-requirement",!0),ie(Ge,w())}),b(se,ue)});var ne=I(te,2);q(ne,()=>!p()&&E(),se=>{var ue=ef(),Ge=O(ue);j(()=>{ce(ue,"id",h(l)),g(ue,"bx--form-requirement",!0),ie(Ge,x())}),b(se,ue)}),j(()=>{ce(Ce,"data-invalid",p()||void 0),g(Ce,"bx--select-input__wrapper",!0),ce(pe,"id",y()),ce(pe,"name",k()),ce(pe,"aria-describedby",p()?h(l):void 0),pe.disabled=m()||void 0,pe.required=N()||void 0,ce(pe,"aria-invalid",p()||void 0),g(pe,"bx--select-input",!0),g(pe,"bx--select-input--sm",d()==="sm"),g(pe,"bx--select-input--xl",d()==="xl")}),A("change",pe,F),A("change",pe,function(se){P.call(this,e,se)}),A("input",pe,function(se){P.call(this,e,se)}),A("focus",pe,function(se){P.call(this,e,se)}),A("blur",pe,function(se){P.call(this,e,se)}),b(Te,Pe)}),j(()=>{Z=le(ve,Z,{...r}),g(ve,"bx--form-item",!0),g(Q,"bx--select--inline",f()),g(Q,"bx--select--light",v()),g(Q,"bx--select--invalid",p()),g(Q,"bx--select--disabled",m()),g(Q,"bx--select--warning",E())}),b(n,ve),he()}var rf=z("<option> </option>");function Ue(n,e){de(e,!1);let t=_(e,"value",8,""),r=_(e,"text",8,""),i=_(e,"hidden",8,!1),s=_(e,"disabled",8,!1),a=_(e,"class",8,void 0),o=_(e,"style",8,void 0);const c="ccs-"+Math.random().toString(36),l=Ot("Select")||Ot("TimePickerSelect");let u=D(!1);const d=l.selectedValue.subscribe(y=>{S(u,y===t())});jt(()=>()=>d()),H(()=>T(t()),()=>{var y;(y=l==null?void 0:l.setDefaultValue)==null||y.call(l,c,t())}),me(),fe();var f=rf(),v={},m=O(f);j(()=>{v!==(v=t())&&(f.value=(f.__value=t())==null?"":t()),f.disabled=s(),f.hidden=i(),f.selected=h(u),ka(f,a()),ce(f,"style",o()),g(f,"bx--select-option",!0),ie(m,r()||t())}),b(n,f),he()}var sf=z("<span></span>");function af(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size"]);let i=_(e,"size",8,"default");var s=sf();let a;j(()=>{a=le(s,a,{...r}),g(s,"bx--tag",!0),g(s,"bx--tag--sm",i()==="sm"),g(s,"bx--skeleton",!0)}),A("click",s,function(o){P.call(this,e,o)}),A("mouseover",s,function(o){P.call(this,e,o)}),A("mouseenter",s,function(o){P.call(this,e,o)}),A("mouseleave",s,function(o){P.call(this,e,o)}),b(n,s)}var of=z("<span> </span>"),lf=z('<div><!> <button type="button"><!></button></div>'),cf=z("<div><!></div>"),uf=z("<button><!> <span><!></span></button>"),df=z("<div><!></div>"),hf=z("<div><!> <span><!></span></div>");function ff(n,e){const t=Un(e),r=B(e,["children","$$slots","$$events","$$legacy"]),i=B(r,["type","size","filter","disabled","interactive","skeleton","title","icon","id"]);de(e,!1);let s=_(e,"type",8,void 0),a=_(e,"size",8,"default"),o=_(e,"filter",8,!1),c=_(e,"disabled",8,!1),l=_(e,"interactive",8,!1),u=_(e,"skeleton",8,!1),d=_(e,"title",8,"Clear filter"),f=_(e,"icon",8,void 0),v=_(e,"id",24,()=>"ccs-"+Math.random().toString(36));const m=hn();fe();var y=ge(),k=Y(y);q(k,u,p=>{af(p,pt({get size(){return a()}},()=>i,{$$events:{click(w){P.call(this,e,w)},mouseover(w){P.call(this,e,w)},mouseenter(w){P.call(this,e,w)},mouseleave(w){P.call(this,e,w)}}}))},p=>{var w=ge(),E=Y(w);q(E,o,x=>{var $=lf();let U;var M=O($);re(M,e,"default",{props:{class:"bx--tag__label"}},N=>{var K=of();g(K,"bx--tag__label",!0);var V=O(K);j(()=>ie(V,s())),b(N,K)});var C=I(M,2),L=O(C);ln(L,{}),j(()=>{U=le($,U,{"aria-label":d(),id:v(),...i}),g($,"bx--tag",!0),g($,"bx--tag--disabled",c()),g($,"bx--tag--filter",o()),g($,"bx--tag--sm",a()==="sm"),g($,"bx--tag--red",s()==="red"),g($,"bx--tag--magenta",s()==="magenta"),g($,"bx--tag--purple",s()==="purple"),g($,"bx--tag--blue",s()==="blue"),g($,"bx--tag--cyan",s()==="cyan"),g($,"bx--tag--teal",s()==="teal"),g($,"bx--tag--green",s()==="green"),g($,"bx--tag--gray",s()==="gray"),g($,"bx--tag--cool-gray",s()==="cool-gray"),g($,"bx--tag--warm-gray",s()==="warm-gray"),g($,"bx--tag--high-contrast",s()==="high-contrast"),g($,"bx--tag--outline",s()==="outline"),ce(C,"aria-labelledby",v()),C.disabled=c(),ce(C,"title",d()),g(C,"bx--tag__close-icon",!0)}),A("click",C,wi(function(N){P.call(this,e,N)})),A("click",C,wi(()=>{m("close")})),A("mouseover",C,function(N){P.call(this,e,N)}),A("mouseenter",C,function(N){P.call(this,e,N)}),A("mouseleave",C,function(N){P.call(this,e,N)}),b(x,$)},x=>{var $=ge(),U=Y($);q(U,l,M=>{var C=uf();let L;var N=O(C);q(N,()=>t.icon||f(),J=>{var R=cf();g(R,"bx--tag__custom-icon",!0);var W=O(R);re(W,e,"icon",{},F=>{var G=ge(),ve=Y(G);wt(ve,f,(Z,Q)=>{Q(Z,{})}),b(F,G)}),b(J,R)});var K=I(N,2),V=O(K);re(V,e,"default",{},null),j(()=>{L=le(C,L,{type:"button",id:v(),disabled:c(),"aria-disabled":c(),tabindex:c()?"-1":void 0,...i}),g(C,"bx--tag",!0),g(C,"bx--tag--interactive",!0),g(C,"bx--tag--disabled",c()),g(C,"bx--tag--sm",a()==="sm"),g(C,"bx--tag--red",s()==="red"),g(C,"bx--tag--magenta",s()==="magenta"),g(C,"bx--tag--purple",s()==="purple"),g(C,"bx--tag--blue",s()==="blue"),g(C,"bx--tag--cyan",s()==="cyan"),g(C,"bx--tag--teal",s()==="teal"),g(C,"bx--tag--green",s()==="green"),g(C,"bx--tag--gray",s()==="gray"),g(C,"bx--tag--cool-gray",s()==="cool-gray"),g(C,"bx--tag--warm-gray",s()==="warm-gray"),g(C,"bx--tag--high-contrast",s()==="high-contrast"),g(C,"bx--tag--outline",s()==="outline")}),A("click",C,function(J){P.call(this,e,J)}),A("mouseover",C,function(J){P.call(this,e,J)}),A("mouseenter",C,function(J){P.call(this,e,J)}),A("mouseleave",C,function(J){P.call(this,e,J)}),b(M,C)},M=>{var C=hf();let L;var N=O(C);q(N,()=>t.icon||f(),J=>{var R=df();g(R,"bx--tag__custom-icon",!0);var W=O(R);re(W,e,"icon",{},F=>{var G=ge(),ve=Y(G);wt(ve,f,(Z,Q)=>{Q(Z,{})}),b(F,G)}),b(J,R)});var K=I(N,2),V=O(K);re(V,e,"default",{},null),j(()=>{L=le(C,L,{id:v(),...i}),g(C,"bx--tag",!0),g(C,"bx--tag--disabled",c()),g(C,"bx--tag--sm",a()==="sm"),g(C,"bx--tag--red",s()==="red"),g(C,"bx--tag--magenta",s()==="magenta"),g(C,"bx--tag--purple",s()==="purple"),g(C,"bx--tag--blue",s()==="blue"),g(C,"bx--tag--cyan",s()==="cyan"),g(C,"bx--tag--teal",s()==="teal"),g(C,"bx--tag--green",s()==="green"),g(C,"bx--tag--gray",s()==="gray"),g(C,"bx--tag--cool-gray",s()==="cool-gray"),g(C,"bx--tag--warm-gray",s()==="warm-gray"),g(C,"bx--tag--high-contrast",s()==="high-contrast"),g(C,"bx--tag--outline",s()==="outline")}),A("click",C,function(J){P.call(this,e,J)}),A("mouseover",C,function(J){P.call(this,e,J)}),A("mouseenter",C,function(J){P.call(this,e,J)}),A("mouseleave",C,function(J){P.call(this,e,J)}),b(M,C)},!0),b(x,$)},!0),b(p,w)}),b(n,y),he()}var vf=z("<label><!></label>"),_f=z("<div> </div>"),gf=z("<div><!> <!></div>"),bf=z("<label><!></label>"),mf=z("<!> <!>",1),yf=z("<hr>"),pf=z("<div> </div>"),wf=z("<div> </div>"),xf=z("<div> </div>"),kf=z("<div> </div>"),Sf=z("<div> </div>"),Ef=z("<div><!> <!> <div><div><!> <input> <!> <!> <!></div> <!> <!> <!></div></div>");function Ye(n,e){const t=Un(e),r=B(e,["children","$$slots","$$events","$$legacy"]),i=B(r,["size","value","placeholder","light","disabled","helperText","id","name","labelText","hideLabel","invalid","invalidText","warn","warnText","ref","required","inline","readonly"]);de(e,!1);const s=D(),a=D(),o=D(),c=D();let l=_(e,"size",8,void 0),u=_(e,"value",12,""),d=_(e,"placeholder",8,""),f=_(e,"light",8,!1),v=_(e,"disabled",8,!1),m=_(e,"helperText",8,""),y=_(e,"id",24,()=>"ccs-"+Math.random().toString(36)),k=_(e,"name",8,void 0),p=_(e,"labelText",8,""),w=_(e,"hideLabel",8,!1),E=_(e,"invalid",8,!1),x=_(e,"invalidText",8,""),$=_(e,"warn",8,!1),U=_(e,"warnText",8,""),M=_(e,"ref",12,null),C=_(e,"required",8,!1),L=_(e,"inline",8,!1),N=_(e,"readonly",8,!1);const K=Ot("Form"),V=hn();function J(ae){return i.type!=="number"?ae:ae!=""?Number(ae):null}const R=ae=>{u(J(ae.target.value)),V("input",u())},W=ae=>{V("change",J(ae.target.value))},F=!!K&&K.isFluid;H(()=>(T(E()),T(N())),()=>{S(s,E()&&!N())}),H(()=>T(y()),()=>{S(a,`helper-${y()}`)}),H(()=>T(y()),()=>{S(o,`error-${y()}`)}),H(()=>T(y()),()=>{S(c,`warn-${y()}`)}),me(),fe();var G=Ef();g(G,"bx--form-item",!0),g(G,"bx--text-input-wrapper",!0);var ve=O(G);q(ve,L,ae=>{var oe=gf();g(oe,"bx--text-input__label-helper-wrapper",!0);var te=O(oe);q(te,p,se=>{var ue=vf(),Ge=O(ue);re(Ge,e,"labelText",{},St=>{var _e=Ae();j(()=>ie(_e,p())),b(St,_e)}),j(()=>{ce(ue,"for",y()),g(ue,"bx--label",!0),g(ue,"bx--visually-hidden",w()),g(ue,"bx--label--disabled",v()),g(ue,"bx--label--inline",L()),g(ue,"bx--label--inline--sm",l()==="sm"),g(ue,"bx--label--inline--xl",l()==="xl")}),b(se,ue)});var ne=I(te,2);q(ne,()=>!F&&m(),se=>{var ue=_f();g(ue,"bx--form__helper-text",!0);var Ge=O(ue);j(()=>{g(ue,"bx--form__helper-text--disabled",v()),g(ue,"bx--form__helper-text--inline",L()),ie(Ge,m())}),b(se,ue)}),b(ae,oe)});var Z=I(ve,2);q(Z,()=>!L()&&(p()||t.labelText),ae=>{var oe=bf(),te=O(oe);re(te,e,"labelText",{},ne=>{var se=Ae();j(()=>ie(se,p())),b(ne,se)}),j(()=>{ce(oe,"for",y()),g(oe,"bx--label",!0),g(oe,"bx--visually-hidden",w()),g(oe,"bx--label--disabled",v()),g(oe,"bx--label--inline",L()),g(oe,"bx--label--inline-sm",L()&&l()==="sm"),g(oe,"bx--label--inline-xl",L()&&l()==="xl")}),b(ae,oe)});var Q=I(Z,2);g(Q,"bx--text-input__field-outer-wrapper",!0);var Oe=O(Q),ee=O(Oe);q(ee,N,ae=>{Wh(ae,{class:"bx--text-input__readonly-icon"})},ae=>{var oe=mf(),te=Y(oe);q(te,E,se=>{Nr(se,{class:"bx--text-input__invalid-icon"})});var ne=I(te,2);q(ne,()=>!E()&&$(),se=>{Zi(se,{class:`bx--text-input__invalid-icon
            bx--text-input__invalid-icon--warning`})}),b(ae,oe)});var X=I(ee,2);let Te;Be(X,ae=>M(ae),()=>M());var Pe=I(X,2);q(Pe,()=>F,ae=>{var oe=yf();g(oe,"bx--text-input__divider",!0),b(ae,oe)});var Ce=I(Pe,2);q(Ce,()=>F&&!L()&&E(),ae=>{var oe=pf(),te=O(oe);j(()=>{ce(oe,"id",h(o)),g(oe,"bx--form-requirement",!0),ie(te,x())}),b(ae,oe)});var pe=I(Ce,2);q(pe,()=>F&&!L()&&$(),ae=>{var oe=wf(),te=O(oe);j(()=>{ce(oe,"id",h(c)),g(oe,"bx--form-requirement",!0),ie(te,U())}),b(ae,oe)});var xe=I(Oe,2);q(xe,()=>!E()&&!$()&&!F&&!L()&&m(),ae=>{var oe=xf(),te=O(oe);j(()=>{ce(oe,"id",h(a)),g(oe,"bx--form__helper-text",!0),g(oe,"bx--form__helper-text--disabled",v()),g(oe,"bx--form__helper-text--inline",L()),ie(te,m())}),b(ae,oe)});var Me=I(xe,2);q(Me,()=>!F&&E(),ae=>{var oe=kf(),te=O(oe);j(()=>{ce(oe,"id",h(o)),g(oe,"bx--form-requirement",!0),ie(te,x())}),b(ae,oe)});var $e=I(Me,2);q($e,()=>!F&&!E()&&$(),ae=>{var oe=Sf(),te=O(oe);j(()=>{ce(oe,"id",h(c)),g(oe,"bx--form-requirement",!0),ie(te,U())}),b(ae,oe)}),j(()=>{g(G,"bx--text-input-wrapper--inline",L()),g(G,"bx--text-input-wrapper--light",f()),g(G,"bx--text-input-wrapper--readonly",N()),g(Q,"bx--text-input__field-outer-wrapper--inline",L()),ce(Oe,"data-invalid",h(s)||void 0),ce(Oe,"data-warn",$()||void 0),g(Oe,"bx--text-input__field-wrapper",!0),g(Oe,"bx--text-input__field-wrapper--warning",!E()&&$()),Te=le(X,Te,{"data-invalid":h(s)||void 0,"aria-invalid":h(s)||void 0,"data-warn":$()||void 0,"aria-describedby":h(s)?h(o):$()?h(c):m()?h(a):void 0,disabled:v(),id:y(),name:k(),placeholder:d(),required:C(),readonly:N(),...i}),g(X,"bx--text-input",!0),g(X,"bx--text-input--light",f()),g(X,"bx--text-input--invalid",h(s)),g(X,"bx--text-input--warning",$()),g(X,"bx--text-input--sm",l()==="sm"),g(X,"bx--text-input--xl",l()==="xl")}),Ea(X,u),A("change",X,W),A("input",X,R),A("keydown",X,function(ae){P.call(this,e,ae)}),A("keyup",X,function(ae){P.call(this,e,ae)}),A("focus",X,function(ae){P.call(this,e,ae)}),A("blur",X,function(ae){P.call(this,e,ae)}),A("paste",X,function(ae){P.call(this,e,ae)}),A("click",G,function(ae){P.call(this,e,ae)}),A("mouseover",G,function(ae){P.call(this,e,ae)}),A("mouseenter",G,function(ae){P.call(this,e,ae)}),A("mouseleave",G,function(ae){P.call(this,e,ae)}),b(n,G),he()}var Tf=Se("<title> </title>"),Pf=Se('<svg><!><path d="M4 6H28V8H4zM4 24H28V26H4zM4 12H28V14H4zM4 18H28V20H4z"></path></svg>');function io(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=Pf();let l;var u=O(c);q(u,o,d=>{var f=Tf(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}const Af=Ve(!1),Of=Ve(!1),Cf=Ve(!1);var $f=z("<button><!></button>");function Rf(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["ariaLabel","isOpen","iconMenu","iconClose","ref"]);let i=_(e,"ariaLabel",8,void 0),s=_(e,"isOpen",12,!1),a=_(e,"iconMenu",8,io),o=_(e,"iconClose",8,ln),c=_(e,"ref",12,null);var l=$f();let u;var d=O(l);wt(d,()=>s()?o():a(),(f,v)=>{v(f,{size:20})}),Be(l,f=>c(f),()=>c()),j(()=>{u=le(l,u,{type:"button",title:i(),"aria-label":i(),...r}),g(l,"bx--header__action",!0),g(l,"bx--header__menu-trigger",!0),g(l,"bx--header__menu-toggle",!0)}),A("click",l,function(f){P.call(this,e,f)}),A("click",l,()=>s(!s())),b(n,l)}var If=z("<span><!></span>"),jf=z("<header><!> <!> <a><!> <!></a> <!></header>");function Lf(n,e){const t=Un(e),r=B(e,["children","$$slots","$$events","$$legacy"]),i=B(r,["expandedByDefault","isSideNavOpen","uiShellAriaLabel","href","company","platformName","persistentHamburgerMenu","expansionBreakpoint","ref","iconMenu","iconClose"]);de(e,!1);const s=Ct(),a=()=>He(Af,"$shouldRenderHamburgerMenu",s),o=D();let c=_(e,"expandedByDefault",8,!0),l=_(e,"isSideNavOpen",12,!1),u=_(e,"uiShellAriaLabel",8,void 0),d=_(e,"href",8,void 0),f=_(e,"company",8,void 0),v=_(e,"platformName",8,""),m=_(e,"persistentHamburgerMenu",8,!1),y=_(e,"expansionBreakpoint",8,1056),k=_(e,"ref",12,null),p=_(e,"iconMenu",8,io),w=_(e,"iconClose",8,ln),E=D(void 0);H(()=>(T(c()),h(E),T(y()),T(m())),()=>{l(c()&&h(E)>=y()&&!m())}),H(()=>(T(f()),T(u()),T(r),T(v())),()=>{S(o,f()?`${f()} `:""+(u()||r["aria-label"]||v()))}),me(),fe();var x=jf(),$=O(x);re($,e,"skip-to-content",{},null);var U=I($,2);q(U,()=>a()&&h(E)<y()||m(),V=>{Rf(V,{get isOpen(){return l()},set isOpen(J){l(J)},get iconClose(){return w()},get iconMenu(){return p()},$$legacy:!0})});var M=I(U,2);let C;var L=O(M);q(L,()=>f()||t.company,V=>{var J=If();g(J,"bx--header__name--prefix",!0);var R=O(J);re(R,e,"company",{},W=>{var F=Ae();j(()=>ie(F,`${f()??""} `)),b(W,F)}),b(V,J)});var N=I(L,2);re(N,e,"platform",{},V=>{var J=Ae();j(()=>ie(J,v())),b(V,J)}),Be(M,V=>k(V),()=>k());var K=I(M,2);re(K,e,"default",{},null),j(()=>{ce(x,"aria-label",h(o)),g(x,"bx--header",!0),C=le(M,C,{href:d(),...i}),g(M,"bx--header__name",!0)}),Pl("innerWidth",V=>S(E,V)),A("click",M,function(V){P.call(this,e,V)}),b(n,x),he()}var zf=z("<nav><ul><!></ul></nav>");function Df(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,[]);de(e,!1);const i=D();H(()=>T(t),()=>{S(i,{"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"]})}),me(),fe();var s=zf();let a;var o=O(s);let c;var l=O(o);re(l,e,"default",{},null),j(()=>{a=le(s,a,{...h(i),...r}),g(s,"bx--header__nav",!0),c=le(o,c,{...h(i),role:"menubar"}),g(o,"bx--header__menu-bar",!0)}),b(n,s),he()}var Mf=z('<li role="none"><a><span><!></span></a></li>');function xn(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["href","text","isSelected","ref"]);de(e,!1);let i=_(e,"href",8,void 0),s=_(e,"text",8,void 0),a=_(e,"isSelected",8,!1),o=_(e,"ref",12,null);const c="ccs-"+Math.random().toString(36),l=Ot("HeaderNavMenu");let u=D([]);const d=l==null?void 0:l.selectedItems.subscribe(p=>{S(u,Object.keys(p))});jt(()=>()=>{d&&d()}),H(()=>T(a()),()=>{l==null||l.updateSelectedItems({id:c,isSelected:a()})}),me(),fe();var f=Mf(),v=O(f);let m;var y=O(v);g(y,"bx--text-truncate--end",!0);var k=O(y);re(k,e,"default",{},p=>{var w=Ae();j(()=>ie(w,s())),b(p,w)}),Be(v,p=>o(p),()=>o()),j(()=>{m=le(v,m,{role:"menuitem",tabindex:"0",href:i(),rel:r.target==="_blank"?"noopener noreferrer":void 0,"aria-current":a()?"page":void 0,...r}),g(v,"bx--header__menu-item",!0)}),A("click",v,function(p){P.call(this,e,p)}),A("mouseover",v,function(p){P.call(this,e,p)}),A("mouseenter",v,function(p){P.call(this,e,p)}),A("mouseleave",v,function(p){P.call(this,e,p)}),A("keyup",v,function(p){P.call(this,e,p)}),A("keydown",v,function(p){P.call(this,e,p)}),A("focus",v,function(p){P.call(this,e,p)}),A("blur",v,function(p){P.call(this,e,p)}),A("blur",v,()=>{h(u).indexOf(c)===h(u).length-1&&(l==null||l.closeMenu())}),b(n,f),he()}var Nf=z('<li role="none"><a> <!></a> <ul role="menu"><!></ul></li>');function Uf(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["expanded","href","text","ref"]);de(e,!1);const i=Ct(),s=()=>He(d,"$selectedItems",i),a=D();let o=_(e,"expanded",12,!1),c=_(e,"href",8,"/"),l=_(e,"text",8,void 0),u=_(e,"ref",12,null);const d=Ve({});let f=D(null);an("HeaderNavMenu",{selectedItems:d,updateSelectedItems(x){d.update($=>({...$,[x.id]:x.isSelected}))},closeMenu(){o(!1)}}),H(()=>s(),()=>{S(a,Object.values(s()).filter(Boolean).length>0)}),me(),fe();var v=Nf();A("click",gi,({target:x})=>{u().contains(x)||o(!1)}),g(v,"bx--header__submenu",!0);var m=O(v);let y;var k=O(m),p=I(k);Ri(p,{class:"bx--header__menu-arrow"}),Be(m,x=>u(x),()=>u());var w=I(m,2),E=O(w);re(E,e,"default",{},null),Be(w,x=>S(f,x),()=>h(f)),j(()=>{g(v,"bx--header__submenu--current",h(a)),y=le(m,y,{role:"menuitem",tabindex:"0","aria-haspopup":"menu","aria-expanded":o(),"aria-label":l(),href:c(),...r}),g(m,"bx--header__menu-item",!0),g(m,"bx--header__menu-title",!0),Hi(m,"z-index",1),ie(k,`${l()??""} `),ce(w,"aria-label",l()),g(w,"bx--header__menu",!0)}),A("keydown",m,function(x){P.call(this,e,x)}),A("keydown",m,x=>{x.key===" "&&x.preventDefault(),(x.key==="Enter"||x.key===" ")&&o(!o())}),A("click",m,Al(function(x){P.call(this,e,x)})),A("mouseover",m,function(x){P.call(this,e,x)}),A("mouseenter",m,function(x){P.call(this,e,x)}),A("mouseleave",m,function(x){P.call(this,e,x)}),A("keyup",m,function(x){P.call(this,e,x)}),A("focus",m,function(x){P.call(this,e,x)}),A("blur",m,function(x){P.call(this,e,x)}),A("click",v,x=>{h(f).contains(x.target)||x.preventDefault(),o(!o())}),A("keydown",v,x=>{x.key==="Enter"&&(x.stopPropagation(),o(!o()))}),b(n,v),he()}var Bf=z("<div><!></div>");function Ff(n,e){var t=Bf();g(t,"bx--header__global",!0);var r=O(t);re(r,e,"default",{},null),b(n,t)}var qf=z("<main><!></main>");function Hf(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["id"]);de(e,!1);const i=Ct(),s=()=>He(Of,"$isSideNavCollapsed",i),a=()=>He(Cf,"$isSideNavRail",i),o=D();let c=_(e,"id",8,"main-content");H(()=>(s(),a()),()=>{S(o,s()&&!a())}),me();var l=qf();let u;var d=O(l);re(d,e,"default",{},null),j(()=>{u=le(l,u,{id:c(),...r}),g(l,"bx--content",!0),Hi(l,"margin-left",h(o)?0:void 0)}),b(n,l),he()}var Vf=z("<a><!></a>");function Gf(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["href","tabindex"]);let i=_(e,"href",8,"#main-content"),s=_(e,"tabindex",8,"0");var a=Vf();let o;var c=O(a);re(c,e,"default",{},l=>{var u=Ae("Skip to main content");b(l,u)}),j(()=>{o=le(a,o,{href:i(),tabindex:s(),...r}),g(a,"bx--skip-to-content",!0)}),A("click",a,function(l){P.call(this,e,l)}),b(n,a)}function Us(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["isActive","icon","ref"]);de(e,!1);const i=D();let s=_(e,"isActive",8,!1),a=_(e,"icon",8,void 0),o=_(e,"ref",12,null);H(()=>(T(s()),T(r)),()=>{S(i,["bx--header__action",s()&&" bx--header__action--active",r.class].filter(Boolean).join(" "))}),me(),fe(),rt(n,pt({get ref(){return o()},set ref(c){o(c)}},()=>r,{get class(){return h(i)},$$events:{click(c){P.call(this,e,c)}},$$slots:{icon:(c,l)=>{var u=ge(),d=Y(u);wt(d,a,(f,v)=>{v(f,{slot:"icon",size:20})}),b(c,u)}},$$legacy:!0})),he()}var Wf=z("<!> <!> <!> <!> <!> <!> <!>",1),Kf=z("<h1>Регистрация</h1> <!> <!>",1);function Jf(n,e){de(e,!1);let t=D(""),r=D(""),i=D(""),s=D(""),a=D(""),o=D(""),c=D(!1);jt(async()=>{const{data:{session:d}}=await Je.auth.getSession();d&&ir("/clients")});async function l(d){if(d.preventDefault(),h(s)!==h(a)){S(o,"Пароли не совпадают. Попробуйте снова.");return}try{S(c,!0);const{data:f,error:v}=await Je.auth.signUp({email:h(t),password:h(s),options:{emailRedirectTo:"https://your-app-url.com/clients",data:{first_name:h(r),last_name:h(i)}}});if(v)throw v;const m=f.user.id,{error:y}=await Je.from("managers").insert([{id:m,email:h(t),manager_first_name:h(r),manager_last_name:h(i)}]);if(y)throw y;S(o,"Регистрация прошла успешно. Проверьте вашу почту для подтверждения регистрации."),u()}catch(f){S(o,`Ошибка: ${f.message}`)}finally{S(c,!1)}}function u(){ir("/login")}fe(),ar(n,{children:(d,f)=>{$n(d,{children:(v,m)=>{dt(v,{children:(y,k)=>{var p=Kf(),w=I(Y(p),2);Qr(w,{$$events:{submit:l},children:(x,$)=>{var U=Wf(),M=Y(U);Ye(M,{labelText:"Email",placeholder:"Введите ваш email",type:"email",get value(){return h(t)},set value(R){S(t,R)},required:!0,$$legacy:!0});var C=I(M,2);Ye(C,{labelText:"Имя",placeholder:"Введите ваше имя",get value(){return h(r)},set value(R){S(r,R)},required:!0,$$legacy:!0});var L=I(C,2);Ye(L,{labelText:"Фамилия",placeholder:"Введите вашу фамилию",get value(){return h(i)},set value(R){S(i,R)},required:!0,$$legacy:!0});var N=I(L,2);Ye(N,{labelText:"Пароль",placeholder:"Введите пароль",type:"password",get value(){return h(s)},set value(R){S(s,R)},required:!0,$$legacy:!0});var K=I(N,2);Ye(K,{labelText:"Подтверждение пароля",placeholder:"Повторите пароль",type:"password",get value(){return h(a)},set value(R){S(a,R)},required:!0,$$legacy:!0});var V=I(K,2);rt(V,{type:"submit",get loading(){return h(c)},children:(R,W)=>{var F=Ae("Зарегистрироваться");b(R,F)},$$slots:{default:!0}});var J=I(V,2);rt(J,{kind:"tertiary",$$events:{click:u},children:(R,W)=>{var F=Ae("Войти");b(R,F)},$$slots:{default:!0}}),b(x,U)},$$slots:{default:!0}});var E=I(w,2);q(E,()=>h(o),x=>{var $=De(()=>h(o).includes("успешно")?"success":"error"),U=De(()=>h(o).includes("успешно")?"Успех!":"Ошибка!");ro(x,{get kind(){return h($)},get title(){return h(U)},get subtitle(){return h(o)}})}),b(y,p)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),he()}var Yf=z("<!> <!> <!> <!>",1),Zf=z("<!> <!> <!>",1),Qf=z("<!> <!> <!>",1),Xf=z("<!> <!> <!> <!> <!> <!> <!> <!>",1);function ev(n,e){de(e,!1);let t=_(e,"open",12,!1),r=_(e,"clients",28,()=>[]),i=_(e,"newClient",28,()=>({}));function s(l){l.preventDefault();const u=l.target;console.log("Form:",u),u&&u.checkValidity()?a():alert("Пожалуйста, заполните все обязательные поля")}async function a(){try{const{data:l}=await Je.auth.getUser(),u=l.user.id,{data:d,error:f}=await Je.from("managers").select("manager_first_name, manager_last_name").eq("id",u).single();if(f)throw f;const{data:v,error:m}=await Je.from("clients").insert([{...i(),manager_id:u}]).select();if(m)throw m;r([v[0],...r()]),i({first_name:"",last_name:"",object:"",phone:"",source:"",email:"",status:"Новый"}),alert("Клиент успешно добавлен"),t(!1)}catch(l){alert(l.message)}}function o(l){i(i().object=l.target.value,!0)}function c(l){i(i().source=l.target.value,!0)}fe(),Qi(n,{passiveModal:!0,get open(){return t()},set open(l){t(l)},modalHeading:"Добавить клиента",primaryButtonText:"Добавить",secondaryButtonText:"Отменить",hasForm:!0,$$events:{"click:button--secondary":()=>t(!1),open(l){P.call(this,e,l)},close(l){P.call(this,e,l)},submit:s},children:(l,u)=>{Qr(l,{id:"my-form",$$events:{submit:s},children:(d,f)=>{var v=Xf(),m=Y(v);Ye(m,{type:"text",placeholder:"Имя",get value(){return i().first_name},set value(U){i(i().first_name=U,!0)},required:!0,$$legacy:!0});var y=I(m,2);Ye(y,{type:"text",placeholder:"Фамилия",get value(){return i().last_name},set value(U){i(i().last_name=U,!0)},$$legacy:!0});var k=I(y,2);on(k,{$$events:{change:c},children:(U,M)=>{var C=Yf(),L=Y(C);Ue(L,{value:"Telegram",text:"Telegram"});var N=I(L,2);Ue(N,{value:"VK",text:"VK"});var K=I(N,2);Ue(K,{value:"Наружка",text:"Наружка"});var V=I(K,2);Ue(V,{value:"Шел мимо",text:"Шел мимо"}),b(U,C)},$$slots:{default:!0}});var p=I(k,2);on(p,{$$events:{change:o},children:(U,M)=>{var C=Zf(),L=Y(C);Ue(L,{value:"ЮЗ-Б",text:"ЮЗ-Б"});var N=I(L,2);Ue(N,{value:"ЮЗ-А",text:"ЮЗ-А"});var K=I(N,2);Ue(K,{value:"БИК TOWER",text:"БИК TOWER"}),b(U,C)},$$slots:{default:!0}});var w=I(p,2);Ye(w,{type:"tel",placeholder:"Телефон",get value(){return i().phone},set value(U){i(i().phone=U,!0)},required:!0,$$legacy:!0});var E=I(w,2);Ye(E,{type:"email",placeholder:"Email",get value(){return i().email},set value(U){i(i().email=U,!0)},$$legacy:!0});var x=I(E,2);on(x,{get selected(){return i().status},set selected(U){i(i().status=U,!0)},children:(U,M)=>{var C=Qf(),L=Y(C);Ue(L,{value:"Новый",text:"Новый"});var N=I(L,2);Ue(N,{value:"В работе",text:"В работе"});var K=I(N,2);Ue(K,{value:"Завершен",text:"Завершен"}),b(U,C)},$$slots:{default:!0},$$legacy:!0});var $=I(x,2);rt($,{type:"submit",children:(U,M)=>{var C=Ae("Добавить клиента");b(U,C)},$$slots:{default:!0}}),b(d,v)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),he()}var tv=z("<!> <!> <!>",1),nv=z("<!> <!> <!>",1);function rv(n,e){de(e,!1);let t=_(e,"open",12,!1),r=_(e,"client_events",28,()=>[]),i=_(e,"newClientEvent",28,()=>({})),s=_(e,"editingClientForEvents",12,null),a=_(e,"onEventAdded",8,l=>{});function o(l){l.preventDefault();const u=l.target;console.log("Form:",u),u&&u.checkValidity()?c(s()):alert("Пожалуйста, заполните все обязательные поля")}async function c(l){s({...l});try{const{data:u}=await Je.auth.getUser(),{data:d,error:f}=await Je.from("client_events").insert([{client_id:s().id,...i(),manager_id:s().manager_id}]).select();if(console.log("редактируем клиента с id - ",s().id),console.log("новое событие для клиента - ",i()),f)throw f;r([d[0],...r()]),i({description:"",status:""}),alert("Клиента событие успешно добавлено"),t(!1),a()(s().id)}catch(u){alert(u.message)}}fe(),Qi(n,{passiveModal:!0,get open(){return t()},set open(l){t(l)},modalHeading:"Добавить событие клиента",primaryButtonText:"Добавить",secondaryButtonText:"Отменить",hasForm:!0,$$events:{"click:button--secondary":()=>t(!1),open(l){P.call(this,e,l)},close(l){P.call(this,e,l)},submit:o},children:(l,u)=>{Qr(l,{id:"my-form",$$events:{submit:o},children:(d,f)=>{var v=nv(),m=Y(v);Ye(m,{type:"text",placeholder:"Описание события",get value(){return i().description},set value(p){i(i().description=p,!0)},$$legacy:!0});var y=I(m,2);on(y,{get selected(){return i().status},set selected(p){i(i().status=p,!0)},children:(p,w)=>{var E=tv(),x=Y(E);Ue(x,{value:"Беседа",text:"Беседа"});var $=I(x,2);Ue($,{value:"Встреча",text:"Встреча"});var U=I($,2);Ue(U,{value:"Звонок",text:"Звонок"}),b(p,E)},$$slots:{default:!0},$$legacy:!0});var k=I(y,2);rt(k,{type:"submit",children:(p,w)=>{var E=Ae("Добавить событие клиента");b(p,E)},$$slots:{default:!0}}),b(d,v)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),he()}var iv=Se("<title> </title>"),sv=Se('<svg><!><path d="M2 26H30V28H2zM25.4 9c.8-.8.8-2 0-2.8 0 0 0 0 0 0l-3.6-3.6c-.8-.8-2-.8-2.8 0 0 0 0 0 0 0l-15 15V24h6.4L25.4 9zM20.4 4L24 7.6l-3 3L17.4 7 20.4 4zM6 22v-3.6l10-10 3.6 3.6-10 10H6z"></path></svg>');function av(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=sv();let l;var u=O(c);q(u,o,d=>{var f=iv(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var ov=z("<!> <!>",1),lv=z("<td><!></td>");function cv(n,e){de(e,!1);const t=D();let r=_(e,"clients",24,()=>[]),i=_(e,"startEdit",8),s=_(e,"Admin",8,!1),a=_(e,"onButtonClick",8),o=D(""),c=D(r());function l(f){switch(f){case"Новый":return"green";case"В работе":return"blue";case"Завершен":return"red";default:return"gray"}}function u(f){S(o,f.target.value)}function d(f){return f.Touches===0?"color: red; font-weight:bold":""}H(()=>(T(r()),T(s()),h(o)),()=>{S(c,r().filter(f=>[f.first_name,f.last_name,f.object,f.phone,f.email,f.status,f.source,f.lastEventStatus,s()?f.Manager:""].filter(Boolean).join(" ").toLowerCase().includes(h(o).toLowerCase())))}),H(()=>T(s()),()=>{S(t,s()?[{key:"Manager",value:"Менеджер"},{key:"first_name",value:"Имя"},{key:"last_name",value:"Фамилия"},{key:"object",value:"Объект"},{key:"phone",value:"Телефон"},{key:"source",value:"Источник"},{key:"email",value:"Email"},{key:"status",value:"Статус"},{key:"Touches",value:"Касания"},{key:"lastEventStatus",value:"Последнее"},{key:"actions",value:"Действия"}]:[{key:"first_name",value:"Имя"},{key:"last_name",value:"Фамилия"},{key:"object",value:"Объект"},{key:"phone",value:"Телефон"},{key:"source",value:"Источник"},{key:"email",value:"Email"},{key:"status",value:"Статус"},{key:"actions",value:"Действия"}])}),me(),fe(),no(n,{sortable:!0,zebra:!0,get headers(){return h(t)},get rows(){return h(c)},children:(f,v)=>{lh(f,{children:(m,y)=>{uh(m,{children:(k,p)=>{var w=ov(),E=Y(w);mh(E,{persistent:!0,placeholder:"Поиск по всем полям...",get value(){return h(o)},set value($){S(o,$)},$$events:{input:u},$$legacy:!0});var x=I(E,2);rt(x,{$$events:{click(...$){var U;(U=a())==null||U.apply(this,$)}},children:($,U)=>{var M=Ae("Добавить клиента");b($,M)},$$slots:{default:!0}}),b(k,w)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0,cell:(f,v)=>{const m=De(()=>v.row),y=De(()=>v.cell);var k=lv();const p=De(()=>d(h(m)));var w=O(k);q(w,()=>h(y).key==="actions",E=>{rt(E,{kind:"ghost",icon:av,$$events:{click:()=>i()(h(m))},children:(x,$)=>{var U=Ae("Редактировать");b(x,U)},$$slots:{default:!0}})},E=>{var x=ge(),$=Y(x);q($,()=>h(y).key==="status",U=>{var M=De(()=>l(h(y).value));ff(U,{get type(){return h(M)},children:(C,L)=>{var N=Ae();j(()=>ie(N,h(y).value)),b(C,N)},$$slots:{default:!0}})},U=>{var M=Ae();j(()=>ie(M,h(y).value)),b(U,M)},!0),b(E,x)}),j(()=>ce(k,"style",h(p))),b(f,k)}}}),he()}var uv=Se("<title> </title>"),dv=Se('<svg><!><path d="M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"></path></svg>');function hv(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=dv();let l;var u=O(c);q(u,o,d=>{var f=uv(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var fv=z("<!> <!> <!> <!>",1),vv=z("<!> <!> <!>",1),_v=z("<!> <!> <!> <!>",1),gv=z("<!> <!> <!>",1),bv=z("<!> <!> <!>",1),mv=z("<!> <!>",1),yv=z("<h3>События</h3>"),pv=z("<!> <!>",1),wv=z("<!> <!>",1),xv=z(' <!> <div style="height:50px;"></div> <!> <!>',1);function kv(n,e){de(e,!1);let t=_(e,"open",12,!1),r=_(e,"editingClient",12,null),i=_(e,"clientEvents",24,()=>[]),s=_(e,"saveEdit",8),a=_(e,"stopEdit",8),o=_(e,"openAddEventModal",8),c=D(r().object),l=D(r().source);function u(f){r(r().object=f.target.value,!0)}function d(f){r(r().source=f.target.value,!0)}fe(),Qi(n,{get open(){return t()},set open(f){t(f)},modalHeading:"Редактировать клиента",primaryButtonText:"Сохранить",secondaryButtonText:"Отменить",$$events:{"click:button--secondary"(...f){var v;(v=a())==null||v.apply(this,f)},open(f){P.call(this,e,f)},close(f){P.call(this,e,f)},submit(...f){var v;(v=s())==null||v.apply(this,f)}},children:(f,v)=>{var m=xv(),y=Y(m);j(()=>ie(y,`${console.log("id менеджера, кому принадлежит клиент",r())??""} `));var k=I(y);ar(k,{fullWidth:!0,children:(E,x)=>{var $=mv(),U=Y($);$n(U,{children:(C,L)=>{var N=fv(),K=Y(N);dt(K,{children:(W,F)=>{Ye(W,{type:"text",get value(){return r().first_name},set value(G){r(r().first_name=G,!0)},$$legacy:!0})},$$slots:{default:!0}});var V=I(K,2);dt(V,{children:(W,F)=>{Ye(W,{type:"text",get value(){return r().last_name},set value(G){r(r().last_name=G,!0)},$$legacy:!0})},$$slots:{default:!0}});var J=I(V,2);dt(J,{children:(W,F)=>{Ye(W,{type:"tel",get value(){return r().phone},set value(G){r(r().phone=G,!0)},$$legacy:!0})},$$slots:{default:!0}});var R=I(J,2);dt(R,{children:(W,F)=>{Ye(W,{type:"email",get value(){return r().email},set value(G){r(r().email=G,!0)},$$legacy:!0})},$$slots:{default:!0}}),b(C,N)},$$slots:{default:!0}});var M=I(U,2);$n(M,{children:(C,L)=>{var N=bv(),K=Y(N);dt(K,{children:(R,W)=>{on(R,{get selected(){return h(c)},set selected(F){S(c,F)},$$events:{change:u},children:(F,G)=>{var ve=vv(),Z=Y(ve);Ue(Z,{value:"ЮЗ-Б",text:"ЮЗ-Б"});var Q=I(Z,2);Ue(Q,{value:"ЮЗ-А",text:"ЮЗ-А"});var Oe=I(Q,2);Ue(Oe,{value:"БИК TOWER",text:"БИК TOWER"}),b(F,ve)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var V=I(K,2);dt(V,{children:(R,W)=>{on(R,{get selected(){return h(l)},set selected(F){S(l,F)},$$events:{change:d},children:(F,G)=>{var ve=_v(),Z=Y(ve);Ue(Z,{value:"Telegram",text:"Telegram"});var Q=I(Z,2);Ue(Q,{value:"VK",text:"VK"});var Oe=I(Q,2);Ue(Oe,{value:"Наружка",text:"Наружка"});var ee=I(Oe,2);Ue(ee,{value:"Шел мимо",text:"Шел мимо"}),b(F,ve)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var J=I(V,2);dt(J,{children:(R,W)=>{on(R,{get selected(){return r().status},set selected(F){r(r().status=F,!0)},children:(F,G)=>{var ve=gv(),Z=Y(ve);Ue(Z,{value:"Новый",text:"Новый"});var Q=I(Z,2);Ue(Q,{value:"В работе",text:"В работе"});var Oe=I(Q,2);Ue(Oe,{value:"Завершен",text:"Завершен"}),b(F,ve)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),b(C,N)},$$slots:{default:!0}}),b(E,$)},$$slots:{default:!0}});var p=I(k,4);ar(p,{narrow:!0,children:(E,x)=>{$n(E,{children:($,U)=>{var M=wv(),C=Y(M);dt(C,{children:(N,K)=>{var V=yv();b(N,V)},$$slots:{default:!0}});var L=I(C,2);dt(L,{children:(N,K)=>{var V=pv(),J=Y(V);rt(J,{size:"field",kind:"ghost",$$events:{click(...W){var F;(F=o())==null||F.apply(this,W)}},children:(W,F)=>{var G=Ae("Добавить событие");b(W,G)},$$slots:{default:!0}});var R=I(J,2);rt(R,{size:"field",iconDescription:"Tooltip text",icon:hv,$$events:{click(...W){var F;(F=o())==null||F.apply(this,W)}}}),b(N,V)},$$slots:{default:!0}}),b($,M)},$$slots:{default:!0}})},$$slots:{default:!0}});var w=I(p,2);no(w,{headers:[{key:"created_at",value:"Дата события"},{key:"description",value:"Описание события"},{key:"status",value:"Статус события"},{key:"actions",value:"Действия"}],get rows(){return i()}}),b(f,m)},$$slots:{default:!0},$$legacy:!0}),he()}var Sv=Se("<title> </title>"),Ev=Se('<svg><!><path d="M6,30H18a2.0023,2.0023,0,0,0,2-2V25H18v3H6V4H18V7h2V4a2.0023,2.0023,0,0,0-2-2H6A2.0023,2.0023,0,0,0,4,4V28A2.0023,2.0023,0,0,0,6,30Z"></path><path d="M20.586 20.586L24.172 17 10 17 10 15 24.172 15 20.586 11.414 22 10 28 16 22 22 20.586 20.586z"></path></svg>');function Tv(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=Ev();let l;var u=O(c);q(u,o,d=>{var f=Sv(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var Pv=Se("<title> </title>"),Av=Se('<svg><!><path d="M16,8a5,5,0,1,0,5,5A5,5,0,0,0,16,8Z"></path><path d="M16,2A14,14,0,1,0,30,16,14.0158,14.0158,0,0,0,16,2Zm7.9925,22.9258A5.0016,5.0016,0,0,0,19,20H13a5.0016,5.0016,0,0,0-4.9925,4.9258,12,12,0,1,1,15.985,0Z"></path></svg>');function Ov(n,e){const t=B(e,["children","$$slots","$$events","$$legacy"]),r=B(t,["size","title"]);de(e,!1);const i=D(),s=D();let a=_(e,"size",8,16),o=_(e,"title",8,void 0);H(()=>(T(t),T(o())),()=>{S(i,t["aria-label"]||t["aria-labelledby"]||o())}),H(()=>(h(i),T(t)),()=>{S(s,{"aria-hidden":h(i)?void 0:!0,role:h(i)?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})}),me(),fe();var c=Av();let l;var u=O(c);q(u,o,d=>{var f=Pv(),v=O(f);j(()=>ie(v,o())),b(d,f)}),j(()=>l=le(c,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...h(s),...r},void 0,!0)),b(n,c),he()}var Cv=z("<!> <!> <!>",1),$v=z("<!> <!> <!> <!>",1),Rv=z("<span>Привет</span>"),Iv=z("<!> <!>",1),jv=z("<!> <!>",1),Lv=z("<h2>Мои клиенты</h2>"),zv=z("<!> <!>",1);function Dv(n,e){de(e,!1);let t=_(e,"UserStatus",8),r=D(!1);async function i(){const{error:c}=await Je.auth.signOut();c?console.error("Error signing out:",c):ir("/")}fe();var s=zv(),a=Y(s);Lf(a,{company:"БИК>",platformName:"CRM",get isSideNavOpen(){return h(r)},set isSideNavOpen(c){S(r,c)},children:(c,l)=>{var u=jv(),d=Y(u);Df(d,{children:(v,m)=>{var y=$v(),k=Y(y);xn(k,{href:"/",text:"Link 1"});var p=I(k,2);xn(p,{href:"/",text:"Link 2"});var w=I(p,2);xn(w,{href:"/",text:"Link 3"});var E=I(w,2);Uf(E,{text:"Menu",children:(x,$)=>{var U=Cv(),M=Y(U);xn(M,{href:"/",text:"Link 1"});var C=I(M,2);xn(C,{href:"/",text:"Link 2"});var L=I(C,2);xn(L,{href:"/",text:"Link 3"}),b(x,U)},$$slots:{default:!0}}),b(v,y)},$$slots:{default:!0}});var f=I(d,2);Ff(f,{children:(v,m)=>{var y=Iv(),k=Y(y);Us(k,{get iconDescription(){return t()},title:"Notifications","aria-label":"Notifications",icon:Ov,children:(w,E)=>{var x=Rv();b(w,x)},$$slots:{default:!0}});var p=I(k,2);Us(p,{iconDescription:"Log out",tooltipAlignment:"end",icon:Tv,$$events:{click:i}}),b(v,y)},$$slots:{default:!0}}),b(c,u)},$$slots:{default:!0,"skip-to-content":(c,l)=>{Gf(c,{})}},$$legacy:!0});var o=I(a,2);Hf(o,{children:(c,l)=>{ar(c,{children:(u,d)=>{$n(u,{children:(f,v)=>{dt(f,{children:(m,y)=>{var k=Lv();b(m,k)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),b(n,s),he()}var Mv=z("<!> <!> <!> <!> <!>",1);function Nv(n,e){de(e,!1);let t=D(!1),r=D(!1),i=D(!1),s=D("Unown"),a=D([]),o=D([]),c=D({}),l=D({}),u=D(!1),d=D(null);jt(async()=>{await k()});async function f(R){const{data:W,error:F}=await Je.from("managers").select("manager_first_name, manager_last_name").eq("id",R).single();return F?(console.error("Error fetching manager name:",F),null):`${W.manager_first_name} ${W.manager_last_name}`}function v(R){return new Date(R).toLocaleString()}async function m(R){const{data:W,error:F}=await Je.rpc("is_admin");return F?(console.error("Error checking admin role:",F),!1):(console.log("user_is_admin_data",W),W)}let y=D(!1);async function k(){try{console.log("Starting to load clients");const{data:R,error:W}=await Je.auth.getUser();if(W){console.error("Authentication error:",W);return}if(!R){console.error("No user data found.");return}console.log("User data:",R);let F=Je.from("clients").select("*");const G=await m(R.user);if(console.log("isAdminUser check result:",G),G){S(s,"Admin"),S(y,!0),console.log("User is admin");const{data:ve,error:Z}=await F;if(Z){console.error("Ошибка получения данных из таблицы clients:",Z);return}S(a,ve),console.log("Loaded clients:",h(a)),S(a,await Promise.all(h(a).map(async Q=>{const Oe=await f(Q.manager_id),{events:ee,count:X,lastEventStatus:Te}=await p(Q.id);return{...Q,Manager:Oe,Touches:X,lastEventStatus:Te}}))),console.log("Clients with manager emails:",h(a))}else{S(s,"Менеджер"),console.log("User is not admin"),F=F.eq("manager_id",R.user.id);const{data:ve,error:Z}=await F;if(Z){console.error("Error loading clients:",Z);return}S(a,ve)}console.log("Final clients data:",h(a))}catch(R){console.error("Unexpected error:",R)}}async function p(R){try{const{data:W,error:F}=await Je.from("client_events").select("*").eq("client_id",R).order("created_at",{ascending:!1});if(F)return console.error("Ошибка получения данных из таблицы client_events:",F),{events:[],count:0,lastEventStatus:null};const G=W.map(Q=>({...Q,created_at:v(Q.created_at)})),ve=G.length,Z=G.length>0?G[0].status:null;return console.log("lastEventStatus",Z),{events:G,count:ve,lastEventStatus:Z}}catch(W){return console.error("Unexpected error:",W),{events:[],count:0,lastEventStatus:null}}}async function w(R){await k(),console.log("Updating event counter for client:",R)}async function E(R){S(u,!0),S(d,{...R}),S(t,!0);const{events:W,count:F}=await p(R.id);S(o,W),console.log("имя редактируемого клиента",h(d).first_name)}async function x(){const R={first_name:h(d).first_name,last_name:h(d).last_name,object:h(d).object,phone:h(d).phone,source:h(d).source,email:h(d).email,status:h(d).status},{error:W}=await Je.from("clients").update(R).eq("id",h(d).id);if(W){console.error("Error:",W);return}S(u,!1),S(d,null),await k()}function $(){S(u,!1),S(t,!1),S(d,null)}function U(){S(r,!0)}function M(){S(i,!0),S(r,!1),S(u,!1)}fe();var C=Mv(),L=Y(C);Dv(L,{get UserStatus(){return h(s)}});var N=I(L,2);ev(N,{get open(){return h(r)},set open(R){S(r,R)},get clients(){return h(a)},set clients(R){S(a,R)},get newClient(){return h(l)},set newClient(R){S(l,R)},$$legacy:!0});var K=I(N,2);rv(K,{get open(){return h(i)},set open(R){S(i,R)},get client_events(){return h(o)},set client_events(R){S(o,R)},get newClientEvent(){return h(c)},set newClientEvent(R){S(c,R)},get editingClientForEvents(){return h(d)},set editingClientForEvents(R){S(d,R)},onEventAdded:w,$$legacy:!0});var V=I(K,2);cv(V,{get clients(){return h(a)},set clients(R){S(a,R)},startEdit:E,get Admin(){return h(y)},onButtonClick:U,$$legacy:!0});var J=I(V,2);q(J,()=>h(u),R=>{kv(R,{get open(){return h(t)},set open(W){S(t,W)},get editingClient(){return h(d)},set editingClient(W){S(d,W)},get clientEvents(){return h(o)},set clientEvents(W){S(o,W)},saveEdit:x,stopEdit:$,openAddEventModal:M,$$legacy:!0})}),b(n,C),he()}var Uv=z("<!> <!> <!> <!>",1),Bv=z("<h1>Вход в систему</h1> <!> <!>",1);function Bs(n,e){de(e,!1);let t=D(""),r=D("aasas"),i=D(""),s=D(!1);console.log("Component initialized"),jt(()=>(console.log("Login component mounted"),()=>{console.log("Login component cleanup")})),Ta(()=>{console.log("Login component destroyed")});async function a(c){console.log("Form submitted"),c.preventDefault();try{S(s,!0),S(i,"");const{data:l,error:u}=await Je.auth.signInWithPassword({email:h(t),password:h(r)});if(u)throw u;console.log("Login successful"),ir("/clients")}catch(l){console.error("Login error:",l),S(i,l.message)}finally{S(s,!1)}}function o(){ir("/register")}H(()=>(h(t),h(r)),()=>{console.log("Values changed:",{email:h(t),password:h(r)})}),me(),fe(),ar(n,{children:(c,l)=>{$n(c,{children:(u,d)=>{dt(u,{children:(f,v)=>{var m=Bv(),y=I(Y(m),2);q(y,()=>h(i),p=>{ro(p,{kind:"error",title:"Ошибка!",get subtitle(){return h(i)}})});var k=I(y,2);Qr(k,{$$events:{submit:a},children:(p,w)=>{var E=Uv(),x=Y(E);Ye(x,{labelText:"Email",placeholder:"Введите ваш email",type:"email",get value(){return h(t)},set value(C){S(t,C)},required:!0,$$legacy:!0});var $=I(x,2);Ye($,{labelText:"Пароль",placeholder:"Введите пароль",type:"password",get value(){return h(r)},set value(C){S(r,C)},required:!0,$$legacy:!0});var U=I($,2);rt(U,{type:"submit",get loading(){return h(s)},children:(C,L)=>{var N=Ae();j(()=>ie(N,h(s)?"Вход...":"Войти")),b(C,N)},$$slots:{default:!0}});var M=I(U,2);rt(M,{kind:"tertiary",$$events:{click:o},children:(C,L)=>{var N=Ae("Регистрация нового пользователя");b(C,N)},$$slots:{default:!0}}),b(p,E)},$$slots:{default:!0}}),b(f,m)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),he()}var Fv=z("<main><!> <!> <!> <!></main>");function qv(n){console.log("App.svelte: Component initialized");let e=window.location.pathname;console.log("App.svelte: Current URL:",e),Vl(n,{url:e,children:(t,r)=>{var i=Fv(),s=O(i);Er(s,{path:"/",component:Bs});var a=I(s,2);Er(a,{path:"/clients",component:Nv});var o=I(a,2);Er(o,{path:"/register",component:Jf});var c=I(o,2);Er(c,{path:"/login",component:Bs}),b(t,i)},$$slots:{default:!0}})}ol(qv,{target:document.getElementById("app"),props:{url:window.location.pathname}});console.log("Component initialized main");export{Hv as g};
